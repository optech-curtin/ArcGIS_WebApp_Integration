"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5897],{11506:(e,t,r)=>{function l(e,t){return e?t?4:3:t?3:2}function i(e,t,r,i){if(!t?.lengths.length)return null;e.lengths.length&&(e.lengths.length=0),e.coords.length&&(e.coords.length=0);let n=e.coords,o=[],s=r?[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY]:[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY],{lengths:a,coords:u}=t,h=l(r,i),c=0;for(let e of a){let t=function(e,t,r,i,n,o){let s=l(n,o),a=r,u=r+s,h=0,c=0,f=0,d=0,p=0;for(let r=0,l=i-1;r<l;r++,a+=s,u+=s){let r=t[a],l=t[a+1],i=t[a+2],o=t[u],s=t[u+1],m=t[u+2],y=r*s-o*l;d+=y,h+=(r+o)*y,c+=(l+s)*y,n&&(y=r*m-o*i,f+=(i+m)*y,p+=y),r<e[0]&&(e[0]=r),r>e[1]&&(e[1]=r),l<e[2]&&(e[2]=l),l>e[3]&&(e[3]=l),n&&(i<e[4]&&(e[4]=i),i>e[5]&&(e[5]=i))}if(d>0&&(d*=-1),p>0&&(p*=-1),!d)return null;let m=[h,c,.5*d];return n&&(m[3]=f,m[4]=.5*p),m}(s,u,c,e,r,i);t&&o.push(t),c+=e*h}if(o.sort((e,t)=>{let l=e[2]-t[2];return 0===l&&r&&(l=e[4]-t[4]),l}),o.length){let e=6*o[0][2];n[0]=o[0][0]/e,n[1]=o[0][1]/e,r&&(e=6*o[0][4],n[2]=0!==e?o[0][3]/e:0),(n[0]<s[0]||n[0]>s[1]||n[1]<s[2]||n[1]>s[3]||r&&(n[2]<s[4]||n[2]>s[5]))&&(n.length=0)}if(!n.length){let e=t.lengths[0]?function(e,t,r,i,n){let o=l(i,n),s=0,a=t+o,u=0,h=0,c=0,f=0;for(let t=0,l=r-1;t<l;t++,s+=o,a+=o){var d,p,m,y,g;let t=e[s],r=e[s+1],l=e[s+2],n=e[a],o=e[a+1],v=e[a+2],b=i?function(e,t,r,l,i,n){let o=l-e,s=i-t,a=n-r;return Math.sqrt(o*o+s*s+a*a)}(t,r,l,n,o,v):function(e,t,r,l){let i=r-e,n=l-t;return Math.sqrt(i*i+n*n)}(t,r,n,o);if(b)if(u+=b,i){let e=[(d=t)+.5*(n-d),(p=r)+.5*(o-p),(m=l)+.5*(v-m)];h+=b*e[0],c+=b*e[1],f+=b*e[2]}else{let e=[(y=t)+.5*(n-y),(g=r)+.5*(o-g)];h+=b*e[0],c+=b*e[1]}}return u>0?i?[h/u,c/u,f/u]:[h/u,c/u]:r>0?i?[e[t],e[t+1],e[t+2]]:[e[t],e[t+1]]:null}(u,0,a[0],r,i):null;if(!e)return null;n[0]=e[0],n[1]=e[1],r&&e.length>2&&(n[2]=e[2])}return e}r.d(t,{Q:()=>i})},51122:(e,t,r)=>{var l;r.d(t,{u:()=>l}),function(e){e[e.KILOBYTES=1024]="KILOBYTES",e[e.MEGABYTES=1048576]="MEGABYTES",e[e.GIGABYTES=0x40000000]="GIGABYTES"}(l||(l={}))},54805:(e,t,r)=>{r.d(t,{A:()=>l});class l{constructor(){this.objectIdFieldName=null,this.globalIdFieldName=null,this.geohashFieldName=null,this.geometryProperties=null,this.geometryType=null,this.spatialReference=null,this.hasZ=!1,this.hasM=!1,this.features=[],this.fields=[],this.transform=null,this.exceededTransferLimit=!1,this.uniqueIdField=null,this.queryGeometryType=null,this.queryGeometry=null}weakClone(){let e=new l;return e.objectIdFieldName=this.objectIdFieldName,e.globalIdFieldName=this.globalIdFieldName,e.geohashFieldName=this.geohashFieldName,e.geometryProperties=this.geometryProperties,e.geometryType=this.geometryType,e.spatialReference=this.spatialReference,e.hasZ=this.hasZ,e.hasM=this.hasM,e.features=this.features,e.fields=this.fields,e.transform=this.transform,e.exceededTransferLimit=this.exceededTransferLimit,e.uniqueIdField=this.uniqueIdField,e.queryGeometry=this.queryGeometry,e.queryGeometryType=this.queryGeometryType,e}}},56599:(e,t,r)=>{r.d(t,{A:()=>i});var l=r(94264);class i{constructor(e=[],t=[]){this.lengths=e??[],this.coords=t??[]}static fromJSON(e){return new i(e.lengths,e.coords)}static fromRect(e){let[t,r,l,n]=e,o=l-t,s=n-r;return new i([5],[t,r,o,0,0,s,-o,0,0,-s])}get isPoint(){return 0===this.lengths.length&&this.coords.length>=2}get maxLength(){return Math.max(...this.lengths)}get size(){return this.lengths.reduce((e,t)=>e+t)}get usedMemory(){return 64+(0,l.Qf)(this.lengths,this.coords)}area(){let e=0,t=0;if(!this.lengths.length)return 0;for(let r=0;r<this.lengths.length;r++){let l=this.lengths[r];if(l<3)continue;let i=this.coords[2*t],n=this.coords[2*t+1];for(let r=1;r<l;r+=1){let l=this.coords[2*(r+t)],o=this.coords[2*(r+t)+1];e+=-.5*(l-i)*(o+n),i=l,n=o}t+=l}return e}forEachVertex(e){let t=0;this.lengths.length||e(this.coords[0],this.coords[1]);for(let r=0;r<this.lengths.length;r++){let l=this.lengths[r];for(let r=0;r<l;r++)e(this.coords[2*(r+t)],this.coords[2*(r+t)+1]);t+=l}}deltaDecode(){let e=this.clone(),{coords:t,lengths:r}=e,l=0;for(let e of r){for(let r=1;r<e;r++)t[2*(l+r)]+=t[2*(l+r)-2],t[2*(l+r)+1]+=t[2*(l+r)-1];l+=e}return e}clone(e){if(0===this.lengths.length)return new i([],[this.coords[0],this.coords[1]]);let t=(0===this.lengths.length?1:this.lengths.reduce((e,t)=>e+t))*2,r=this.coords.slice(0,t);return e?(e.set(r),new i(this.lengths,e)):new i(Array.from(this.lengths),Array.from(r))}}},60729:(e,t,r)=>{r.d(t,{B2:()=>I,BW:()=>E,Ch:()=>ei,DF:()=>M,Di:()=>Y,E2:()=>B,IE:()=>w,Nl:()=>et,Q4:()=>en,Rk:()=>eo,Ux:()=>W,Ye:()=>U,ZF:()=>Q,eU:()=>$,eY:()=>X,hK:()=>es,jH:()=>ee,jQ:()=>el,kz:()=>er,oN:()=>V,q3:()=>H,qK:()=>k,qN:()=>F,z5:()=>C,zv:()=>J});var l=r(32391),i=r(61939),n=r(40941),o=r(42845),s=r(84766),a=r(31789),u=r(82795),h=r(54805),c=r(56599);function f(e,t){return e?t?4:3:t?3:2}let d=()=>i.A.getLogger("esri.layers.graphics.featureConversionUtils"),p={esriGeometryPoint:0,esriGeometryPolyline:2,esriGeometryPolygon:3,esriGeometryMultipoint:0,esriGeometryMultiPatch:3,esriGeometryEnvelope:0},m=(e,t,r,l,i,n)=>{e[r]=i,e[r+1]=n},y=(e,t,r,l,i,n)=>{e[r]=i,e[r+1]=n,e[r+2]=t[l+2]},g=(e,t,r,l,i,n)=>{e[r]=i,e[r+1]=n,e[r+2]=t[l+3]},v=(e,t,r,l,i,n)=>{e[r]=i,e[r+1]=n,e[r+2]=t[l+2],e[r+3]=t[l+3]};function b(e,t,r,l){if(e){if(r)return t&&l?v:y;if(t&&l)return g}else if(t&&l)return y;return m}function w({scale:e,translate:t},r){return Math.round((r-t[0])/e[0])}function I({scale:e,translate:t},r){return Math.round((t[1]-r)/e[1])}function _({scale:e,translate:t},r){return Math.round((r-t[0])/e[0])}function T({scale:e,translate:t},r){return Math.round((r-t[1])/e[1])}function A({scale:e,translate:t},r,l){return r*e[l]+t[l]}function M(e,t,r){return e?t?r?x(e):O(e):r?L(e):N(e):null}function N(e){let t=e.coords;return{x:t[0],y:t[1]}}function S(e,t){return e.coords[0]=t.x,e.coords[1]=t.y,e}function O(e){let t=e.coords;return{x:t[0],y:t[1],z:t[2]}}function P(e,t){return e.coords[0]=t.x,e.coords[1]=t.y,e.coords[2]=t.z,e}function L(e){let t=e.coords;return{x:t[0],y:t[1],m:t[2]}}function G(e,t){return e.coords[0]=t.x,e.coords[1]=t.y,e.coords[2]=t.m,e}function x(e){let t=e.coords;return{x:t[0],y:t[1],z:t[2],m:t[3]}}function D(e,t){return e.coords[0]=t.x,e.coords[1]=t.y,e.coords[2]=t.z,e.coords[3]=t.m,e}function Z(e,t){return e&&t?D:e?P:t?G:S}function F(e,t,r=Z(null!=t.z,null!=t.m)){return r(e,t)}function k(e,t,r){if(null==e)return null;let l=f(t,r),i=[];for(let t=0;t<e.coords.length;t+=l){let r=[];for(let i=0;i<l;i++)r.push(e.coords[t+i]);i.push(r)}return t?r?{points:i,hasZ:t,hasM:r}:{points:i,hasZ:t}:r?{points:i,hasM:r}:{points:i}}function q(e,t,r=f(t.hasZ,t.hasM)){e.lengths[0]=t.points.length;let l=e.coords,i=0;for(let e of t.points)for(let t=0;t<r;t++)l[i++]=e[t];return e}function E(e,t,r){if(!e)return null;let l=f(t,r),{coords:i,lengths:n}=e,o=[],s=0;for(let e of n){let t=[];for(let r=0;r<e;r++){let e=[];for(let t=0;t<l;t++)e.push(i[s++]);t.push(e)}o.push(t)}return t?r?{paths:o,hasZ:t,hasM:r}:{paths:o,hasZ:t}:r?{paths:o,hasM:r}:{paths:o}}function j(e,t,r=f(t.hasZ,t.hasM)){let{lengths:l,coords:i}=e,n=0;for(let e of t.paths){for(let t of e)for(let e=0;e<r;e++)i[n++]=t[e];l.push(e.length)}return e}function C(e,t,r){if(!e)return null;let l=f(t,r),{coords:i,lengths:n}=e,o=[],s=0;for(let e of n){let t=[];for(let r=0;r<e;r++){let e=[];for(let t=0;t<l;t++)e.push(i[s++]);t.push(e)}o.push(t)}return t?r?{rings:o,hasZ:t,hasM:r}:{rings:o,hasZ:t}:r?{rings:o,hasM:r}:{rings:o}}function U(e,t,r=t.hasZ,l=t.hasM){return $(e,t.rings,r,l)}function $(e,t,r,l){let i=f(r,l),{lengths:n,coords:o}=e,s=0;for(let r of(ea(e),t)){for(let e of r)for(let t=0;t<i;t++)o[s++]=e[t];n.push(r.length)}return e}let z=[],R=[];function B(e,t,r,l,i){z[0]=e;let[n]=Y(R,z,t,r,l,i);return eu(z),eu(R),n}function Y(e,t,r,i,n,o){if(eu(e),!r){for(let r of t){let t=o?r.attributes[o]:void 0;e.push(new u.Om(null,r.attributes,null,t))}return e}switch(r){case"esriGeometryPoint":let s=Z(i,n);for(let{geometry:r,attributes:l}of t){let t=null!=r?s(new c.A,r):null;e.push(new u.Om(t,l,null,o?l[o]:void 0))}break;case"esriGeometryMultipoint":let a=f(i,n);for(let{geometry:r,attributes:l}of t){let t=null!=r?q(new c.A,r,a):null;e.push(new u.Om(t,l,null,o?l[o]:void 0))}break;case"esriGeometryPolyline":let h=f(i,n);for(let{geometry:r,attributes:l,centroid:i}of t){let t=null!=r?j(new c.A,r,h):null,n=null!=i?F(new c.A,i):null;e.push(new u.Om(t,l,n,o?l[o]:void 0))}break;case"esriGeometryPolygon":case"esriGeometryMultiPatch":for(let{geometry:r,centroid:l,attributes:s}of t){let t=null!=r?U(new c.A,r,i,n):null,a=o?s[o]:void 0;null!=l?e.push(new u.Om(t,s,S(new c.A,l),a)):e.push(new u.Om(t,s,null,a))}break;default:d().error("convertToFeatureSet:unknown-geometry",new l.A(`Unable to parse unknown geometry type '${r}'`)),eu(e)}return e}function V(e,t,r,l){R[0]=e,K(z,R,t,r,l);let i=z[0];return eu(z),eu(R),i}function W(e,t,r){if(null==e)return null;let i=new c.A;return("hasZ"in e&&null==t&&(t=e.hasZ),"hasM"in e&&null==r&&(r=e.hasM),(0,a.fT)(e))?Z(null!=t?t:null!=e.z,null!=r?r:null!=e.m)(i,e):(0,a.Bi)(e)?U(i,e,t,r):(0,a.Rg)(e)?j(i,e,f(t,r)):(0,a.U9)(e)?q(i,e,f(t,r)):void d().error("convertFromGeometry:unknown-geometry",new l.A(`Unable to parse unknown geometry type '${e}'`))}function J(e,t,r,i){let n=e&&("coords"in e?e:e.geometry);if(null==n)return null;switch(t){case"esriGeometryPoint":{let e=N;return r&&i?e=x:r?e=O:i&&(e=L),e(n)}case"esriGeometryMultipoint":return k(n,r,i);case"esriGeometryPolyline":return E(n,r,i);case"esriGeometryPolygon":return C(n,r,i);default:return d().error("convertToGeometry:unknown-geometry",new l.A(`Unable to parse unknown geometry type '${t}'`)),null}}function K(e,t,r,i,n){if(eu(e),null==r){for(let r of t)e.push({attributes:r.attributes});return e}switch(r){case"esriGeometryPoint":let o=N;for(let r of(i&&n?o=x:i?o=O:n&&(o=L),t)){let{geometry:t,attributes:l}=r,i=null!=t?o(t):null;e.push({attributes:l,geometry:i})}break;case"esriGeometryMultipoint":for(let{geometry:r,attributes:l}of t)e.push({attributes:l,geometry:null!=r?k(r,i,n):null});break;case"esriGeometryPolyline":for(let{geometry:r,attributes:l}of t)e.push({attributes:l,geometry:null!=r?E(r,i,n):null});break;case"esriGeometryPolygon":for(let{geometry:r,attributes:l,centroid:o}of t){let t=null!=r?C(r,i,n):null;if(null!=o){let r=N(o);e.push({attributes:l,centroid:r,geometry:t})}else e.push({attributes:l,geometry:t})}break;default:d().error("convertToFeatureSet:unknown-geometry",new l.A(`Unable to parse unknown geometry type '${r}'`))}return e}function Q(e){let{objectIdFieldName:t,spatialReference:r,transform:l,fields:i,hasM:n,hasZ:o,features:s,geometryType:a,exceededTransferLimit:u,uniqueIdField:h,queryGeometry:c,queryGeometryType:f}=e,d={features:K([],s,a,o,n),fields:i,geometryType:a,objectIdFieldName:t,spatialReference:r,uniqueIdField:h,queryGeometry:J(c,f,!1,!1)};return l&&(d.transform=l),u&&(d.exceededTransferLimit=u),n&&(d.hasM=n),o&&(d.hasZ=o),d}function H(e,t){let r=new h.A,{hasM:i,hasZ:n,features:o,objectIdFieldName:s,spatialReference:a,geometryType:u,exceededTransferLimit:c,transform:f,fields:p}=e;return p&&(r.fields=p),r.geometryType=u??null,r.objectIdFieldName=s??t??null,r.spatialReference=a??null,r.objectIdFieldName?(o&&Y(r.features,o,u,n,i,r.objectIdFieldName),c&&(r.exceededTransferLimit=c),i&&(r.hasM=i),n&&(r.hasZ=n),f&&(r.transform=f)):d().error(new l.A("optimized-features:invalid-objectIdFieldName","objectIdFieldName is missing")),r}function X(e){let{transform:t,features:r,hasM:l,hasZ:i}=e;if(!t)return e;for(let e of r)null!=e.geometry&&ei(e.geometry,e.geometry,l,i,t),null!=e.centroid&&ei(e.centroid,e.centroid,l,i,t);return e.transform=null,e}function ee(e,t){let{geometryType:r,features:l,hasM:i,hasZ:n}=t;if(!e)return t;for(let t=0;t<l.length;t++){let o=l[t],s=o.weakClone();s.geometry=new c.A,et(s.geometry,o.geometry,i,n,r,e),o.centroid&&(s.centroid=new c.A,et(s.centroid,o.centroid,i,n,"esriGeometryPoint",e)),l[t]=s}return t.transform=e,t}function et(e,t,r,l,i,n,o=r,s=l){if(ea(e),!t?.coords.length)return null;let a=p[i],{coords:u,lengths:h}=t,c=f(r,l),d=f(r&&o,l&&s),m=b(r,l,o,s);if(!h.length)return m(e.coords,u,0,0,w(n,u[0]),I(n,u[1])),ea(e,c,0),e;let y,g,v,_,T=0,A=0,M=0;for(let t of h){if(t<a)continue;let r=0;A=M,v=y=w(n,u[T]),_=g=I(n,u[T+1]),m(e.coords,u,A,T,v,_),r++,T+=c,A+=d;for(let l=1;l<t;l++,T+=c)v=w(n,u[T]),_=I(n,u[T+1]),v===y&&_===g||(m(e.coords,u,A,T,v-y,_-g),A+=d,r++,y=v,g=_);r>=a&&(e.lengths.push(r),M=A)}return eu(e.coords,M),e.coords.length?e:null}function er(e,t,r,l,i,n,o=r,s=l){if(ea(e),!t?.coords.length)return null;let a=p[i],{coords:u,lengths:h}=t,c=f(r,l),d=f(r&&o,l&&s),m=b(r,l,o,s);if(!h.length)return m(e.coords,u,0,0,u[0],u[1]),ea(e,c,0),e;let y=0,g=n*n;for(let t of h){if(t<a){y+=t*c;continue}let r=e.coords.length/d,l=y,i=y+(t-1)*c;m(e.coords,u,e.coords.length,l,u[l],u[l+1]),function e(t,r,l,i,n,o,s){let a,u=i,h=0;for(let e=o+l;e<s;e+=l)(a=function(e,t,r,l){let i=e[t],n=e[t+1],o=e[r],s=e[r+1],a=e[l],u=e[l+1],h=o,c=s,f=a-h,d=u-c;if(0!==f||0!==d){let e=((i-h)*f+(n-c)*d)/(f*f+d*d);e>1?(h=a,c=u):e>0&&(h+=f*e,c+=d*e)}return(f=i-h)*f+(d=n-c)*d}(r,e,o,s))>u&&(h=e,u=a);u>i&&(h-o>l&&e(t,r,l,i,n,o,h),n(t,r,t.length,h,r[h],r[h+1]),s-h>l&&e(t,r,l,i,n,h,s))}(e.coords,u,c,g,m,l,i),m(e.coords,u,e.coords.length,i,u[i],u[i+1]);let n=e.coords.length/d-r;n>=a?e.lengths.push(n):eu(e.coords,r*d),y+=t*c}return e.coords.length?e:null}function el(e,t,r,l){if(!t?.coords?.length)return null;let i=f(r,l),n=Number.POSITIVE_INFINITY,a=Number.POSITIVE_INFINITY,u=Number.NEGATIVE_INFINITY,h=Number.NEGATIVE_INFINITY;if(t&&t.coords){let e=t.coords;for(let t=0;t<e.length;t+=i){let r=e[t],l=e[t+1];n=Math.min(n,r),u=Math.max(u,r),a=Math.min(a,l),h=Math.max(h,l)}}return(0,o.is)(e)?(0,o.BI)(e,n,a,u,h):(0,s.fA)(n,a,u,h,e),e}function ei(e,t,r,l,i){let{coords:o,lengths:s}=t,a=f(r,l);if(!o.length)return e!==t&&ea(e),e;(0,n.Lw)(i);let{originPosition:u,scale:h,translate:c}=i;eh.originPosition=u;let d=eh.scale;d[0]=h[0]??1,d[1]=-(h[1]??1),d[2]=h[2]??1,d[3]=h[3]??1;let p=eh.translate;if(p[0]=c[0]??0,p[1]=c[1]??0,p[2]=c[2]??0,p[3]=c[3]??0,!s.length){for(let t=0;t<a;++t)e.coords[t]=function({scale:e,translate:t},r,l){return r*e[l]+t[l]}(eh,o[t],t);return e!==t&&ea(e,a,0),e}let m=0;for(let t=0;t<s.length;t++){let r=s[t];e.lengths[t]=r;for(let t=0;t<a;++t)e.coords[m+t]=function({scale:e,translate:t},r,l){return r*e[l]+t[l]}(eh,o[m+t],t);let l=e.coords[m],i=e.coords[m+1];m+=a;for(let t=1;t<r;t++,m+=a){l+=o[m]*d[0],i+=o[m+1]*d[1],e.coords[m]=l,e.coords[m+1]=i;for(let t=2;t<a;++t)e.coords[m+t]=function({scale:e,translate:t},r,l){return r*e[l]+t[l]}(eh,o[m+t],t)}}return e!==t&&ea(e,o.length,s.length),e}function en(e,t,r,l,i,n){if(ea(e),e.lengths.push(...t.lengths),r===i&&l===n)for(let r=0;r<t.coords.length;r++)e.coords.push(t.coords[r]);else{let o=f(r,l),s=b(r,l,i,n),a=t.coords;for(let t=0;t<a.length;t+=o)s(e.coords,a,e.coords.length,t,a[t],a[t+1])}return e}function eo(e,t){let{coords:r,lengths:l}=e,i=0,n=0;for(let e=0;e<l.length;e++){let o=l[e];n+=function(e,t,r,l){let i=0,n=e[l*t],o=e[l*(t+1)];for(let s=1;s<r;s++){let r=n+e[l*(t+s)],a=o+e[l*(t+s)+1],u=(r-n)*(a+o);n=r,o=a,i+=u}return .5*i}(r,i,o,t),i+=o}return Math.abs(n)}function es(e,t,r,l,i){let n=f(l,i);if(!e.lengths.length){if(e.coords.length<2)return null;let[r,l]=e.coords,i=_(t,r),n=T(t,l);return new c.A([],[i,n])}let o=new c.A([],[0,0]),s=p[r],a="esriGeometryPolygon"===r||"esriGeometryPolyline"===r,u=0,h=0;for(let r=0;r<e.lengths.length;r++){let l=e.lengths[r],i=h,c=_(t,e.coords[n*u]),f=T(t,e.coords[n*u+1]);o.coords[h++]=c,o.coords[h++]=f;let p=0,y=0,g=1;for(let r=1;r<l;r++){let l=_(t,e.coords[n*(r+u)]),i=T(t,e.coords[n*(r+u)+1]);if(l!==c||i!==f){var d,m;let e=l-c,t=i-f;a&&0==(d=p)*t-e*(m=y)&&d*e+m*t>0?(o.coords[h-2]+=e,o.coords[h-1]+=t,c+=e,f+=t):(o.coords[h++]=l,o.coords[h++]=i,c=l,f=i,p=e,y=t,g+=1)}}g<s?h=i:o.lengths.push(g),u+=l}return 0===o.lengths.length?null:o}function ea(e,t=0,r=0){eu(e.lengths,r),eu(e.coords,t)}function eu(e,t=0){e.length!==t&&(e.length=t)}let eh={originPosition:"lowerLeft",scale:[1,1,1,1],translate:[0,0,0,0]}},74020:(e,t,r)=>{r.d(t,{d:()=>M});var l,i=r(81856),n=r(39166),o=r(28690),s=r(51122),a=r(32391),u=r(19158);r(57845);var h=r(16082),c=r(87196),f=r(92753),d=r(45257),p=r(77089),m=r(90525),y=r(91838);r(61939),r(33638);var g=r(12709),v=r(99047),b=r(33715),w=r(94264),I=r(48678);class _{constructor(e){!function(e){if(!e?.location)throw new a.A("tilemap:missing-location","Location missing from tilemap response");if(!1===e.valid)throw new a.A("tilemap:invalid","Tilemap response was marked as invalid");if(!e.data)throw new a.A("tilemap:missing-data","Data missing from tilemap response");if(!Array.isArray(e.data))throw new a.A("tilemap:data-mismatch","Data must be an array of numbers");if(e.data.length!==e.location.width*e.location.height)throw new a.A("tilemap:data-mismatch","Number of data items does not match width/height of tilemap")}(e);let{location:t,data:r}=e;this.location=Object.freeze((0,b.o8)(t));let l=this.location.width,i=this.location.height,n=!0,o=!0,s=function(e,t=!1){return e<=I.y9?t?Array(e).fill(0):Array(e):new Uint32Array(e)}(Math.ceil(l*i/32)),u=0;for(let e=0;e<r.length;e++){let t=e%32;r[e]?(o=!1,s[u]|=1<<t):n=!1,31===t&&++u}o?(this._availability="unavailable",this.byteSize=40):n?(this._availability="available",this.byteSize=40):(this._availability=s,this.byteSize=40+(0,w.Qf)(s))}getAvailability(e,t){if("unavailable"===this._availability||"available"===this._availability)return this._availability;let r=(e-this.location.top)*this.location.width+(t-this.location.left),l=r>>5,i=this._availability;return l<0||l>i.length?"unknown":i[l]&1<<r%32?"available":"unavailable"}static fromDefinition(e,t){let r=e.service.request||n.A,{row:l,col:i,width:o,height:s}=e,u={query:{f:"json"}};return t=t?{...u,...t}:u,r(function(e){let t;if(e.service.tileServers?.length){let r=e.service.tileServers;t=`${r&&r.length?r[e.row%r.length]:e.service.url}/tilemap/${e.level}/${e.row}/${e.col}/${e.width}/${e.height}`}else t=`${e.service.url}/tilemap/${e.level}/${e.row}/${e.col}/${e.width}/${e.height}`;let r=e.service.query;return r&&(t=`${t}?${r}`),t}(e),t).then(e=>e.data).catch(e=>{if(422===e?.details?.httpStatus)return{location:{top:l,left:i,width:o,height:s},valid:!0,data:Array(o*s).fill(0)};throw e}).then(e=>{if(e.location&&(e.location.top!==l||e.location.left!==i||e.location.width!==o||e.location.height!==s))throw new a.A("tilemap:location-mismatch","Tilemap response for different location than requested",{response:e,definition:{top:l,left:i,width:o,height:s}});return _.fromJSON(e)})}static fromJSON(e){return Object.freeze(new _(e))}}function T(e){return`${e.level}/${e.row}/${e.col}/${e.width}/${e.height}`}function A(e,t,r){return new a.A("tile-map:tile-unavailable","Tile is not available",{level:e,row:t,col:r})}let M=l=class extends o.A{constructor(e){super(e),this._pendingTilemapRequests={},this.request=n.A,this.size=32,this._prefetchingEnabled=!0}initialize(){this._tilemapCache=new h.q(2*s.u.MEGABYTES),this.addHandles((0,d.wB)(()=>{let{layer:e}=this;return[e?.parsedUrl,e?.tileServers,e?.apiKey,e?.customParameters]},()=>this._initializeTilemapDefinition(),d.Vh))}get effectiveMinLOD(){return this.minLOD??this.layer.tileInfo.lods[0].level}get effectiveMaxLOD(){return this.maxLOD??this.layer.tileInfo.lods[this.layer.tileInfo.lods.length-1].level}getAvailability(e,t,r){if(!this.layer.tileInfo.lodAt(e)||e<this.effectiveMinLOD||e>this.effectiveMaxLOD)return"unavailable";let l=this._tilemapFromCache(e,t,r,this._tmpTilemapDefinition);return l?l.getAvailability(t,r):"unknown"}fetchAvailability(e,t,r,l){return!this.layer.tileInfo.lodAt(e)||e<this.effectiveMinLOD||e>this.effectiveMaxLOD?Promise.reject(A(e,t,r)):this._fetchTilemap(e,t,r,l).catch(e=>e).then(l=>{if(l instanceof _){let i=l.getAvailability(t,r);if("unavailable"===i)throw A(e,t,r);return i}if((0,f.zf)(l))throw l;return"unknown"})}fetchAvailabilityUpsample(e,t,r,l,i){l.level=e,l.row=t,l.col=r;let n=this.layer.tileInfo;n.updateTileInfo(l);let o=this.fetchAvailability(e,t,r,i).catch(e=>{if((0,f.zf)(e))throw e;if(n.upsampleTile(l))return this.fetchAvailabilityUpsample(l.level,l.row,l.col,l,i);throw e});return this._fetchAvailabilityUpsamplePrefetch(l.id,e,t,r,i,o),o}async _fetchAvailabilityUpsamplePrefetch(e,t,r,i,n,o){if(!this._prefetchingEnabled||null==e)return;let s=`prefetch-${e}`;if(this.hasHandles(s))return;let a=new AbortController;o.then(()=>a.abort(),()=>a.abort());let h=!1,c=(0,u.hA)(()=>{h||(h=!0,a.abort())});if(this.addHandles(c,s),await (0,p.md)(10,a.signal).catch(()=>{}),h||(h=!0,this.removeHandles(s)),(0,f.G4)(a))return;let d=new v.U(e,t,r,i),m={...n,signal:a.signal},y=this.layer.tileInfo;for(let e=0;l._prefetches.length<l._maxPrefetch&&y.upsampleTile(d);++e){let e=this.fetchAvailability(d.level,d.row,d.col,m);l._prefetches.push(e);let t=()=>{l._prefetches.removeUnordered(e)};e.then(t,t)}}_fetchTilemap(e,t,r,l){if(!this.layer.tileInfo.lodAt(e)||e<this.effectiveMinLOD||e>this.effectiveMaxLOD)return Promise.reject(new a.A("tilemap-cache:level-unavailable",`Level ${e} is unavailable in the service`));let i=this._tmpTilemapDefinition,n=this._tilemapFromCache(e,t,r,i);if(n)return Promise.resolve(n);let o=l?.signal;return l={...l,signal:null},new Promise((e,t)=>{(0,f.u7)(o,()=>t((0,f.NK)()));let r=T(i),n=this._pendingTilemapRequests[r];if(!n){n=_.fromDefinition(i,l).then(e=>(this._tilemapCache.put(r,e,e.byteSize),e));let e=()=>{delete this._pendingTilemapRequests[r]};this._pendingTilemapRequests[r]=n,n.then(e,e)}n.then(e,t)})}_initializeTilemapDefinition(){if(!this.layer.parsedUrl)return;let{parsedUrl:e,apiKey:t,customParameters:r}=this.layer;this._tilemapCache.clear(),this._tmpTilemapDefinition={service:{url:e.path,query:(0,m.x0)({...e.query,...r,token:t??e.query?.token}),tileServers:this.layer.tileServers,request:this.request},width:this.size,height:this.size,level:0,row:0,col:0}}_tilemapFromCache(e,t,r,l){l.level=e,l.row=t-t%this.size,l.col=r-r%this.size;let i=T(l);return this._tilemapCache.get(i)}get test(){}};M._maxPrefetch=4,M._prefetches=new c.A({initialSize:l._maxPrefetch}),(0,i._)([(0,y.MZ)({constructOnly:!0})],M.prototype,"layer",void 0),(0,i._)([(0,y.MZ)({constructOnly:!0})],M.prototype,"minLOD",void 0),(0,i._)([(0,y.MZ)({constructOnly:!0})],M.prototype,"maxLOD",void 0),(0,i._)([(0,y.MZ)({constructOnly:!0})],M.prototype,"request",void 0),(0,i._)([(0,y.MZ)({constructOnly:!0})],M.prototype,"size",void 0),M=l=(0,i._)([(0,g.$)("esri.layers.support.TilemapCache")],M)},74024:(e,t,r)=>{r.d(t,{A:()=>n});var l=r(32391),i=r(92753);class n{constructor(e,t=0,r=e.lods[e.lods.length-1].level){this.tileInfo=e,this.minLOD=t,this.maxLOD=r,e.lodAt(t)||(this.minLOD=e.lods[0].level),e.lodAt(r)||(this.maxLOD=e.lods[e.lods.length-1].level)}get effectiveMinLOD(){return this.minLOD??this.tileInfo.lods[0].level}get effectiveMaxLOD(){return this.maxLOD??this.tileInfo.lods[this.tileInfo.lods.length-1].level}getAvailability(e,t,r){let l=this.tileInfo?.lodAt(e);return!l||e<this.minLOD||e>this.maxLOD?"unavailable":l.cols&&l.rows?r>=l.cols[0]&&r<=l.cols[1]&&t>=l.rows[0]&&t<=l.rows[1]?"unknown":"unavailable":"unknown"}async fetchAvailability(e,t,r,n){await (0,i.NO)(n);let o=this.getAvailability(e,t,r);if("unavailable"===o)throw new l.A("tile-map:tile-unavailable","Tile is not available",{level:e,row:t,col:r});return o}async fetchAvailabilityUpsample(e,t,r,l,n){await (0,i.NO)(n),l.level=e,l.row=t,l.col=r;let o=this.tileInfo;return o.updateTileInfo(l),this.fetchAvailability(e,t,r,n).catch(e=>{if((0,i.zf)(e))throw e;if(o.upsampleTile(l))return this.fetchAvailabilityUpsample(l.level,l.row,l.col,l,n);throw e})}}},82795:(e,t,r)=>{r.d(t,{N3:()=>s,Om:()=>o});var l=r(94264),i=r(11506),n=r(56599);class o{constructor(e=null,t={},r,l,i=0){this.geometry=e,this.attributes=t,this.centroid=r,this.objectId=l,this.displayId=i}static fromJSON(e){let t=e.geometry?n.A.fromJSON(e.geometry):null,r=e.centroid?n.A.fromJSON(e.centroid):null,l=e.objectId;return new o(t,e.attributes,r,l)}weakClone(){let e=new o(this.geometry,this.attributes,this.centroid,this.objectId);return e.displayId=this.displayId,e}clone(){let e=new o(this.geometry?.clone(),{...this.attributes},this.centroid?.clone(),this.objectId);return e.displayId=this.displayId,e}ensureCentroid(e){return this.centroid??=(0,i.Q)(new n.A,this.geometry,e.hasZ,e.hasM),this.centroid}get usedMemory(){return 128+(0,l.lM)(this.attributes)+(this.geometry?.usedMemory??0)}}function s(e){return!!e.geometry?.coords?.length}},89607:(e,t,r)=>{r.d(t,{f:()=>c});var l=r(81856),i=r(91838);r(57845),r(61939),r(33638);var n=r(53480),o=r(12709),s=r(91463),a=r(33768),u=r(74024),h=r(74020);let c=e=>{let t=class extends e{constructor(){super(...arguments),this.copyright=null,this.minScale=0,this.maxScale=0,this.spatialReference=null,this.tileInfo=null,this.tilemapCache=null}destroy(){this.tilemapCache?.destroy?.()}readMinScale(e,t){return null!=t.minLOD&&null!=t.maxLOD?e:0}readMaxScale(e,t){return null!=t.minLOD&&null!=t.maxLOD?e:0}get supportsBlankTile(){return this.version>=10.2}readTilemapCache(e,t,r){let l=t.capabilities?.includes("Tilemap"),{minLOD:i,maxLOD:n,minScale:o,maxScale:s}=t;if(null==i&&null==n&&(0!==o||0!==s)){let e=e=>Math.round(1e4*e)/1e4;for(let r of(o=e(o||t.tileInfo.lods[0].scale),s=e(s||t.tileInfo.lods[t.tileInfo.lods.length-1].scale),t.tileInfo.lods)){let t=e(r.scale);i=t>=o?r.level:i,n=t>=s?r.level:n}}if(l)return new h.d({layer:this,minLOD:i,maxLOD:n});if(t.tileInfo){let e=new a.A;return e.read(t.tileInfo,r),new u.A(e,i,n)}return null}};return(0,l._)([(0,i.MZ)({json:{read:{source:"copyrightText"}}})],t.prototype,"copyright",void 0),(0,l._)([(0,i.MZ)()],t.prototype,"minScale",void 0),(0,l._)([(0,n.w)("service","minScale")],t.prototype,"readMinScale",null),(0,l._)([(0,i.MZ)()],t.prototype,"maxScale",void 0),(0,l._)([(0,n.w)("service","maxScale")],t.prototype,"readMaxScale",null),(0,l._)([(0,i.MZ)({type:s.A})],t.prototype,"spatialReference",void 0),(0,l._)([(0,i.MZ)({readOnly:!0})],t.prototype,"supportsBlankTile",null),(0,l._)([(0,i.MZ)({type:a.A})],t.prototype,"tileInfo",void 0),(0,l._)([(0,i.MZ)()],t.prototype,"tilemapCache",void 0),(0,l._)([(0,n.w)("service","tilemapCache",["capabilities","tileInfo"])],t.prototype,"readTilemapCache",null),(0,l._)([(0,i.MZ)()],t.prototype,"version",void 0),t=(0,l._)([(0,o.$)("esri.layers.mixins.ArcGISCachedService")],t)}},94225:(e,t,r)=>{r.r(t),r.d(t,{default:()=>k});var l,i=r(81856),n=r(39166),o=r(32391),s=r(43650),a=r(21892),u=r(92753),h=r(90525),c=r(91838),f=r(16352);r(57845),r(33638);var d=r(53480),p=r(12709),m=r(7780),y=r(91463),g=r(64171),v=r(14925),b=r(89607),w=r(2411),I=r(81877),_=r(24743),T=r(60349),A=r(2043),M=r(54882),N=r(6255),S=r(23281),O=r(92884),P=r(21371),L=r(76572),G=r(72875),x=r(83583);let D=["Canvas/World_Dark_Gray_Base","Canvas/World_Dark_Gray_Reference","Canvas/World_Light_Gray_Base","Canvas/World_Light_Gray_Reference","Elevation/World_Hillshade","Elevation/World_Hillshade_Dark","Ocean/World_Ocean_Base","Ocean/World_Ocean_Reference","Ocean_Basemap","Reference/World_Boundaries_and_Places","Reference/World_Boundaries_and_Places_Alternate","Reference/World_Transportation","World_Imagery","World_Street_Map","World_Topo_Map"],Z=l=class extends(0,_.dM)((0,S.j)((0,O.I)((0,b.f)((0,w.V)((0,A.q)((0,M.A)((0,I.b)((0,a.P)((0,N.J)((0,v.p)((0,T.d)(g.A)))))))))))){constructor(...e){super(...e),this.listMode="show",this.isReference=null,this.operationalLayerType="ArcGISTiledMapServiceLayer",this.resampling=!0,this.sourceJSON=null,this.spatialReference=null,this.path=null,this.sublayers=null,this.type="tile",this.url=null}normalizeCtorArgs(e,t){return"string"==typeof e?{url:e,...t}:e}load(e){let t=null!=e?e.signal:null;return this.addResolvingPromise(this.loadFromPortal({supportedTypes:["Map Service"]},e).catch(u.QP).then(()=>this._fetchService(t))),Promise.resolve(this)}get attributionDataUrl(){let e=this.parsedUrl?.path.toLowerCase();return e?this._getDefaultAttribution(this._getMapName(e)):null}readSpatialReference(e,t){return(e=e||t.tileInfo?.spatialReference)&&y.A.fromJSON(e)}writeSublayers(e,t,r,l){if(!this.loaded||!e)return;let i=e.slice().reverse().flatten(({sublayers:e})=>e&&e.toArray().reverse()).toArray(),n=[],o={writeSublayerStructure:!1,...l};i.forEach(e=>{let t=e.write({},o);n.push(t)}),n.some(e=>Object.keys(e).length>1)&&(t.layers=n)}get tileServers(){return this._getDefaultTileServers(this.parsedUrl?.path)}castTileServers(e){return Array.isArray(e)?e.map(e=>(0,h.An)(e).path):null}fetchTile(e,t,r,l={}){let{signal:i}=l,o=this.getTileUrl(e,t,r),s={responseType:"image",signal:i,query:{...this.refreshParameters}};return(0,n.A)(o,s).then(e=>e.data)}async fetchImageBitmapTile(e,t,r,i={}){let{signal:o}=i;if(this.fetchTile!==l.prototype.fetchTile){let l=await this.fetchTile(e,t,r,i);return(0,G.C)(l,e,t,r,o)}let s=this.getTileUrl(e,t,r),a={responseType:"blob",signal:o,query:{...this.refreshParameters}},{data:u}=await (0,n.A)(s,a);return(0,G.C)(u,e,t,r,o)}getTileUrl(e,t,r){let l=!this.capabilities.operations.supportsTileMap&&this.supportsBlankTile,i=(0,h.x0)({...this.parsedUrl?.query,blankTile:!l&&null,...this.customParameters,token:this.apiKey}),n=this.tileServers;return`${n&&n.length?n[t%n.length]:this.parsedUrl?.path}/tile/${e}/${t}/${r}${i?"?"+i:""}`}loadAll(){return(0,s.g)(this,e=>{e(this.allSublayers)})}_fetchService(e){return new Promise((t,r)=>{if(this.sourceJSON){if(null!=this.sourceJSON.bandCount&&null!=this.sourceJSON.pixelSizeX)throw new o.A("tile-layer:unsupported-url","use ImageryTileLayer to open a tiled image service");return void t({data:this.sourceJSON})}if(!this.parsedUrl)throw new o.A("tile-layer:undefined-url","layer's url is not defined");let l=(0,P.qg)(this.parsedUrl.path);if(null!=l&&"ImageServer"===l.serverType)throw new o.A("tile-layer:unsupported-url","use ImageryTileLayer to open a tiled image service");(0,n.A)(this.parsedUrl.path,{query:{f:"json",...this.parsedUrl.query,...this.customParameters,token:this.apiKey},responseType:"json",signal:e}).then(t,r)}).then(t=>{let r=this.url;if(t.ssl&&(r=this.url=r.replace(/^http:/i,"https:")),this.sourceJSON=t.data,this.read(t.data,{origin:"service",url:this.parsedUrl}),10.1===this.version&&!(0,P.Wo)(r))return this._fetchServerVersion(r,e).then(e=>{this.read({currentVersion:e})}).catch(()=>{})})}_fetchServerVersion(e,t){if(!(0,P.Fi)(e))return Promise.reject();let r=e.replace(/(.*\/rest)\/.*/i,"$1")+"/info";return(0,n.A)(r,{query:{f:"json",...this.customParameters,token:this.apiKey},responseType:"json",signal:t}).then(e=>{if(e.data&&e.data.currentVersion)return e.data.currentVersion;throw new o.A("tile-layer:version-not-available")})}_getMapName(e){let t=e.match(/^(?:https?:)?\/\/(server\.arcgisonline\.com|services\.arcgisonline\.com|ibasemaps-api\.arcgis\.com)\/arcgis\/rest\/services\/([^/]+(\/[^/]+)*)\/mapserver/i);return t?t[2]:void 0}_getDefaultAttribution(e){let t;if(null==e)return null;e=e.toLowerCase();for(let r=0,l=D.length;r<l;r++)if((t=D[r]).toLowerCase().includes(e))return(0,h.s2)("//static.arcgis.com/attribution/"+t);return null}_getDefaultTileServers(e){if(null==e)return[];let t=-1!==e.search(/^(?:https?:)?\/\/server\.arcgisonline\.com/i),r=-1!==e.search(/^(?:https?:)?\/\/services\.arcgisonline\.com/i);return t||r?[e,e.replace(t?/server\.arcgisonline/i:/services\.arcgisonline/i,t?"services.arcgisonline":"server.arcgisonline")]:[]}get hasOverriddenFetchTile(){return!this.fetchTile[F]}};(0,i._)([(0,c.MZ)({readOnly:!0})],Z.prototype,"attributionDataUrl",null),(0,i._)([(0,c.MZ)({type:["show","hide","hide-children"]})],Z.prototype,"listMode",void 0),(0,i._)([(0,c.MZ)({json:{read:!0,write:!0}})],Z.prototype,"blendMode",void 0),(0,i._)([(0,c.MZ)({type:Boolean,json:{read:!1,write:{enabled:!0,overridePolicy:()=>({enabled:!1})}}})],Z.prototype,"isReference",void 0),(0,i._)([(0,c.MZ)({readOnly:!0,type:["ArcGISTiledMapServiceLayer"]})],Z.prototype,"operationalLayerType",void 0),(0,i._)([(0,c.MZ)({type:Boolean})],Z.prototype,"resampling",void 0),(0,i._)([(0,c.MZ)()],Z.prototype,"sourceJSON",void 0),(0,i._)([(0,c.MZ)({type:y.A})],Z.prototype,"spatialReference",void 0),(0,i._)([(0,d.w)("spatialReference",["spatialReference","tileInfo"])],Z.prototype,"readSpatialReference",null),(0,i._)([(0,c.MZ)({type:String,json:{origins:{"web-scene":{read:!0,write:!0}},read:!1}})],Z.prototype,"path",void 0),(0,i._)([(0,c.MZ)({readOnly:!0})],Z.prototype,"sublayers",void 0),(0,i._)([(0,m.K)("sublayers",{layers:{type:[x.A]}})],Z.prototype,"writeSublayers",null),(0,i._)([(0,c.MZ)({json:{read:!1,write:!1}})],Z.prototype,"popupEnabled",void 0),(0,i._)([(0,c.MZ)()],Z.prototype,"tileServers",null),(0,i._)([(0,f.w)("tileServers")],Z.prototype,"castTileServers",null),(0,i._)([(0,c.MZ)({readOnly:!0,json:{read:!1}})],Z.prototype,"type",void 0),(0,i._)([(0,c.MZ)(L.OZ)],Z.prototype,"url",void 0),Z=l=(0,i._)([(0,p.$)("esri.layers.TileLayer")],Z);let F=Symbol("default-fetch-tile");Z.prototype.fetchTile[F]=!0;let k=Z},94264:(e,t,r)=>{r.d(t,{Qf:()=>a,Qh:()=>o,RS:()=>i,ez:()=>h,i5:()=>c,lM:()=>n,qK:()=>u});var l=r(48678);let i=16;function n(e){if(!e)return 0;let t=u;for(let r in e)e.hasOwnProperty(r)&&(t+=s(e[r],!1));return t}function o(e){if(!e)return 0;if("number"==typeof e[0])return a(e);if(Array.isArray(e)){var t=e;let r=t.length;if(0===r||"number"==typeof t[0])return function(e,t){return h+e.length*t}(t,8);let l=h;for(let e=0;e<r;e++)l+=s(t[e]);return l}let r=u;for(let t in e)e.hasOwnProperty(t)&&(r+=s(e[t]));return r}function s(e,t=!0){switch(typeof e){case"object":return t?o(e):u;case"string":return 32+e.length;case"number":return i;case"boolean":return 4;default:return 8}}function a(...e){return e.reduce((e,t)=>{var r,n;return e+(t?(0,l.iu)(t)?t.byteLength+c:Array.isArray(t)?(r=t,n=i,h+r.length*n):0:0)},0)}let u=32,h=16,c=145}}]);