(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7614,9787],{3391:(t,e,r)=>{"use strict";function o(){return[1,0,0,0,1,0,0,0,1]}function l(t,e,r,o,l,n,i,s,a){return[t,e,r,o,l,n,i,s,a]}r.d(e,{fA:()=>l,vt:()=>o,zK:()=>n});let n=o();Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:n,clone:function(t){return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8]]},create:o,createView:function(t,e){return new Float64Array(t,e,9)},fromValues:l},Symbol.toStringTag,{value:"Module"}))},57330:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>B});var o=r(81856),l=r(39166),n=r(32391),i=r(20538),s=r(21892),a=r(45257),p=r(91838);r(57845),r(61939),r(33638);var u=r(53480),y=r(12709),d=r(61414),c=r(65442),h=r(91463),m=r(64171),v=r(24743),_=r(60349),f=r(23281),M=r(21371),g=r(76572),Z=r(71017),O=r(92713);let P=class extends Z.A.ClonableMixin(O.A){constructor(t){super(t),this.framerate=null,this.containerFormat=null,this.gop=null,this.aspectRatio=null,this.klv=null}};(0,o._)([(0,p.MZ)({type:String})],P.prototype,"framerate",void 0),(0,o._)([(0,p.MZ)({type:String})],P.prototype,"containerFormat",void 0),(0,o._)([(0,p.MZ)({type:Number})],P.prototype,"gop",void 0),(0,o._)([(0,p.MZ)({type:String})],P.prototype,"aspectRatio",void 0),(0,o._)([(0,p.MZ)({type:Object})],P.prototype,"klv",void 0);let S=P=(0,o._)([(0,y.$)("esri.layers.support.PlaybackInfo")],P);var b=r(56547),C=r(53291),T=r(99059),w=r(28690),A=r(7780),I=r(39960);let x=class extends w.A{constructor(){super(...arguments),this.sourcePoint=null,this.mapPoint=null}};(0,o._)([(0,p.MZ)()],x.prototype,"sourcePoint",void 0),(0,o._)([(0,p.MZ)({type:I.A})],x.prototype,"mapPoint",void 0),x=(0,o._)([(0,y.$)("esri.layers.support.VideoFrame.ControlPoint")],x);let N=class extends Z.A.ClonableMixin(O.A){constructor(t){super(t),this.frame=null,this.controlPoints=null}readControlPoints(t){return t.map(t=>({sourcePoint:{x:t.frameX,y:t.frameY},mapPoint:new I.A(t.point)}))}writeControlPoints(t,e){var r;null!=t&&(r=t[0],null!=r?.sourcePoint&&null!=r.mapPoint)&&(e.controlPoints=t.map(t=>{let e=t.sourcePoint,r=t.mapPoint;return{frameX:e.x,frameY:e.y,point:r.toJSON()}}))}};(0,o._)([(0,p.MZ)({type:String})],N.prototype,"frame",void 0),(0,o._)([(0,p.MZ)({type:[x],json:{write:{allowNull:!1,isRequired:!0}}})],N.prototype,"controlPoints",void 0),(0,o._)([(0,u.w)("controlPoints")],N.prototype,"readControlPoints",null),(0,o._)([(0,A.K)("controlPoints")],N.prototype,"writeControlPoints",null);let j=N=(0,o._)([(0,y.$)("esri.layers.support.VideoFrame")],N);var U=r(90623),E=r(56857);let k=class extends(0,v.dM)((0,f.j)((0,s.P)((0,_.d)(m.A)))){constructor(t){super(t),this._trailPoints=[],this.capabilities=null,this.connectionInfo=null,this.controller=new U.default,this.copyright=null,this.created=null,this.description=null,this.elevationSource=null,this.frame=null,this.frameCount=null,this.fullExtent=null,this.initialExtent=null,this.layerId=null,this.playbackInfo=null,this.posterUrl=null,this.qualities=null,this.serviceItemId=null,this.sourceJSON=null,this.sourceQuality=null,this.sourceType=null,this.spatialReference=h.A.WGS84,this.telemetryDisplay=null,this.title=null,this.type="video",this.url=null,this.videoLayersInfo=null,this.videoTimeExtent=null}initialize(){this.telemetryDisplay=new T.A({frame:!1,frameCenter:!1,frameOutline:!0,lineOfSight:!0,sensorLocation:!0,sensorTrail:!0}),this.addHandles([(0,a.wB)(()=>this.metadata,()=>{this.notifyChange("telemetry"),this.notifyChange("groundControlPoints"),this.notifyChange("frameHorizonPoints")}),(0,a.wB)(()=>this.telemetry?.sensorLocation,t=>this._setSensorTrail(t),a.Vh)])}load(t){let e=null!=t?t.signal:null;return this.addResolvingPromise(this._fetchService(e)),Promise.resolve(this)}get buffered(){return this.controller.buffered}readCapabilitiesFromService(t,e){return(0,b.d)(e)}readConnectionInfo(t,e){let r=Object.values(e.connectionUrl);return r?.length&&(this.controller.playerUrl=r[0]),e.connectionUrl}get currentTime(){return this.controller.currentTime}get duration(){return this.controller.duration}get ended(){return this.controller.ended}get frameHorizonPoints(){return(0,E.SC)(this.metadata)}get groundControlPoints(){return(0,E.I0)(this.metadata)}get loop(){return this.controller.loop}set loop(t){this.controller.loop=t}get metadata(){return this.controller?.currentMetadata}get mimeType(){return this.controller?.mimeType}get muted(){return this.controller.muted}set muted(t){this.controller.muted=t}get playbackRate(){return this.controller.rate}set playbackRate(t){this.controller.rate=t}get playerUrl(){return this.controller.playerUrl}get playing(){return this.controller.playing}get state(){return this.controller.state}get telemetry(){return(0,E.YI)(this.metadata)}get videoElement(){return this.controller?.element}get videoHeight(){return this.controller?.videoHeight}readLayerInfosFromService(t,e){return(0,E.Yv)(e)}get videoWidth(){return this.controller?.videoWidth}get waiting(){return this.controller.waiting}play(){this.controller.play()}pause(){this.controller.pause()}reset(){this.controller.reset()}setCurrentTime(t){if(!this.duration)return;let e=(0,i.qE)(t,0,this.duration);this.controller.setCurrentTime(e)}toGround(t,e){return this.controller?.sensorModel?.metadataSupportsTransforms?this.controller.sensorModel.transformImageToGeo(t,e):null}toVideo(t){if(!this.controller?.sensorModel?.metadataSupportsTransforms)return null;let e=this.controller.sensorModel.transformGeoToImage(t.x,t.y,t.z);return{x:e[0],y:e[1]}}async _fetchService(t){if(this.sourceJSON)return void this.read(this.sourceJSON,{origin:"service",url:this.parsedUrl});let e=(0,M.qg)(this.parsedUrl?.path);if(null==e)throw new n.A("arcgis-layers:url-mismatch","The url is not a valid arcgis resource");let r=null,{data:o,ssl:i}=await (0,l.A)(e.url.path,{query:{f:"json",...this.parsedUrl.query,...this.customParameters},signal:t});if(this.url=e.url.path,i&&(this.url=this.url.replace(/^http:/i,"https:")),!o?.currentVersion)return o.currentVersion="11.2",this.sourceJSON=o,void this.read(this.sourceJSON,{origin:"service",url:this.parsedUrl});let s=e?.sublayer;if(null==s&&o.layers?.length&&(s=o.layers[0].id),null==s)throw new n.A("arcgis-layers:url-mismatch","The url is not a valid arcgis resource");this.url=`${e.url.path}/${s}`,r=await (0,l.A)(this.url,{query:{f:"json",...this.customParameters},signal:t});let a={...o,...r.data};this.sourceJSON=a,this.read(this.sourceJSON,{origin:"service",url:this.parsedUrl})}_setSensorTrail(t){if(!t)return;let e=(0,E.yQ)(t,this._trailPoints);this._trailPoints=[...e];let r=this._trailPoints.map(t=>t.toArray()),o=new c.A({hasZ:t.hasZ,paths:[r]});this.telemetry.sensorTrail=o.clone()}};(0,o._)([(0,p.MZ)({readOnly:!0})],k.prototype,"buffered",null),(0,o._)([(0,p.MZ)({readOnly:!0,json:{read:!1}})],k.prototype,"capabilities",void 0),(0,o._)([(0,u.w)("service","capabilities",["supportsAppend","supportsCoverageQuery","supportsExportClip","supportsExportFrameset","supportsMensuration","supportsUpdate"])],k.prototype,"readCapabilitiesFromService",null),(0,o._)([(0,p.MZ)({readOnly:!0})],k.prototype,"connectionInfo",void 0),(0,o._)([(0,u.w)("connectionInfo",["connectionUrl"])],k.prototype,"readConnectionInfo",null),(0,o._)([(0,p.MZ)()],k.prototype,"controller",void 0),(0,o._)([(0,p.MZ)({type:String})],k.prototype,"copyright",void 0),(0,o._)([(0,p.MZ)({readOnly:!0,type:Date})],k.prototype,"created",void 0),(0,o._)([(0,p.MZ)({type:Number})],k.prototype,"currentTime",null),(0,o._)([(0,p.MZ)({type:String})],k.prototype,"description",void 0),(0,o._)([(0,p.MZ)({type:Number})],k.prototype,"duration",null),(0,o._)([(0,p.MZ)({readOnly:!0})],k.prototype,"elevationSource",void 0),(0,o._)([(0,p.MZ)({type:Boolean})],k.prototype,"ended",null),(0,o._)([(0,p.MZ)({type:j})],k.prototype,"frame",void 0),(0,o._)([(0,p.MZ)({readOnly:!0,type:Number})],k.prototype,"frameCount",void 0),(0,o._)([(0,p.MZ)({type:d.A})],k.prototype,"fullExtent",void 0),(0,o._)([(0,p.MZ)({readOnly:!0})],k.prototype,"frameHorizonPoints",null),(0,o._)([(0,p.MZ)({readOnly:!0})],k.prototype,"groundControlPoints",null),(0,o._)([(0,p.MZ)({type:d.A})],k.prototype,"initialExtent",void 0),(0,o._)([(0,p.MZ)({readOnly:!0,json:{read:{source:"id"}}})],k.prototype,"layerId",void 0),(0,o._)([(0,p.MZ)({type:Boolean})],k.prototype,"loop",null),(0,o._)([(0,p.MZ)({readOnly:!0})],k.prototype,"metadata",null),(0,o._)([(0,p.MZ)({readOnly:!0})],k.prototype,"mimeType",null),(0,o._)([(0,p.MZ)({type:Boolean})],k.prototype,"muted",null),(0,o._)([(0,p.MZ)({type:S})],k.prototype,"playbackInfo",void 0),(0,o._)([(0,p.MZ)({type:Number})],k.prototype,"playbackRate",null),(0,o._)([(0,p.MZ)({type:String})],k.prototype,"playerUrl",null),(0,o._)([(0,p.MZ)({readOnly:!0})],k.prototype,"playing",null),(0,o._)([(0,p.MZ)({readOnly:!0,json:{read:{source:"poster"}}})],k.prototype,"posterUrl",void 0),(0,o._)([(0,p.MZ)({readOnly:!0})],k.prototype,"qualities",void 0),(0,o._)([(0,p.MZ)({readOnly:!0})],k.prototype,"serviceItemId",void 0),(0,o._)([(0,p.MZ)()],k.prototype,"sourceJSON",void 0),(0,o._)([(0,p.MZ)({readOnly:!0})],k.prototype,"sourceQuality",void 0),(0,o._)([(0,p.MZ)({readOnly:!0,json:{name:"serviceType"}})],k.prototype,"sourceType",void 0),(0,o._)([(0,p.MZ)()],k.prototype,"spatialReference",void 0),(0,o._)([(0,p.MZ)({readOnly:!0,type:String})],k.prototype,"state",null),(0,o._)([(0,p.MZ)({readOnly:!0,type:C.A})],k.prototype,"telemetry",null),(0,o._)([(0,p.MZ)({type:T.A})],k.prototype,"telemetryDisplay",void 0),(0,o._)([(0,p.MZ)({readOnly:!1,json:{read:{source:"name"}}})],k.prototype,"title",void 0),(0,o._)([(0,p.MZ)({readOnly:!0})],k.prototype,"type",void 0),(0,o._)([(0,p.MZ)(g.OZ)],k.prototype,"url",void 0),(0,o._)([(0,p.MZ)({readOnly:!0})],k.prototype,"videoElement",null),(0,o._)([(0,p.MZ)({readOnly:!0})],k.prototype,"videoHeight",null),(0,o._)([(0,p.MZ)({readOnly:!0,json:{read:!1}})],k.prototype,"videoLayersInfo",void 0),(0,o._)([(0,u.w)("service","videoLayersInfo",["id","name","poster","serviceType","type"])],k.prototype,"readLayerInfosFromService",null),(0,o._)([(0,p.MZ)({readOnly:!0,nonNullable:!1,json:{read:{reader:E.nX,source:"time"}}})],k.prototype,"videoTimeExtent",void 0),(0,o._)([(0,p.MZ)({readOnly:!0})],k.prototype,"videoWidth",null),(0,o._)([(0,p.MZ)({readOnly:!0})],k.prototype,"waiting",null);let B=k=(0,o._)([(0,y.$)("esri.layers.VideoLayer")],k)},59787:()=>{},99059:(t,e,r)=>{"use strict";r.d(e,{A:()=>p});var o=r(81856),l=r(71017),n=r(92713),i=r(91838);r(57845),r(61939),r(33638);var s=r(12709);let a=class extends l.A.ClonableMixin(n.A){constructor(t){super(t),this.frame=null,this.frameCenter=null,this.frameOutline=null,this.lineOfSight=null,this.sensorLocation=null,this.sensorTrail=null}};(0,o._)([(0,i.MZ)({type:Boolean})],a.prototype,"frame",void 0),(0,o._)([(0,i.MZ)({type:Boolean})],a.prototype,"frameCenter",void 0),(0,o._)([(0,i.MZ)({type:Boolean})],a.prototype,"frameOutline",void 0),(0,o._)([(0,i.MZ)({type:Boolean})],a.prototype,"lineOfSight",void 0),(0,o._)([(0,i.MZ)({type:Boolean})],a.prototype,"sensorLocation",void 0),(0,o._)([(0,i.MZ)({type:Boolean})],a.prototype,"sensorTrail",void 0);let p=a=(0,o._)([(0,s.$)("esri.layers.support.TelemetryDisplay")],a)}}]);