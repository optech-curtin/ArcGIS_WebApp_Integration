"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[526,2617,3103,5927,8160,8255],{519:(e,t,n)=>{n.d(t,{$I:()=>y,AU:()=>h,Cr:()=>d,g7:()=>m,i4:()=>c,ui:()=>p,up:()=>g,vt:()=>u,yo:()=>v});var i=n(20538),o=n(40998),r=n(70455),l=n(79019),a=n(63599),s=n(56911);function u(e=g){return[e[0],e[1],e[2],e[3]]}function c(e,t,n=u()){return(0,a.c)(n,e),n[3]=t,n}function d(e,t,n){return(0,a.e)(n,e,t),(0,a.n)(n,n),n[3]=-(0,a.r)(e,t),n}function p(e,t=u()){var n,l;let a=(0,o.l)(_,e);return n=t,l=(0,i.KJ)((0,r.Xd)(t,a)),n[3]=l,t}function f(e,t,n=u()){var o,l;return(0,r.x8)(_,e,y(e)),(0,r.x8)(b,t,y(t)),(0,r.lw)(_,b,_),o=n,l=(0,i.KJ)((0,r.Xd)(n,_)),o[3]=l,o}function h(e,t,n,i=u()){return c(s.Cw,e,x),c(s.JP,t,w),c(s.Cb,n,M),f(x,w,x),f(x,M,i),i}function v(e){return e}function m(e){return e[3]}function y(e){return(0,i.kU)(e[3])}let g=[0,0,1,0],_=(0,l.vt)(),b=(0,l.vt)(),x=(u(),u()),w=u(),M=u()},4233:(e,t,n)=>{n.d(t,{A3:()=>E,D5:()=>C,GC:()=>u,L5:()=>$,Nr:()=>Z,X3:()=>K,hw:()=>A,m6:()=>D,oZ:()=>y,zX:()=>m});var i=n(65985),o=n(42990),r=n(23355),l=n(15030),a=n(71538),s=n(43705);function u(e,t){return{angleRelative:c,direction:d,directionRelative:p,directionRelativeBilateral:f,latitudeDecimalDegrees:v,longitudeDecimalDegrees:h,area:(n,i)=>(0,o.Jd)(e,n,i??t.area),length:(n,i,r)=>(0,o.ix)(e,n,i??t.length,r),lengthRelative:(n,i)=>(0,o.yh)(e,n,i??t.length),totalLength:(n,i)=>(0,o.ix)(e,n,i??t.length),verticalLength:(n,i)=>(0,o.Oo)(e,n,i??t.verticalLength),verticalLengthRelative:(n,i)=>(0,o.OM)(e,n,i??t.verticalLength),percentage:b,scalar:w,scale:x}}function c(e){return(0,a.ZV)(e,{signDisplay:"exceptZero",...M(1)})}function d(e){return(0,o.Nk)(e,e.rotationType,1)}function p(e){let t=(0,s.hF)(e);return(0,a.ZV)(t,{style:"unit",unitDisplay:"narrow",unit:"degree",signDisplay:t>0?"never":"exceptZero",...M(1)})}function f(e){return(0,o.Nk)(e,e.rotationType,1)}function h(e){return g(e,I)}function v(e){return g(e,P)}function m(e){return _(e,I)}function y(e){return _(e,P)}function g(e,t){return(0,o.Nk)((0,r.kM)(e,"degrees"),"geographic",6,t,!1)}function _(e,t){let n=t.normalize((0,r.kM)(e,"degrees").value,void 0,!1);return w((0,r.LF)(n),6)}function b(e){return(0,a.ZV)(e.value,{style:"percent"})}function x(e){return(0,a.ZV)(e,{style:"percent",maximumFractionDigits:0})}function w(e,t){return(0,a.ZV)(e.value,M(t))}function M(e){return{minimumFractionDigits:e,maximumFractionDigits:e}}function A({createQuantity:e,sanitize:t}){return(n,i)=>{if(null==n)return null;t&&(n=t(n));let o=(0,a.$J)(n);return null==o?null:e(o,i)}}function C(e){return e.replaceAll(/[*^~°º]/g,"")}let k=e=>{let t=`[-+]?[0-9${e.thousands}]+`;return""!==e.decimal&&(t+=`${e.decimal}[0-9]+`),RegExp(`^(${t}\\s*)${e.separator}(\\s*${t})$`,"i")},S=[];for(let e of[",","\\|","\\s+"])for(let t of["\\.",",",""])for(let n of["",",","\\."," ","\\s+"])e!==t&&e!==n&&t!==n&&S.push({separator:e,decimal:t,thousands:n,pattern:k({decimal:t,thousands:n,separator:e})});function Z(e){for(let{decimal:t,thousands:n,pattern:i}of S){i.lastIndex=0;let o=e.match(i);if(!o)continue;let l=(0,a.$J)(T(o[1],t,n)),s=(0,a.$J)(T(o[2],t,n));if(null!=l&&null!=s)return{x:(0,r.LF)(l),y:(0,r.LF)(s)}}return null}function T(e,t,n){let i=e.replaceAll(/[\s+]/g,"");return""!==n&&(i=i.replaceAll(n,"")),""!==t&&(i=i.replaceAll(t,".")),i}function K(e){if(!e||null!=(0,a.$J)(e)||!(0,l.s1)())return null;let t=(0,l.o6)(e),n=D(t?.latitude),i=D(t?.longitude);return null!=i&&null!=n?{latitude:n,longitude:i}:null}function $(e){return D((0,l.mT)(e))}function E(e){return D((0,l.ts)(e))}function D(e){return null!=e?(0,r.Wq)(e,"degrees","geographic"):null}let I=new i.hr(-180,180),P=new i.hr(-90,90)},6108:(e,t,n)=>{n.d(t,{Og:()=>c,mh:()=>u,n3:()=>d});var i=n(23355),o=n(56911),r=n(40636),l=n(75862),a=n(71760),s=n(48084);function u(e){let{spatialReference:t}=e;return(0,s.M0)(t,h,v,e)}function c(e,t){if(!(0,a.aI)(e.spatialReference,t.spatialReference))return null;let{spatialReference:n}=e;return y[0]=e.x,y[1]=e.y,y[2]=e.hasZ?e.z:0,g[0]=t.x,g[1]=t.y,g[2]=t.hasZ?t.z:0,d(y,g,n)}function d(e,t,n){return(0,s.M0)(n,p,f,e,t,n)}function p(e,t,n){return(0,i.d_)((0,l._3)(m,e,t,n).distance,"meters")}function f(e,t,n){return(0,i.d_)((0,r.geodesicLength)({type:"polyline",spatialReference:n,paths:[[[...e],[...t]]]},"meters"),"meters")}function h(e){return(0,i.d_)((0,l.l1)([e],"meters")[0],"meters")}function v(e){return(0,i.d_)((0,r.geodesicLength)(e,"meters"),"meters")}let m=new l.Zj,y=(0,o.vt)(),g=(0,o.vt)()},10526:(e,t,n)=>{n.r(t),n.d(t,{hydratedAdapter:()=>s});var i=n(61414),o=n(147),r=n(39960),l=n(87960),a=n(65442);let s={convertToGEGeometry:function(e,t){if(null==t)return null;let n="cache"in t?t.cache._geVersion:void 0;return null==n&&(n=e.convertJSONToGeometry(t),"cache"in t&&(t.cache._geVersion=n)),n},exportPoint:function(e,t,n){let i=e.hasZ(t),o=e.hasM(t),l=new r.A({x:e.getPointX(t),y:e.getPointY(t),spatialReference:n});return i&&(l.z=e.getPointZ(t)),o&&(l.m=e.getPointM(t)),l.cache._geVersion=t,l},exportPolygon:function(e,t,n){let i=new l.A({rings:e.exportPaths(t),hasZ:e.hasZ(t),hasM:e.hasM(t),spatialReference:n});return i.cache._geVersion=t,i},exportPolyline:function(e,t,n){let i=new a.A({paths:e.exportPaths(t),hasZ:e.hasZ(t),hasM:e.hasM(t),spatialReference:n});return i.cache._geVersion=t,i},exportMultipoint:function(e,t,n){let i=new o.A({hasZ:e.hasZ(t),hasM:e.hasM(t),points:e.exportPoints(t),spatialReference:n});return i.cache._geVersion=t,i},exportExtent:function(e,t,n){let o=e.hasZ(t),r=e.hasM(t),l=new i.A({xmin:e.getXMin(t),ymin:e.getYMin(t),xmax:e.getXMax(t),ymax:e.getYMax(t),spatialReference:n});if(o){let n=e.getZExtent(t);l.zmin=n.vmin,l.zmax=n.vmax}if(r){let n=e.getMExtent(t);l.mmin=n.vmin,l.mmax=n.vmax}return l.cache._geVersion=t,l}}},15030:(e,t,n)=>{n.d(t,{Hh:()=>u,mT:()=>d,o6:()=>c,s1:()=>s,ts:()=>p});var i=n(32391),o=n(54143),r=n(39960),l=n(91463),a=n(71538);function s(){return(0,o.i)()}function u(){return(0,o.l)()}function c(e,t){let n=[];e=(e=(e=e.replaceAll(/[\u00B0\u00BA]/g,"^")).replaceAll("′","'")).replaceAll("″",'"');let a=function(e){let t=null;if(e||(e=l.A.WGS84),e.wkid){if(!(t=o.P.geogcs(e.wkid)))throw new i.A("coordinate-formatter:invalid-spatial-reference","wkid is not valid")}else{if(!e.wkt2&&!e.wkt)throw new i.A("coordinate-formatter:invalid-spatial-reference","wkid and wkt are missing");if(!(t=o.P.fromString(o.a.PE_TYPE_GEOGCS,e.wkt2||e.wkt)))throw new i.A("coordinate-formatter:invalid-spatial-reference","wkt is not valid")}return t}(t);return o.c.dmsToGeog(a,1,[e],n)?new r.A(n[0][0],n[0][1],t||l.A.WGS84):null}function d(e){return e&&s()?(0,a.$J)(e)??c(`0\xb0 0' 0" N | ${e}`)?.longitude??c(`0 | ${e}`)?.longitude??null:null}function p(e){return e&&s()?(0,a.$J)(e)??c(`${e} | 0\xb0 0' 0" E`)?.latitude??c(`${e} | 0`)?.latitude??null:null}},19474:(e,t,n)=>{n.d(t,{CK:()=>u,E9:()=>a,Hq:()=>s,MW:()=>c,TE:()=>d,yJ:()=>p});var i=n(63599),o=n(39960),r=n(76277),l=n(61102);function a(e){return null==e.origin}function s(e){return null!=e.origin}function u(e){return s(e.vertexSpace)}function c(e,t){if(!s(e))return null;let[n,i,r]=e.origin;return new o.A({x:n,y:i,z:r,spatialReference:t})}function d(e,t){var n;let{x:i,y:o,z:a,spatialReference:s}=e,u=[i,o,a??0];return"local"===(t?.vertexSpace??((n=s).isGeographic||n.isWebMercator?"local":"georeferenced"))?new l.A({origin:u}):new r.A({origin:u})}function p(e,t){return e.type===t.type&&(e.origin===t.origin||null!=e.origin&&null!=t.origin&&(0,i.p)(e.origin,t.origin))}},25412:(e,t,n)=>{n.d(t,{Do:()=>s,Kt:()=>a,ob:()=>l});var i=n(56911),o=n(39888),r=n(6108);function l(e){return(0,r.mh)(e)??(0,o.Xg)(e)}function a(e,t){return(0,r.Og)(e,t)??(0,o.ll)(e,t)}function s(e,t,n){return u[0]=e[0],u[1]=e[1],u[2]=3===e.length?e[2]:0,c[0]=t[0],c[1]=t[1],c[2]=3===t.length?t[2]:0,(0,r.n3)(u,c,n)??(0,o.sT)(u,c,n)}let u=(0,i.vt)(),c=(0,i.vt)()},37136:(e,t,n)=>{n.d(t,{c:()=>r});var i=n(8922),o=n(14307);function r(e){let t="metric";if(null==e)return t;let n=e.map,r=(n&&"portalItem"in n?n.portalItem?.portal:null)??o.A.getDefault();switch(r.user?.units??r.units){case t:return t;case"english":return"imperial"}return(0,i.jM)(e.spatialReference)??t}},38079:(e,t,n)=>{n.d(t,{l:()=>l});var i=n(69752),o=n(99345),r=n(71760);function l(e){return(0,r.B3)(e)?(0,r.oT)(e)||(0,r.K8)(e)||(0,r.x1)(e)||(0,i.jA)(e)?o.Y0:e:(0,o.lO)(e)}},39888:(e,t,n)=>{n.d(t,{Of:()=>h,Qc:()=>v,Xg:()=>d,cL:()=>g,e5:()=>f,ll:()=>p,sT:()=>y});var i,o=n(23355),r=n(8922),l=n(63599),a=n(56911),s=n(9892),u=n(71760),c=n(38079);function d(e){return function(e,t){let{hasZ:n,spatialReference:l}=e,a=(0,c.l)(l),s=0,u=(0,r._H)(a);if(null==u)return null;let d=t===i.Direct?m:y;for(let t of e.paths){if(t.length<2)continue;let e=t.length-1;for(let i=0;i<e;++i){let e=t[i];b[0]=e[0],b[1]=e[1],b[2]=n?e[2]:0;let o=t[i+1];x[0]=o[0],x[1]=o[1],x[2]=n?o[2]:0;let r=d(b,x,l);if(null==r)return null;s+=r.value}}return(0,o.d_)(s,u)}(e,i.Horizontal)}function p(e,t){let{spatialReference:n}=e;return(0,u.aI)(n,t.spatialReference)?(b[0]=e.x,b[1]=e.y,b[2]=e.hasZ?e.z:0,x[0]=t.x,x[1]=t.y,x[2]=t.hasZ?t.z:0,y(b,x,n)):null}function f(e,t){let{spatialReference:n}=e;return(0,u.aI)(n,t.spatialReference)?(b[0]=e.x,b[1]=e.y,b[2]=e.hasZ?e.z:0,x[0]=t.x,x[1]=t.y,x[2]=t.hasZ?t.z:0,g(b,x,n)):null}function h(e){return null!=e?v(e.hasZ?e.z:0,e.spatialReference):null}function v(e,t){let n=(0,r.mq)(t);return null!=n?(0,o.d_)(e??0,n):null}function m(e,t,n){let r=_(e,t,n,i.Direct);return null!=r?(0,o.d_)(r.direct,r.unit):null}function y(e,t,n){let r=_(e,t,n,i.Horizontal);return null!=r?(0,o.d_)(r.horizontal,r.unit):null}function g(e,t,n){let r=_(e,t,n,i.Vertical);return null!=r?(0,o.d_)(r.verticalSigned,r.unit):null}function _(e,t,n,o){let a=(0,c.l)(n),u=(0,r._H)(a);if(null==u)return null;let d=t[2]-e[2];if(o===i.Vertical)return{verticalSigned:d,unit:u};if(!(0,s.F)(e,n,w,a)||!(0,s.F)(t,n,M,a))return null;if(o===i.Direct)return{direct:(0,l.j)(M,w),unit:u};if((0,l.i)(A,e[0],e[1],t[2]),!(0,s.F)(A,n,A,a))return null;let p=(0,l.j)(A,M);return o===i.Horizontal?{horizontal:p,unit:u}:{direct:(0,l.j)(M,w),horizontal:p,vertical:Math.abs(d),unit:u}}!function(e){e[e.Direct=0]="Direct",e[e.Horizontal=1]="Horizontal",e[e.Vertical=2]="Vertical"}(i||(i={}));let b=(0,a.vt)(),x=(0,a.vt)(),w=(0,a.vt)(),M=(0,a.vt)(),A=(0,a.vt)()},40636:(e,t,n)=>{n.r(t),n.d(t,{buffer:()=>K,changeDefaultSpatialReferenceTolerance:()=>Y,clearDefaultSpatialReferenceTolerance:()=>X,clip:()=>c,contains:()=>p,convexHull:()=>A,crosses:()=>f,cut:()=>d,densify:()=>L,difference:()=>C,disjoint:()=>_,distance:()=>h,equals:()=>v,extendedSpatialReferenceInfo:()=>u,flipHorizontal:()=>G,flipVertical:()=>R,generalize:()=>z,geodesicArea:()=>B,geodesicBuffer:()=>$,geodesicDensify:()=>V,geodesicLength:()=>N,intersect:()=>S,intersectLinesToPoints:()=>U,intersects:()=>m,isSimple:()=>w,nearestCoordinate:()=>E,nearestVertex:()=>D,nearestVertices:()=>I,offset:()=>T,overlaps:()=>b,planarArea:()=>F,planarLength:()=>H,relate:()=>x,rotate:()=>O,simplify:()=>M,symmetricDifference:()=>k,touches:()=>y,union:()=>Z,within:()=>g});var i=n(86942),o=n(70433),r=n(71599),l=n(91463),a=n(10526);function s(e){let t=Array.isArray(e)?e[0].spatialReference:e.spatialReference;return t?(0,i.PZ)(l.A,t):l.A.WGS84}function u(e){return r.G.extendedSpatialReferenceInfo(e)}function c(e,t){return(0,o.f)(e),r.G.clip(a.hydratedAdapter,s(e),e,t)}function d(e,t){return(0,o.f)(e),r.G.cut(a.hydratedAdapter,s(e),e,t)}function p(e,t){return(0,o.f)(e),(0,o.f)(t),r.G.contains(a.hydratedAdapter,s(e),e,t)}function f(e,t){return(0,o.f)(e),(0,o.f)(t),r.G.crosses(a.hydratedAdapter,s(e),e,t)}function h(e,t,n){return(0,o.f)(e),(0,o.f)(t),r.G.distance(a.hydratedAdapter,s(e),e,t,n)}function v(e,t){return(0,o.f)(e),(0,o.f)(t),r.G.equals(a.hydratedAdapter,s(e),e,t)}function m(e,t){return(0,o.f)(e),(0,o.f)(t),r.G.intersects(a.hydratedAdapter,s(e),e,t)}function y(e,t){return(0,o.f)(e),(0,o.f)(t),r.G.touches(a.hydratedAdapter,s(e),e,t)}function g(e,t){return(0,o.f)(e),(0,o.f)(t),r.G.within(a.hydratedAdapter,s(e),e,t)}function _(e,t){return(0,o.f)(e),(0,o.f)(t),r.G.disjoint(a.hydratedAdapter,s(e),e,t)}function b(e,t){return(0,o.f)(e),(0,o.f)(t),r.G.overlaps(a.hydratedAdapter,s(e),e,t)}function x(e,t,n){return(0,o.f)(e),(0,o.f)(t),r.G.relate(a.hydratedAdapter,s(e),e,t,n)}function w(e){return(0,o.f)(e),r.G.isSimple(a.hydratedAdapter,s(e),e)}function M(e){return(0,o.f)(e),r.G.simplify(a.hydratedAdapter,s(e),e)}function A(e,t=!1){return r.G.convexHull(a.hydratedAdapter,s(e),e,t)}function C(e,t){return(0,o.f)(t),r.G.difference(a.hydratedAdapter,s(e),e,t)}function k(e,t){return(0,o.f)(t),r.G.symmetricDifference(a.hydratedAdapter,s(e),e,t)}function S(e,t){return(0,o.f)(t),r.G.intersect(a.hydratedAdapter,s(e),e,t)}function Z(e){return r.G.union(a.hydratedAdapter,s(e),e)}function T(e,t,n,i,o,l){return r.G.offset(a.hydratedAdapter,s(e),e,t,n,i,o,l)}function K(e,t,n,i=!1){return r.G.buffer(a.hydratedAdapter,s(e),e,t,n,i)}function $(e,t,n,i,o,l){return r.G.geodesicBuffer(a.hydratedAdapter,s(e),e,t,n,i,o,l)}function E(e,t,n=!0){return(0,o.f)(e),r.G.nearestCoordinate(a.hydratedAdapter,s(e),e,t,n)}function D(e,t){return(0,o.f)(e),r.G.nearestVertex(a.hydratedAdapter,s(e),e,t)}function I(e,t,n,i){return(0,o.f)(e),r.G.nearestVertices(a.hydratedAdapter,s(e),e,t,n,i)}function P(e){return"xmin"in e?"center"in e?e.center:null:"x"in e?e:"extent"in e?e.extent?.center??null:null}function O(e,t,n){if(null==e)throw new j;let i=e.spatialReference;if(null==(n=n??P(e)))throw new j;let o=e.constructor.fromJSON(r.G.rotate(e,t,n));return o.spatialReference=i,o}function G(e,t){if(null==e)throw new j;let n=e.spatialReference;if(null==(t=t??P(e)))throw new j;let i=e.constructor.fromJSON(r.G.flipHorizontal(e,t));return i.spatialReference=n,i}function R(e,t){if(null==e)throw new j;let n=e.spatialReference;if(null==(t=t??P(e)))throw new j;let i=e.constructor.fromJSON(r.G.flipVertical(e,t));return i.spatialReference=n,i}function z(e,t,n,i){return(0,o.f)(e),r.G.generalize(a.hydratedAdapter,s(e),e,t,n,i)}function L(e,t,n){return(0,o.f)(e),r.G.densify(a.hydratedAdapter,s(e),e,t,n)}function V(e,t,n,i=0){return(0,o.f)(e),r.G.geodesicDensify(a.hydratedAdapter,s(e),e,t,n,i)}function F(e,t){return(0,o.f)(e),r.G.planarArea(a.hydratedAdapter,s(e),e,t)}function H(e,t){return(0,o.f)(e),r.G.planarLength(a.hydratedAdapter,s(e),e,t)}function B(e,t,n){return(0,o.f)(e),r.G.geodesicArea(a.hydratedAdapter,s(e),e,t,n)}function N(e,t,n){return(0,o.f)(e),r.G.geodesicLength(a.hydratedAdapter,s(e),e,t,n)}function U(e,t){return r.G.intersectLinesToPoints(a.hydratedAdapter,s(e),e,t)}function Y(e,t){r.G.changeDefaultSpatialReferenceTolerance(e,t)}function X(e){r.G.clearDefaultSpatialReferenceTolerance(e)}class j extends Error{constructor(){super("Illegal Argument Exception")}}},42990:(e,t,n)=>{n.d(t,{Jd:()=>f,Nk:()=>s,OM:()=>p,Oo:()=>d,ix:()=>u,yh:()=>c});var i=n(65985),o=n(23355),r=n(70907);function l(e,t,n,i=2,a="abbr"){return(0,r.zJ)(e,(0,o.kM)(t,n).value,n,i,a)}function a(e,t,n,i=2,l="abbr"){return(0,r.nD)(e,(0,o.kM)(t,n).value,n,i,l)}function s(e,t,n,o=i.ie,l=!0){return(0,r.Me)(e.value,e.unit,e.rotationType,t,n,o,l)}function u(e,t,n,i,o="abbr"){switch(i=i??2,n){case"imperial":return function(e,t,n=2,i="abbr"){return(0,r.tr)(e,t.value,t.unit,n,i)}(e,t,i,o);case"metric":return function(e,t,n=2,i="abbr"){return(0,r.Ee)(e,t.value,t.unit,n,i)}(e,t,i,o);default:return l(e,t,n,i,o)}}function c(e,t,n,i=2,o="abbr"){switch(n){case"imperial":return function(e,t,n=2,i="abbr"){return(0,r.J1)(e,t.value,t.unit,n,i)}(e,t,i,o);case"metric":return function(e,t,n=2,i="abbr"){return(0,r.Mm)(e,t.value,t.unit,n,i)}(e,t,i,o);default:return a(e,t,n,i,o)}}function d(e,t,n,i=2,o="abbr"){switch(n){case"imperial":return function(e,t,n=2,i="abbr"){return(0,r.t_)(e,t.value,t.unit,n,i)}(e,t,i,o);case"metric":return function(e,t,n=2,i="abbr"){return(0,r.W4)(e,t.value,t.unit,n,i)}(e,t,i,o);default:return l(e,t,n,i,o)}}function p(e,t,n,i=2,o="abbr"){switch(n){case"imperial":return function(e,t,n=2,i="abbr"){return(0,r.LF)(e,t.value,t.unit,n,i)}(e,t,i,o);case"metric":return function(e,t,n=2,i="abbr"){return(0,r.e_)(e,t.value,t.unit,n,i)}(e,t,i,o);default:return a(e,t,n,i,o)}}function f(e,t,n,i=2,o="abbr"){switch(n){case"imperial":return function(e,t,n=2,i="abbr"){return(0,r.Sz)(e,t.value,t.unit,n,i)}(e,t,i,o);case"metric":return function(e,t,n=2,i="abbr"){return(0,r.zq)(e,t.value,t.unit,n,i)}(e,t,i,o);default:return l(e,t,n,i,o)}}},45016:(e,t,n)=>{function i(e,t){return t?"xoffset"in t&&t.xoffset?Math.max(e,Math.abs(t.xoffset)):"yoffset"in t&&t.yoffset?Math.max(e,Math.abs(t.yoffset||0)):e:e}function o(e,t){return"number"==typeof e?e:e?.stops?.length?function(e){let t=0,n=0;for(let i=0;i<e.length;i++){let o=e[i].size;"number"==typeof o&&(t+=o,n++)}return t/n}(e.stops):t}function r(e){let t=e?.renderer,n="touch"===e?.pointerType?9:6;if(!t)return n;let r="visualVariables"in t?function(e,t){if(!t)return e;let n=t.filter(e=>"size"===e.type).map(t=>{let{maxSize:n,minSize:i}=t;return(o(n,e)+o(i,e))/2}),i=0,r=n.length;if(0===r)return e;for(let e=0;e<r;e++)i+=n[e];return Math.max(Math.floor(i/r),e)}(n,t.visualVariables):n;if("simple"===t.type)return i(r,t.symbol);if("unique-value"===t.type){let e=r;return t.uniqueValueInfos?.forEach(t=>{e=i(e,t.symbol)}),e}if("class-breaks"===t.type){let e=r;return t.classBreakInfos.forEach(t=>{e=i(e,t.symbol)}),e}return"dot-density"===t.type||t.type,r}n.d(t,{o:()=>r})},48084:(e,t,n)=>{n.d(t,{M0:()=>l,yF:()=>r});var i=n(75862),o=n(71760);function r(e){return(0,i.TT)(e)||(0,o.K8)(e)}function l(e,t,n,...r){return(0,i.TT)(e)?t.apply(void 0,r):(0,o.K8)(e)?n.apply(void 0,r):null}},48176:(e,t,n)=>{n.d(t,{T:()=>o});var i=n(55048);function o(e){let t=0,n=0,o=0;return e&&("cim"===e.type&&e.data.symbol&&"symbolLayers"in e.data.symbol&&e.data.symbol.symbolLayers&&e.data.symbol.symbolLayers.map(e=>{"CIMVectorMarker"===e.type&&e.anchorPoint&&(Math.abs(e.anchorPoint.x)>t&&(t=e.anchorPoint.x),Math.abs(e.anchorPoint.y)>n&&(n=e.anchorPoint.y),null!=e.size&&e.size>o&&(o=e.size))}),t=(0,i.Lz)(t),n=(0,i.Lz)(n),o=(0,i.Lz)(o)),{offsetX:t,offsetY:n,size:o}}},49861:(e,t,n)=>{function i(e){let t,n,i=[],o=!1;return function(...r){return o&&t===this&&function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(r,i)||(n=e.apply(this,r),t=this,i=r,o=!0),n}}n.d(t,{B:()=>i})},51122:(e,t,n)=>{var i;n.d(t,{u:()=>i}),function(e){e[e.KILOBYTES=1024]="KILOBYTES",e[e.MEGABYTES=1048576]="MEGABYTES",e[e.GIGABYTES=0x40000000]="GIGABYTES"}(i||(i={}))},53103:(e,t,n)=>{n.d(t,{l:()=>b});var i=n(81856),o=n(28690),r=n(74652),l=n(45257),a=n(55048),s=n(91838);n(57845),n(61939),n(33638);var u=n(12709),c=n(54036),d=n(63599),p=n(56911),f=n(65111),h=n(86835),v=n(26585),m=n(1345),y=n(8136),g=n(48176),_=n(66241);let b=class extends o.A{set graphic(e){this._circleCollisionCache=null,this._originalSymbol=e.symbol,this._set("graphic",e),this.attachSymbolChanged()}get elevationInfo(){let{layer:e}=this.graphic,t=e&&"elevationInfo"in e?e.elevationInfo:null,n=(0,v.ky)(this.graphic),i=t?t.offset:0;return new y.A({mode:n,offset:i})}set focusedSymbol(e){e!==this._get("focusedSymbol")&&(this._set("focusedSymbol",e),this._updateGraphicSymbol(),this._circleCollisionCache=null)}grabbableForEvent(){return!0}set grabbing(e){e!==this._get("grabbing")&&(this._set("grabbing",e),this._updateGraphicSymbol())}set hovering(e){e!==this._get("hovering")&&(this._set("hovering",e),this._updateGraphicSymbol())}set selected(e){e!==this._get("selected")&&(this._set("selected",e),this._updateGraphicSymbol(),this.events.emit("select-changed",{action:e?"select":"deselect"}))}get _focused(){return this._get("hovering")||this._get("grabbing")}constructor(e){super(e),this.layer=null,this.interactive=!0,this.selectable=!1,this.grabbable=!0,this.dragging=!1,this.cursor=null,this.consumesClicks=!0,this.events=new r.A.EventEmitter,this._circleCollisionCache=null,this._graphicSymbolChangedHandle=null,this._originalSymbol=null}destroy(){this.detachSymbolChanged(),this._resetGraphicSymbol(),this._set("view",null)}intersectionDistance(e){let t=this.graphic;if(!1===t.visible)return null;let n=t.geometry;if(null==n)return null;let i=this._get("focusedSymbol"),o=null!=i?i:t.symbol;return"2d"===this.view.type?this._intersectDistance2D(this.view,e,n,o):this._intersectDistance3D(this.view,e,t)}attach(){this.attachSymbolChanged(),null!=this.layer&&this.layer.add(this.graphic)}detach(){this.detachSymbolChanged(),this._resetGraphicSymbol(),null!=this.layer&&this.layer.remove(this.graphic)}attachSymbolChanged(){this.detachSymbolChanged(),this._graphicSymbolChangedHandle=(0,l.wB)(()=>this.graphic?.symbol,e=>{null!=e&&e!==this.focusedSymbol&&e!==this._originalSymbol&&(this._originalSymbol=e,this._focused&&null!=this.focusedSymbol&&(this.graphic.symbol=this.focusedSymbol))},l.OH)}detachSymbolChanged(){null!=this._graphicSymbolChangedHandle&&(this._graphicSymbolChangedHandle.remove(),this._graphicSymbolChangedHandle=null)}onElevationChange(){}onViewChange(){}_updateGraphicSymbol(){this.graphic.symbol=this._focused&&null!=this.focusedSymbol?this.focusedSymbol:this._originalSymbol}_resetGraphicSymbol(){this.graphic.symbol=this._originalSymbol}_intersectDistance2D(e,t,n,i){if(null==(i=i||(0,m.SF)(n)))return null;let o=this._circleCollisionCache;if("point"===n.type&&"cim"===i.type&&"CIMPointSymbol"===i.data.symbol?.type&&i.data.symbol.symbolLayers){let{offsetX:o,offsetY:r,size:l}=(0,g.T)(i),s=(0,a.WA)(t,w),u=l/2,d=e.toScreen(n),p=d.x+o,f=d.y+r;return(0,c.hG)(s,[p,f])<u*u?1:null}if("point"!==n.type||"simple-marker"!==i.type)return(0,_.t)(t,n,e)?1:null;if(null==o||!o.originalPoint.equals(n)){let t=e.spatialReference;if((0,f.canProjectWithoutEngine)(n.spatialReference,t)){let e=(0,f.project)(n,t);o={originalPoint:n.clone(),mapPoint:e,radiusPx:(0,a.Lz)(i.size)},this._circleCollisionCache=o}}if(null!=o){let n=(0,a.WA)(t,w),r=e.toScreen?.(o.mapPoint);if(!r)return null;let l=o.radiusPx,s=r.x+(0,a.Lz)(i.xoffset),u=r.y-(0,a.Lz)(i.yoffset);return(0,c.hG)(n,[s,u])<l*l?1:null}return null}_intersectDistance3D(e,t,n){let i=e.toMap(t,{include:[n]});return i&&(0,h.g)(i,x,e.renderSpatialReference)?(0,d.j)(x,e.state.camera.eye):null}};(0,i._)([(0,s.MZ)({constructOnly:!0,nonNullable:!0})],b.prototype,"graphic",null),(0,i._)([(0,s.MZ)()],b.prototype,"elevationInfo",null),(0,i._)([(0,s.MZ)({constructOnly:!0,nonNullable:!0})],b.prototype,"view",void 0),(0,i._)([(0,s.MZ)({value:null})],b.prototype,"focusedSymbol",null),(0,i._)([(0,s.MZ)({constructOnly:!0})],b.prototype,"layer",void 0),(0,i._)([(0,s.MZ)()],b.prototype,"interactive",void 0),(0,i._)([(0,s.MZ)()],b.prototype,"selectable",void 0),(0,i._)([(0,s.MZ)()],b.prototype,"grabbable",void 0),(0,i._)([(0,s.MZ)({value:!1})],b.prototype,"grabbing",null),(0,i._)([(0,s.MZ)()],b.prototype,"dragging",void 0),(0,i._)([(0,s.MZ)()],b.prototype,"hovering",null),(0,i._)([(0,s.MZ)({value:!1})],b.prototype,"selected",null),(0,i._)([(0,s.MZ)()],b.prototype,"cursor",void 0),b=(0,i._)([(0,u.$)("esri.views.interactive.GraphicManipulator")],b);let x=(0,p.vt)(),w=(0,a.gs)()},56113:(e,t,n)=>{n.d(t,{A:()=>m});var i,o=n(81856),r=n(92713),l=n(91838);n(57845),n(61939),n(33638);var a=n(12709),s=n(40998),u=n(38715),c=n(70455),d=n(79019),p=n(56911),f=n(519);let h=i=class extends r.A{constructor(e){super(e),this.translation=(0,p.vt)(),this.rotationAxis=(0,p.ci)(f.up),this.rotationAngle=0,this.scale=(0,p.fA)(1,1,1)}get rotation(){return(0,f.i4)(this.rotationAxis,this.rotationAngle)}set rotation(e){this.rotationAxis=(0,p.o8)((0,f.yo)(e)),this.rotationAngle=(0,f.g7)(e)}get localMatrix(){let e=(0,u.vt)();return(0,c.x8)(v,(0,f.yo)(this.rotation),(0,f.$I)(this.rotation)),(0,s.o1)(e,v,this.translation,this.scale),e}get localMatrixInverse(){return(0,s.B8)((0,u.vt)(),this.localMatrix)}equals(e){return this===e||null!=e&&(0,s.t2)(this.localMatrix,e.localMatrix)}clone(){let e={translation:(0,p.o8)(this.translation),rotationAxis:(0,p.o8)(this.rotationAxis),rotationAngle:this.rotationAngle,scale:(0,p.o8)(this.scale)};return new i(e)}};(0,o._)([(0,l.MZ)({type:[Number],nonNullable:!0,json:{write:!0}})],h.prototype,"translation",void 0),(0,o._)([(0,l.MZ)({type:[Number],nonNullable:!0,json:{write:!0}})],h.prototype,"rotationAxis",void 0),(0,o._)([(0,l.MZ)({type:Number,nonNullable:!0,json:{write:!0}})],h.prototype,"rotationAngle",void 0),(0,o._)([(0,l.MZ)({type:[Number],nonNullable:!0,json:{write:!0}})],h.prototype,"scale",void 0),(0,o._)([(0,l.MZ)()],h.prototype,"rotation",null),(0,o._)([(0,l.MZ)()],h.prototype,"localMatrix",null),(0,o._)([(0,l.MZ)()],h.prototype,"localMatrixInverse",null),h=i=(0,o._)([(0,a.$)("esri.geometry.support.MeshTransform")],h);let v=(0,d.vt)(),m=h},61102:(e,t,n)=>{n.d(t,{A:()=>d});var i=n(81856),o=n(71017),r=n(92713),l=n(91838);n(57845),n(61939),n(33638);var a=n(33498),s=n(12709),u=n(56911);let c=class extends o.A.ClonableMixin(r.A){constructor(e){super(e),this.type="local",this.origin=(0,u.vt)()}};(0,i._)([(0,a.e)({local:"local"},{readOnly:!0})],c.prototype,"type",void 0),(0,i._)([(0,l.MZ)({type:[Number],nonNullable:!0,json:{write:!0}})],c.prototype,"origin",void 0);let d=c=(0,i._)([(0,s.$)("esri.geometry.support.MeshLocalVertexSpace")],c)},66241:(e,t,n)=>{n.d(t,{V:()=>l,t:()=>a});var i=n(8922),o=n(61414),r=n(45016);function l(e,t,n,r=new o.A){let a=0;if("2d"===n.type)a=t*(n.resolution??0);else if("3d"===n.type){let o=n.overlayPixelSizeInMapUnits(e),r=n.basemapSpatialReference;a=null==r||r.equals(n.spatialReference)?t*o:(0,i.GA)(r)/(0,i.GA)(n.spatialReference)}let s=e.x-a,u=e.y-a,c=e.x+a,d=e.y+a,{spatialReference:p}=n;return r.xmin=Math.min(s,c),r.ymin=Math.min(u,d),r.xmax=Math.max(s,c),r.ymax=Math.max(u,d),r.spatialReference=p,r}function a(e,t,n){let i=n.toMap(e);return null!=i&&l(i,(0,r.o)(),n,s).intersects(t)}let s=new o.A},70907:(e,t,n)=>{n.d(t,{Cq:()=>c,Ee:()=>f,J1:()=>g,LF:()=>b,Me:()=>A,Mm:()=>h,Sz:()=>w,W4:()=>v,e_:()=>m,nD:()=>p,t_:()=>_,tr:()=>y,v7:()=>S,zJ:()=>d,zq:()=>x});var i=n(51122),o=n(65985),r=n(20538),l=n(23355),a=n(45714),s=n(8922),u=n(71538);function c(e,t,n){return e.units[t][n]}function d(e,t,n,i=2,o="abbr"){return`${(0,u.ZV)(t,{minimumFractionDigits:i,maximumFractionDigits:i,signDisplay:t>0?"never":"exceptZero"})} ${c(e,n,o)}`}function p(e,t,n,i=2,o="abbr"){return`${(0,u.ZV)(t,{minimumFractionDigits:i,maximumFractionDigits:i,signDisplay:"exceptZero"})} ${c(e,n,o)}`}function f(e,t,n,i=2,o="abbr"){let r=(0,s.x0)(t,n);return d(e,(0,s.oU)(t,n,r),r,i,o)}function h(e,t,n,i=2,o="abbr"){let r=(0,s.x0)(t,n);return p(e,(0,s.oU)(t,n,r),r,i,o)}function v(e,t,n,i=2,o="abbr"){let r=(0,s.x$)(t,n);return d(e,(0,s.oU)(t,n,r),r,i,o)}function m(e,t,n,i=2,o="abbr"){let r=(0,s.x$)(t,n);return p(e,(0,s.oU)(t,n,r),r,i,o)}function y(e,t,n,i=2,o="abbr"){let r=(0,s.OU)(t,n);return d(e,(0,s.oU)(t,n,r),r,i,o)}function g(e,t,n,i=2,o="abbr"){let r=(0,s.OU)(t,n);return p(e,(0,s.oU)(t,n,r),r,i,o)}function _(e,t,n,i=2,o="abbr"){let r=(0,s.y7)(t,n);return d(e,(0,s.oU)(t,n,r),r,i,o)}function b(e,t,n,i=2,o="abbr"){let r=(0,s.y7)(t,n);return p(e,(0,s.oU)(t,n,r),r,i,o)}function x(e,t,n,i=2,o="abbr"){let r=(0,s.wv)(t,n);return d(e,(0,s.oU)(t,n,r),r,i,o)}function w(e,t,n,i=2,o="abbr"){let r=(0,s.TL)(t,n);return d(e,(0,s.oU)(t,n,r),r,i,o)}let M=(e,t)=>({style:"unit",unitDisplay:"narrow",unit:"degree",maximumFractionDigits:t,minimumFractionDigits:t,signDisplay:e>0?"never":"exceptZero"});function A(e,t,n,i,r,a=o.ie,c=!0){let d=a.normalize((0,l.g2)((0,s.oU)(e,t,"degrees"),n,i),0,c),p=M(d,r??2);return d=function(e,t){let n=JSON.stringify(t),i=C.get(n);return i||(i=new Intl.NumberFormat("en-US",t),C.set(n,i)),/^[-+]?360\.?0*°?$/.test(i.format(e))?0:e}(d,p),(0,u.ZV)(d,p)}let C=new Map,k=["B","kB","MB","GB","TB"];function S(e,t){let n=0===(t=Math.round(t))?0:Math.floor(Math.log(t)/Math.log(i.u.KILOBYTES));n=(0,r.qE)(n,0,k.length-1);let o=(0,u.ZV)(t/i.u.KILOBYTES**n,{maximumFractionDigits:2});return(0,a.HC)(e.units.bytes[k[n]],{fileSize:o})}},72502:(e,t,n)=>{n.d(t,{sZ:()=>eN,wG:()=>eB,mu:()=>ez,A:()=>eO,HA:()=>eU,IA:()=>eR,Ue:()=>eG});var i=n(83610),o=n(19158),r=n(20538),l=n(23355),a=n(45257),s=n(8922),u=n(63599),c=n(56911),d=n(15030),p=n(56113),f=n(19474),h=n(71760),v=n(6322),m=n(23500),y=n(81856),g=n(74652),_=n(46310),b=n(40941),x=n(55048),w=n(91838);n(57845),n(61939),n(33638);var M=n(12709),A=n(62543);let C="esri-tooltip",k=`${C}-content`,S=`${C}-content--input`,Z=`${C}-content__header`,T=`${C}-content__header__spacer`,K=`${C}-content__header__actions`,$=`${C}-draw-header-actions`,E=`${C}-table`,D=`${C}-help-message`,I=`${C}-help-message__text`,P=`${C}-help-message__icon`;n(32391);var O=n(1455),G=n(41390),R=n(47642);let z=`${C}-field`,L={base:z,inputMode:`${z}--input`,title:`${z}__title`,value:`${z}__value`},V=class extends O.A{constructor(){super(...arguments),this.hidden=!1,this.mode="feedback"}render(){return(0,R.K)("div",{class:this.classes({[L.base]:!0,[L.inputMode]:"input"===this.mode})},(0,R.K)("div",{class:L.title,key:"title"},this.title),(0,R.K)("div",{class:L.value,key:"value"},this.value))}};(0,y._)([(0,w.MZ)()],V.prototype,"hidden",void 0),(0,y._)([(0,w.MZ)()],V.prototype,"mode",void 0),(0,y._)([(0,w.MZ)()],V.prototype,"title",void 0),(0,y._)([(0,w.MZ)()],V.prototype,"value",void 0),V=(0,y._)([(0,M.$)("esri.views.interactive.tooltip.components.TooltipField")],V);let F={base:`${C}-value-by-value`},H=class extends O.A{constructor(){super(...arguments),this.divider="\xd7"}render(){return(0,R.K)("div",{class:F.base},(0,R.K)("span",null,this.left),(0,R.K)("span",null,this.divider),(0,R.K)("span",null,this.right))}};(0,y._)([(0,w.MZ)()],H.prototype,"left",void 0),(0,y._)([(0,w.MZ)()],H.prototype,"divider",void 0),(0,y._)([(0,w.MZ)()],H.prototype,"right",void 0),H=(0,y._)([(0,M.$)("esri.views.interactive.tooltip.components.ValueByValue")],H);var B=n(12800),N=n(49861),U=n(92753),Y=n(77089),X=n(70907),j=n(37136),q=n(4233),J=n(23716),W=n(73225);let Q=Symbol("dragHandles"),ee=class extends O.A{constructor(){super(...arguments),this._focusAbortController=new AbortController,this._transitionInfo=null,this._mode="feedback",this._getFormatters=(0,N.B)(q.GC),this._onHeaderPointerDown=e=>{let t=e.target;t instanceof HTMLElement&&"calcite-button"!==t?.tagName?.toLowerCase()&&(this.removeHandles(Q),t.setPointerCapture(e.pointerId),this.tooltip.onDragStart(e.clientX,e.clientY),this.addHandles([(0,_.on)(t,"pointermove",({clientX:e,clientY:t})=>{this.tooltip.onDrag(e,t)}),(0,_.on)(t,["pointerup","pointercancel"],n=>{this.removeHandles(Q),t.releasePointerCapture(e.pointerId),this.tooltip.onDragEnd()}),(0,_.on)(t,"touchstart",e=>e.preventDefault())],Q))},this._onDiscard=()=>{this.destroyed||(this.tooltip.emit("discard"),this.info.clearInputValues(),this.exitInputMode())},this._onCommit=(e,t)=>{if(this.destroyed)return;if(this.tooltip.emit("commit",{type:t}),"commit-and-exit"===t)return void this.exitInputMode();if("commit-on-blur"===t)return;let n=this._getFocusableElements(),i=n.length,o=n.indexOf(e);if(-1===o)return void this.exitInputMode();let r=((o+("commit-and-next"===t?1:-1))%i+i)%i;et(n.at(r))},this._onKeyDown=e=>{switch(e.code){case m.ac.next:return this._onNextKey(e);case m.ac.discard:return e.stopPropagation(),this._onDiscard()}}}get mode(){return this._mode}get _displayUnits(){let{displayUnits:e}=this.info.sketchOptions.values,t=(0,j.c)(this.tooltip.view);return{length:e.length??t,verticalLength:e.verticalLength??t,area:e.area??t}}get _inputUnitInfos(){let e=this._messagesUnits,t=t=>({unit:t,abbreviation:(0,X.Cq)(e,t,"abbr")}),{inputUnits:n}=this.info.sketchOptions.values,i=(0,j.c)(this.tooltip.view),o=n.length??i,r=n.verticalLength??i,l=n.area??i;return{length:t((0,s.wL)(o)),verticalLength:t((0,s.m5)(r)),area:t((0,s.tW)(l)),angle:t("degrees")}}get _formatters(){return this._getFormatters(this._messagesUnits,this._displayUnits)}get fieldContext(){return{formatters:this._formatters,inputUnitInfos:this._inputUnitInfos,messages:this._messagesTooltip,sketchOptions:this.info.sketchOptions,onCommit:this._onCommit,onDiscard:this._onDiscard}}render(){let{visibleElements:e}=this.info.sketchOptions.tooltips,t=this._renderedContent,n=this._renderedActions,i=this._renderedHelpMessage,o=t.length>0,r=o||!!i,l="input"===this.mode;return(0,R.K)("div",{class:(0,G.Ly)(k,l&&S),onkeydown:this._onKeyDown,tabIndex:-1},l&&r&&e.header?(0,R.K)("div",{class:Z,"data-testid":"tooltip-header",key:"header",onpointerdown:this._onHeaderPointerDown},(0,R.K)("calcite-button",{appearance:"transparent","data-testid":"tooltip-back-button",iconFlipRtl:"both",iconStart:"chevron-left",key:"discard-button",kind:"neutral",onclick:this._onDiscard,scale:"s",tabIndex:-1}),n.length>0?(0,R.K)(R.w,null,(0,R.K)("div",{class:T,key:"spacer"}),(0,R.K)("div",{class:K,key:"actions"},n)):null):null,o?(0,R.K)("div",{class:E,key:"content"},...t):null,i)}destroy(){this._focusAbortController.abort(),this._transitionInfo?.transition.skipTransition()}_renderActions(){return null}loadDependencies(){return(0,J.W)({button:()=>Promise.all([n.e(5082),n.e(814)]).then(n.bind(n,70814)),icon:()=>n.e(2461).then(n.bind(n,52461)),input:()=>Promise.all([n.e(5082),n.e(3245)]).then(n.bind(n,63245))})}async enterInputMode(e,t){try{await this._transitionTo("input",t),await this._focusField(e)}catch(e){(0,U.jH)(e)}}async exitInputMode({focusOnView:e=!0}={}){try{let{container:t,info:n}=this;n.clearInputValues();let i=e?t?.closest(".esri-view")?.querySelector(".esri-view-surface"):null;await this._transitionTo("feedback"),i instanceof HTMLElement&&i.focus()}catch(e){(0,U.jH)(e)}}_onNextKey(e){let t=this._getFocusableElements(),n=t.at(0),i=t.at(-1);n&&i&&(e.shiftKey?document.activeElement===n&&(e.preventDefault(),e.stopPropagation(),et(i)):document.activeElement===i&&(e.preventDefault(),e.stopPropagation(),et(n)))}get _renderedContent(){return en(this._renderContent())}get _renderedActions(){return en(this._renderActions())}get _renderedHelpMessage(){let{sketchOptions:e,visibleElements:t}=this.info;if(!t.helpMessage)return null;let n=e.tooltips.helpMessage??this._defaultHelpMessage;if(!n)return null;let i=e.tooltips.helpMessageIcon??"information";return(0,R.K)("div",{class:D,key:"help-message"},i?(0,R.K)("calcite-icon",{class:P,icon:i,scale:"s"}):null,(0,R.K)("div",{class:I},n))}get _defaultHelpMessage(){let{helpMessage:e,viewType:t}=this.info;return null==e?null:this._messagesTooltip?.sketch?.["3d"===t?"helpMessages3d":"helpMessages2d"]?.[e]}async _focusField(e){this._focusAbortController?.abort(),this._focusAbortController=new AbortController;let{signal:t}=this._focusAbortController;await this._waitForInputs(),(0,U.Te)(t);let n=this._getFocusableInputs(),i=e?n.find(t=>t.getAttribute("data-field-name")===e):n.at(0);await et(i)}async _transitionTo(e,t){if(this._mode===e&&!this._transitionInfo)return;if(this._transitionInfo?.mode===e)return this._transitionInfo.transition.finished;this._transitionInfo?.transition.skipTransition();let n=async()=>{this.destroyed||(this._mode=e,await (0,Y.NO)(),this.destroyed||(this.renderNow(),await (0,Y.NO)(),this.destroyed||t?.()))};if(!this.domNode?.firstChild||!document.startViewTransition||(0,B.O)())return void await n();this.autoRenderingEnabled=!1;let i=this._transitionInfo={transition:document.startViewTransition(async()=>{this.destroyed||i!==this._transitionInfo||(this.autoRenderingEnabled=!0,await n())}),mode:e};try{await i.transition.finished}finally{i===this._transitionInfo&&(this._transitionInfo=null)}}async _waitForInputs(){let e=()=>Array.from(this.domNode?.querySelectorAll("calcite-input")??[]);for(;0===e().length;)await (0,U.Pl)(ei);await (0,Y.$m)()}_getFocusableInputs(){return Array.from(this.domNode?.querySelectorAll("calcite-input:not([read-only]):not([disabled])")??[])}_getFocusableElements(){let e=this.domNode?.querySelector(`.${$}`);return[...Array.from(e?.querySelectorAll(`.${K} calcite-button:not([disabled])`)??[]),...this._getFocusableInputs()]}};async function et(e){await e?.setFocus()}function en(e){return(Array.isArray(e)?e:[e]).flat(10).filter(e=>!!e)}(0,y._)([(0,W.G)("esri/core/t9n/Units"),(0,w.MZ)()],ee.prototype,"_messagesUnits",void 0),(0,y._)([(0,W.G)("esri/views/interactive/tooltip/t9n/Tooltip"),(0,w.MZ)()],ee.prototype,"_messagesTooltip",void 0),(0,y._)([(0,w.MZ)()],ee.prototype,"info",void 0),(0,y._)([(0,w.MZ)()],ee.prototype,"tooltip",void 0),(0,y._)([(0,w.MZ)()],ee.prototype,"_mode",void 0),(0,y._)([(0,w.MZ)()],ee.prototype,"mode",null),(0,y._)([(0,w.MZ)()],ee.prototype,"_displayUnits",null),(0,y._)([(0,w.MZ)()],ee.prototype,"_inputUnitInfos",null),(0,y._)([(0,w.MZ)()],ee.prototype,"_formatters",null),(0,y._)([(0,w.MZ)()],ee.prototype,"fieldContext",null),(0,y._)([(0,w.MZ)()],ee.prototype,"_renderedContent",null),(0,y._)([(0,w.MZ)()],ee.prototype,"_renderedActions",null),(0,y._)([(0,w.MZ)()],ee.prototype,"_renderedHelpMessage",null),(0,y._)([(0,w.MZ)()],ee.prototype,"_defaultHelpMessage",null),ee=(0,y._)([(0,M.$)("esri.views.interactive.tooltip.content.TooltipContent")],ee);let ei=20,eo=class extends ee{_renderContent(){let{area:e,radius:t,xSize:n,ySize:i,visibleElements:o}=this.info,r=this._messagesTooltip.sketch,l=this._formatters;return(0,R.K)(R.w,null,o.radius&&null!=t?(0,R.K)(V,{title:r.radius,value:l.length(t)}):null,o.size&&null!=n&&null!=i?(0,R.K)(V,{title:r.size,value:(0,R.K)(H,{left:l.length(n),right:l.length(i)})}):null,o.area?(0,R.K)(V,{title:r.area,value:l.area(e)}):null)}};eo=(0,y._)([(0,M.$)("esri.views.interactive.tooltip.content.TooltipContentDrawCircle")],eo);let er=`${C}-editable-field`,el={base:er,inputMode:`${er}--input`,feedbackMode:`${er}--feedback`,readOnly:`${er}--read-only`,locked:`${er}--locked`,title:`${er}__title`,value:`${er}__value`,valueContent:`${er}__value__content`,valueContentReadOnly:`${er}__value__content--read-only`,lockIcon:`${er}__lock-icon`,input:`${er}__input`,inputWrapper:`${er}__input-wrapper`,inputMessage:`${er}__input-message`,inputSuffix:`${er}__input-suffix`,button:`${er}__button`},ea={lock:"lock",unlock:"unlock"},es=class extends O.A{constructor(){super(...arguments),this._input=null,this._lock=null,this._onLockClick=()=>{this.field.toggleLock(this.context)},this._onLockAfterCreate=e=>{this._lock=e},this._onLockAfterRemoved=()=>{this._lock=null},this._onKeyDown=e=>{e.key===m.ac.discard&&"input"===this.mode&&this._input&&this.context.onDiscard(this._input)},this._onInputKeyDown=e=>{let t=this._input;if(t)switch(e.key){case m.ac.commit:return this.field.onCommit("commit-and-exit",t,this.context);case m.ac.next:{e.preventDefault(),e.stopPropagation();let n=e.shiftKey?"commit-and-previous":"commit-and-next";return this.field.onCommit(n,t,this.context)}}},this._onInput=e=>{this.field.onInput(e.currentTarget.value)},this._onInputBlur=e=>{let t=this._input;t&&e.relatedTarget!==this._lock&&this.field.onCommit("commit-on-blur",t,this.context)},this._selectText=()=>{let e=()=>{this._input===document.activeElement&&this._input?.selectText()};e(),(0,Y.$m)().then(e)},this._onAfterCreate=e=>{this._input=e,e.addEventListener("paste",this._onPaste),e.addEventListener("beforeinput",this._onBeforeInput)},this._onAfterRemoved=e=>{e.removeEventListener("paste",this._onPaste),e.removeEventListener("beforeinput",this._onBeforeInput)},this._onPaste=e=>{let t=e.clipboardData?.getData("text");t&&null!=this.field.parse(t,this.context)&&(e.stopPropagation(),this.field.onInput(t))},this._onBeforeInput=e=>{"historyUndo"!==e.inputType&&"historyRedo"!==e.inputType||this.field.dirty||e.preventDefault()}}initialize(){this.addHandles((0,a.wB)(()=>this._rawDisplayValue,()=>{let{committed:e,inputValue:t}=this.field;e||t||this._input!==document.activeElement||this._selectText()}))}loadDependencies(){return(0,J.W)({button:()=>Promise.all([n.e(5082),n.e(814)]).then(n.bind(n,70814)),icon:()=>n.e(2461).then(n.bind(n,52461)),input:()=>Promise.all([n.e(5082),n.e(3245)]).then(n.bind(n,63245)),"input-message":()=>n.e(7924).then(n.bind(n,87924))})}render(){let{field:e,mode:t}=this,{locked:n,readOnly:i}=e;return(0,R.K)("div",{class:this.classes({[el.base]:!0,[el.feedbackMode]:"feedback"===t,[el.inputMode]:"input"===t,[el.locked]:n,[el.readOnly]:i})},(0,R.K)("div",{class:el.title,key:"title"},this._title),(0,R.K)("div",{class:el.value,key:"value",onkeydown:this._onKeyDown},"input"===t?this._renderValueInputMode():this._renderValueFeedbackMode()))}get _formattedValue(){return this.field.getFormattedValue(this.context)||eu}get _rawDisplayValue(){return this.field.getRawDisplayValue(this.context)}get _suffix(){return this.field.getSuffix(this.context)}get _title(){let{title:e}=this.field;return"string"==typeof e?e:e(this.context)}get _messages(){return this.context?.messages.sketch??{}}_renderValueFeedbackMode(){return(0,R.K)(R.w,null,(0,R.K)("div",{class:el.valueContent,key:"value-feedback"},this._formattedValue),this.field.locked&&"input"!==this.mode?(0,R.K)("calcite-icon",{class:el.lockIcon,icon:ea.lock,key:"icon",scale:"s"}):null)}_renderValueInputMode(){return this.field.readOnly?this._renderValueReadOnly():this._renderValueWritable()}_renderValueReadOnly(){return(0,R.K)("div",{class:this.classes(el.valueContent,el.valueContentReadOnly),key:"value-read-only"},this._formattedValue)}_renderValueWritable(){let{field:e}=this,t=this._messages,{name:n,invalid:i}=e;return(0,R.K)(R.w,null,(0,R.K)("div",{class:el.inputWrapper,key:"value-input"},(0,R.K)("calcite-input",{afterCreate:this._onAfterCreate,afterRemoved:this._onAfterRemoved,class:el.input,"data-field-name":n,"data-testid":`tooltip-field-${n}`,key:"input",onblur:this._onInputBlur,onfocus:this._selectText,onkeydown:this._onInputKeyDown,scale:"s",status:i?"invalid":"idle",type:"text",value:this._rawDisplayValue??eu,onCalciteInputInput:this._onInput}),i?(0,R.K)("calcite-input-message",{class:el.inputMessage,scale:"s",status:"invalid"},t.invalidValue):null),(0,R.K)("div",{class:el.inputSuffix,key:"suffix"},this._suffix),this._renderedLockButton)}get _renderedLockButton(){let{name:e,locked:t,lockable:n}=this.field;if(!n)return(0,R.K)("div",{key:"no-lock-button"});let i=this._messages,o=t?i.unlockConstraint:i.lockConstraint;return(0,R.K)("calcite-button",{afterCreate:this._onLockAfterCreate,afterRemoved:this._onLockAfterRemoved,alignment:"center",appearance:"transparent",class:el.button,"data-testid":`tooltip-field-${e}-lock`,iconStart:t?ea.lock:ea.unlock,key:"lock-button",kind:"neutral",label:o,onclick:this._onLockClick,scale:"s",tabIndex:-1,title:o})}};(0,y._)([(0,w.MZ)()],es.prototype,"field",void 0),(0,y._)([(0,w.MZ)()],es.prototype,"context",void 0),(0,y._)([(0,w.MZ)()],es.prototype,"mode",void 0),(0,y._)([(0,w.MZ)()],es.prototype,"_input",void 0),(0,y._)([(0,w.MZ)()],es.prototype,"_lock",void 0),(0,y._)([(0,w.MZ)()],es.prototype,"_formattedValue",null),(0,y._)([(0,w.MZ)()],es.prototype,"_rawDisplayValue",null),(0,y._)([(0,w.MZ)()],es.prototype,"_suffix",null),(0,y._)([(0,w.MZ)()],es.prototype,"_title",null),(0,y._)([(0,w.MZ)()],es.prototype,"_messages",null),(0,y._)([(0,w.MZ)()],es.prototype,"_renderedLockButton",null),es=(0,y._)([(0,M.$)("esri.views.interactive.tooltip.components.TooltipEditableField")],es);let eu="—";function ec(e){let t=e.fields.filter(e=>!0===e?.visible);return 0===t.length?null:(0,R.K)(R.w,null,t.map(t=>(0,R.K)(es,{context:e.context,field:t,key:t.id,mode:e.mode})))}let ed=class extends ee{_renderContent(){let{fieldContext:e,info:t,mode:n}=this,{visibleElements:i}=t;return(0,R.K)(ec,{context:e,fields:[i.coordinates?t.effectiveX:void 0,i.coordinates?t.effectiveY:void 0,i.elevation?t.elevation:void 0,i.orientation?t.orientation:void 0,i.scale?t.scale:void 0],mode:n})}};ed=(0,y._)([(0,M.$)("esri.views.interactive.tooltip.content.TooltipContentDrawMesh")],ed);let ep=class extends ee{_renderContent(){let{fieldContext:e,info:t,mode:n}=this,{elevation:i,visibleElements:o}=t;return(0,R.K)(ec,{context:e,fields:[o.coordinates?t.effectiveX:void 0,o.coordinates?t.effectiveY:void 0,o.elevation?i:void 0],mode:n})}};ep=(0,y._)([(0,M.$)("esri.views.interactive.tooltip.content.TooltipContentDrawPoint")],ep);let ef={absolute:"absolute-direction",relative:"relative-direction"},eh=class extends O.A{constructor(e){super(e),this.visibleElements={}}render(){return(0,R.K)("div",{class:$},this._isElementVisible("direction")?(0,R.K)(ev,{messages:this.messages,sketchOptions:this.sketchOptions}):null)}loadDependencies(){return(0,J.W)({button:()=>Promise.all([n.e(5082),n.e(814)]).then(n.bind(n,70814)),dropdown:()=>Promise.all([n.e(356),n.e(1289)]).then(n.bind(n,91289)),"dropdown-item":()=>Promise.all([n.e(5082),n.e(4331)]).then(n.bind(n,94331)),"dropdown-group":()=>n.e(9951).then(n.bind(n,59951))})}_isElementVisible(e){return this.visibleElements?.[e]??this.sketchOptions.tooltips.visibleElements[e]}};function ev(e){let{directionMode:t}=e.sketchOptions.values,n=e.messages?.sketch,i=n?.directionModeSelect?.title,o="absolute",r="relative";return(0,R.K)("calcite-dropdown",{key:"direction-mode",placement:"bottom-end",scale:"s",widthScale:"s",onCalciteDropdownSelect:t=>{let n=t.currentTarget.selectedItems?.[0]?.getAttribute("data-mode");e.sketchOptions.values.directionMode=n??"absolute"}},(0,R.K)("calcite-button",{alignment:"end",appearance:"transparent",iconStart:ef[t],kind:"neutral",label:i,scale:"s",slot:"trigger",title:i}),(0,R.K)("calcite-dropdown-group",{selectionMode:"single"},(0,R.K)("calcite-dropdown-item",{"data-mode":r,"data-testid":"tooltip-direction-mode-relative",iconStart:ef.relative,key:"relative",selected:t===r},n?.directionModeSelect?.relative),(0,R.K)("calcite-dropdown-item",{"data-mode":o,"data-testid":"tooltip-direction-mode-absolute",iconStart:ef.absolute,key:"absolute",selected:t===o},n?.directionModeSelect?.absolute)))}(0,y._)([(0,W.G)("esri/views/interactive/tooltip/t9n/Tooltip"),(0,w.MZ)()],eh.prototype,"messages",void 0),(0,y._)([(0,w.MZ)()],eh.prototype,"sketchOptions",void 0),(0,y._)([(0,w.MZ)()],eh.prototype,"visibleElements",void 0),eh=(0,y._)([(0,M.$)("esri.views.interactive.tooltip.components.DrawHeaderActions")],eh);let em=class extends ee{_renderContent(){let{fieldContext:e,info:t,mode:n}=this,{xyMode:i,visibleElements:o}=t;return(0,R.K)(ec,{context:e,fields:[..."direction-distance"===i?[o.direction?t.direction:void 0,o.distance?t.distance:void 0]:[o.coordinates?t.effectiveX:void 0,o.coordinates?t.effectiveY:void 0],o.elevation?t.elevation:void 0,o.area?t.area:void 0],mode:n})}_renderActions(){let{xyMode:e,sketchOptions:t}=this.info;return(0,R.K)(eh,{sketchOptions:t,visibleElements:{direction:"direction-distance"===e}})}};em=(0,y._)([(0,M.$)("esri.views.interactive.tooltip.content.TooltipContentDrawPolygon")],em);let ey=class extends ee{_renderContent(){let{fieldContext:e,info:t,mode:n}=this,{xyMode:i,visibleElements:o}=t;return(0,R.K)(ec,{context:e,fields:[..."direction-distance"===i?[o.direction?t.direction:void 0,o.distance?t.distance:void 0]:[o.coordinates?t.effectiveX:void 0,o.coordinates?t.effectiveY:void 0],o.elevation?t.elevation:void 0,o.totalLength?t.totalLength:void 0],mode:n})}_renderActions(){let{xyMode:e,sketchOptions:t}=this.info;return(0,R.K)(eh,{sketchOptions:t,visibleElements:{direction:"direction-distance"===e}})}};ey=(0,y._)([(0,M.$)("esri.views.interactive.tooltip.content.TooltipContentDrawPolyline")],ey);let eg=class extends ee{_renderContent(){let{area:e,xSize:t,ySize:n,visibleElements:i}=this.info,o=this._messagesTooltip.sketch,r=this._formatters;return(0,R.K)(R.w,null,i.size&&null!=t&&null!=n?(0,R.K)(V,{title:o.size,value:(0,R.K)(H,{left:r.length(t),right:r.length(n)})}):null,i.area?(0,R.K)(V,{title:o.area,value:r.area(e)}):null)}};eg=(0,y._)([(0,M.$)("esri.views.interactive.tooltip.content.TooltipContentDrawRectangle")],eg);let e_=class extends ee{_renderContent(){let{angle:e,visibleElements:t}=this.info,n=this._messagesTooltip.sketch;return(0,R.K)(R.w,null,t.rotation?(0,R.K)(V,{title:n.rotation,value:this._formatters.angleRelative(e)}):null)}};e_=(0,y._)([(0,M.$)("esri.views.interactive.tooltip.content.TooltipContentExtentRotate")],e_);let eb=class extends ee{_renderContent(){let e=this.info,{visibleElements:t}=e,n=this._messagesTooltip.sketch,i=this._formatters;return(0,R.K)(R.w,null,t.size?(0,R.K)(V,{title:n.size,value:(0,R.K)(H,{left:i.length(e.xSize),right:i.length(e.ySize)})}):null,t.scale?(0,R.K)(V,{title:n.scale,value:(0,R.K)(H,{left:i.scale(e.xScale),right:i.scale(e.yScale)})}):null)}};eb=(0,y._)([(0,M.$)("esri.views.interactive.tooltip.content.TooltipContentExtentScale")],eb);let ex=class extends ee{_renderContent(){let{fieldContext:e,info:t,mode:n}=this,{visibleElements:i}=t;return(0,R.K)(ec,{context:e,fields:[i.coordinates?t.effectiveX:void 0,i.coordinates?t.effectiveY:void 0,i.elevation?t.elevation:void 0],mode:n})}};ex=(0,y._)([(0,M.$)("esri.views.interactive.tooltip.content.TooltipContentMovePoint")],ex);let ew=class extends ee{_renderContent(){let{fieldContext:e,info:t,mode:n}=this,{visibleElements:i}=t;return(0,R.K)(ec,{context:e,fields:[i.distance?t.distance:void 0,i.area?t.area:void 0,i.totalLength?t.totalLength:void 0],mode:n})}};ew=(0,y._)([(0,M.$)("esri.views.interactive.tooltip.content.TooltipContentReshapeEdgeOffset")],ew);let eM=class extends ee{_renderContent(){let{fieldContext:e,info:t,mode:n}=this,{visibleElements:i}=t;return(0,R.K)(ec,{context:e,fields:[i.coordinates?t.effectiveX:void 0,i.coordinates?t.effectiveY:void 0,i.elevation?t.elevation:void 0,i.area&&"polygon"===t.geometryType?t.area:null,i.totalLength&&"polyline"===t.geometryType?t.totalLength:null],mode:n})}};eM=(0,y._)([(0,M.$)("esri.views.interactive.tooltip.content.TooltipContentSelectedVertex")],eM);let eA=class extends ee{_renderContent(){let{fieldContext:e,info:t,mode:n}=this,{visibleElements:i}=t;return(0,R.K)(ec,{context:e,fields:[i.coordinates?t.effectiveX:void 0,i.coordinates?t.effectiveY:void 0,i.elevation?t.elevation:void 0,i.orientation?t.orientation:void 0,i.scale?t.scale:void 0],mode:n})}};eA=(0,y._)([(0,M.$)("esri.views.interactive.tooltip.content.TooltipContentTransformMesh")],eA);let eC=class extends ee{_renderContent(){let{fieldContext:e,info:t,mode:n}=this,{visibleElements:i}=t;return(0,R.K)(ec,{context:e,fields:[i.coordinates?t.effectiveX:void 0,i.coordinates?t.effectiveY:void 0,i.elevation?t.elevation:void 0,i.orientation?t.orientation:void 0,i.size?t.size:void 0],mode:n})}};eC=(0,y._)([(0,M.$)("esri.views.interactive.tooltip.content.TooltipContentTransformPoint")],eC);let ek=class extends ee{_renderContent(){let{info:e}=this,{visibleElements:t}=e,n=this._messagesTooltip.sketch,i=this._formatters;return(0,R.K)(R.w,null,t.distance?(0,R.K)(V,{title:n.distance,value:i.length(e.distance)}):null)}};ek=(0,y._)([(0,M.$)("esri.views.interactive.tooltip.content.TooltipContentTranslate")],ek);let eS=class extends ee{_renderContent(){let{distance:e,elevation:t,area:n,totalLength:i,visibleElements:o}=this.info,r=this._messagesTooltip.sketch,l=this._formatters;return(0,R.K)(R.w,null,o.distance?(0,R.K)(V,{title:r.distance,value:l.length(e)}):null,o.elevation&&null!=t?.actual?(0,R.K)(V,{title:r.elevation,value:l.verticalLength(t.actual)}):null,o.area&&null!=n?(0,R.K)(V,{title:r.area,value:l.area(n)}):null,o.totalLength&&null!=i?(0,R.K)(V,{title:r.totalLength,value:l.length(i)}):null)}};eS=(0,y._)([(0,M.$)("esri.views.interactive.tooltip.content.TooltipContentTranslateVertex")],eS);let eZ=class extends ee{_renderContent(){let{info:e}=this,{visibleElements:t}=e,n=this._messagesTooltip.sketch,i=this._formatters;return(0,R.K)(R.w,null,t.distance?(0,R.K)(V,{title:n.distance,value:i.length(e.distance)}):null)}};eZ=(0,y._)([(0,M.$)("esri.views.interactive.tooltip.content.TooltipContentTranslateXY")],eZ);let eT=class extends ee{_renderContent(){let{info:e}=this,{visibleElements:t}=e,n=this._messagesTooltip.sketch;return(0,R.K)(R.w,null,t.distance?(0,R.K)(V,{title:n.distance,value:this._formatters.verticalLengthRelative(e.distance)}):null)}};eT=(0,y._)([(0,M.$)("esri.views.interactive.tooltip.content.TooltipContentTranslateZ")],eT);let eK={base:`${C}`,ltr:`${C}--ltr`,rtl:`${C}--rtl`,debug:`${C}--debug`},e$=class extends g.A.EventedAccessor{constructor(e){super(e),this.info=null,this.options=null,this.position=null,this.content=null,this._focused=!1,this.outerContainer=document.createElement("div"),this.debug=!1,this._lastPosition=null,this._rtl=!1,this._prevXY=[0,0]}initialize(){let{outerContainer:e}=this;this.addHandles([(0,a.wB)(()=>this.view.overlay?.surface,t=>{e.remove(),t?.appendChild(e),this._rtl=(0,G.V8)(t)},a.pc),(0,a.wB)(()=>this.info,(t,n)=>{if(null!=this.content&&null!=t&&null!=n&&t.type===n.type)this.content.info=t;else{(0,b.pR)(this.content);let n=function(e,t){if(null==t)return null;let n=document.createElement("div");switch(t.type){case"draw-point":case"draw-multipoint":return new ep({tooltip:e,info:t,container:n});case"draw-polygon":return new em({tooltip:e,info:t,container:n});case"draw-polyline":return new ey({tooltip:e,info:t,container:n});case"draw-mesh":return new ed({tooltip:e,info:t,container:n});case"draw-rectangle":return new eg({tooltip:e,info:t,container:n});case"draw-circle":return new eo({tooltip:e,info:t,container:n});case"extent-rotate":return new e_({tooltip:e,info:t,container:n});case"extent-scale":return new eb({tooltip:e,info:t,container:n});case"move-point":return new ex({tooltip:e,info:t,container:n});case"selected-vertex":return new eM({tooltip:e,info:t,container:n});case"transform-point":return new eC({tooltip:e,info:t,container:n});case"transform-mesh":return new eA({tooltip:e,info:t,container:n});case"translate":return new ek({tooltip:e,info:t,container:n});case"translate-vertex":return new eS({tooltip:e,info:t,container:n});case"translate-z":return new eT({tooltip:e,info:t,container:n});case"translate-xy":return new eZ({tooltip:e,info:t,container:n});case"reshape-edge-offset":return new ew({tooltip:e,info:t,container:n})}}(this,t);n?(this.content=n,n.container&&e.appendChild(n.container),this.exitInputMode()):this.content=null}},a.pc),(0,a.wB)(()=>({container:this.outerContainer,style:this._outerContainerStyle}),({container:e,style:t})=>{Object.assign(e.style,t)},a.Vh),(0,a.wB)(()=>({outerContainer:this.outerContainer,placement:this.effectivePlacement,effectiveOffset:this._effectiveOffset,rtl:this._rtl,debug:this.debug}),({outerContainer:e,placement:t,effectiveOffset:n,rtl:i,debug:o})=>{let{classList:r}=e;r.add(eK.base),r.toggle(eK.rtl,i),r.toggle(eK.ltr,!i),r.toggle(eK.debug,o),this.outerContainer.style.setProperty("--offset",`${n}px`),(0,A.hY)(e),function({classList:e},t){eE.forEach(t=>e.remove(t)),e.add(eD(t))}(e,t)},a.Vh),(0,a.z7)(()=>"feedback"===this.mode,()=>{this.position=null,this._clearOverride("effectivePlacement")},a.OH),(0,_.on)(this.outerContainer,"paste",e=>{this.emit("paste",e)}),(0,_.on)(this.outerContainer,["focusin","focusout"],()=>{setTimeout(()=>{this._focused=this.content?.container?.contains(document.activeElement)??!1})})])}destroy(){this.info=null,this.content=(0,b.pR)(this.content),this.outerContainer.remove()}get mode(){return this.content?.mode??"feedback"}get focused(){return this._focused}get visible(){return"none"!==this._outerContainerStyle.display}get contentContainer(){return this.content?.container}get effectivePlacement(){let e=this.options?.placement;return"auto"===e?"bottom-end":e??"bottom-end"}get _screenPoint(){let{inputManager:e}=this.view;return e?.multiTouchActive?null:e?.latestPointerLocation}get _effectiveOffset(){return this.options?.offset??20}get _outerContainerStyle(){let e=this.position??this._screenPoint;return(this._lastPosition=(0,x.y8)(e),null!=e&&null!=this.content)?{display:"block",transform:`translate(${Math.round(e.x)}px, ${Math.round(e.y)}px)`}:{display:"none",transform:"none"}}clear(){this.info=null}async enterInputMode(e){let t=this.position??this._lastPosition??this._screenPoint,n=this.position=(0,x.y8)(t),{effectivePlacement:i}=this;this._override("effectivePlacement",i),await this.content?.enterInputMode(e,()=>{n&&(this.position=function(e,t,n,i){if(!e||!i.container)return t;let o=e.getBoundingClientRect(),{left:r,top:l}=i.container.getBoundingClientRect(),{x:a,y:s}=t,u=o.left-r-n;u<0&&(a-=u);let c=o.right-r+n-i.width;c>0&&(a-=c);let d=o.top-l-n;d<0&&(s-=d);let p=o.bottom-l+n-i.height;return p>0&&(s-=p),(0,x.tc)(a,s)}(this.contentContainer,n,this._effectiveOffset,this.view),Object.assign(this.outerContainer.style,this._outerContainerStyle))})}async exitInputMode(e){await this.content?.exitInputMode(e)}onDragStart(e,t){this._prevXY=[e,t]}onDrag(e,t){let n=e-this._prevXY[0],i=t-this._prevXY[1];this._prevXY=[e,t];let{position:o}=this;if(o){let{view:r}=this,l=e-r.position[0],a=t-r.position[1];if(l<0||l>r.width||a<0||a>r.height-16)return;this.position=(0,x.tc)(o.x+n,o.y+i)}}onDragEnd(){this._prevXY=[0,0]}};(0,y._)([(0,w.MZ)({nonNullable:!0})],e$.prototype,"view",void 0),(0,y._)([(0,w.MZ)()],e$.prototype,"info",void 0),(0,y._)([(0,w.MZ)()],e$.prototype,"options",void 0),(0,y._)([(0,w.MZ)()],e$.prototype,"position",void 0),(0,y._)([(0,w.MZ)()],e$.prototype,"content",void 0),(0,y._)([(0,w.MZ)({readOnly:!0})],e$.prototype,"mode",null),(0,y._)([(0,w.MZ)()],e$.prototype,"_focused",void 0),(0,y._)([(0,w.MZ)({readOnly:!0})],e$.prototype,"focused",null),(0,y._)([(0,w.MZ)({readOnly:!0})],e$.prototype,"outerContainer",void 0),(0,y._)([(0,w.MZ)({readOnly:!0})],e$.prototype,"contentContainer",null),(0,y._)([(0,w.MZ)({readOnly:!0})],e$.prototype,"effectivePlacement",null),(0,y._)([(0,w.MZ)()],e$.prototype,"debug",void 0),(0,y._)([(0,w.MZ)()],e$.prototype,"_lastPosition",void 0),(0,y._)([(0,w.MZ)()],e$.prototype,"_screenPoint",null),(0,y._)([(0,w.MZ)()],e$.prototype,"_rtl",void 0),(0,y._)([(0,w.MZ)()],e$.prototype,"_effectiveOffset",null),(0,y._)([(0,w.MZ)()],e$.prototype,"_outerContainerStyle",null),e$=(0,y._)([(0,M.$)("esri.views.interactive.Tooltip")],e$);let eE=["top","bottom","leading","trailing"].flatMap(e=>[eD(`${e}-start`),eD(e),eD(`${e}-end`)]);function eD(e){return`${eK.base}--${e}`}let eI=e$;var eP=n(43705);function eO(e){let t=new eI(e());return t.addHandles((0,a.wB)(()=>e(),({view:e,options:n,info:i})=>{t.view=e,void 0!==n&&(t.options=n),void 0!==i&&(t.info=i)})),t}function eG(e,t){let n=(0,f.Hq)(t.vertexSpace),{scale:i,orientation:o}=e,{transform:r}=t,a=function(e){if(!e)return 0;let t=eV(e.rotationAxis);return null!=t?t*e.rotationAngle:null}(r);n&&null!=a?(o.actual=(0,l.Wq)(a,"degrees","arithmetic"),o.visible=!0):(o.actual=null,o.visible=!1),n?(i.actual=(0,l.LF)(eH(r)),i.visible=!0):(i.actual=null,i.visible=!1)}function eR(e,t,n){if(!t||!(0,f.Hq)(t.vertexSpace))return;let i=t.transform??=new p.A;(function(e,t,n){let i=(0,eP.Ef)(e.orientation.actual),o=eV(t.rotationAxis);if(null==i||null==o)return;let r=t.rotationAngle,l=i*o,a=(i-r)*o;r!==l&&(n?.onRotateStart(0),t.rotationAngle=l,n?.onRotate(a),n?.onRotateStop(a))})(e,i,n),function(e,t,n){let i,o=e.scale.actual?.value,r=eH(t);if(null==o||o===r)return;let{scale:l}=t;i=0===r?(0,c.o8)(c.Un):(0,u.h)((0,c.vt)(),l,o/r),n?.onScaleStart(l[0],l[1],l[2]),t.scale=i,n?.onScale(i[0],i[1],i[2]),n?.onScaleStop(i[0],i[1],i[2])}(e,i,n)}function ez(e,t){let{x:n,y:i,z:o}=t,{x:a,y:u,z:c}=function(e,t){let n,i;e.geographic?(n=(0,eP.hF)(e.longitude.actual),i=(0,eP.hF)(e.latitude.actual),(0,h.K8)(t)&&(null!=n&&null!=i?[n,i]=(0,v.je)(n,i,eL):null!=n?n=(0,v.je)(n,0,eL)[0]:null!=i&&(i=(0,v.je)(0,i,eL)[1]))):(n=e.x.actual?.value,i=e.y.actual?.value);let o=e.elevation.actual,r=(0,s.mq)(t);return{x:n,y:i,z:null!=r&&null!=o?(0,l.l3)(o,r):void 0}}(e,t.spatialReference);return{dx:null==a||(0,r.Io)(a,n)?0:a-n,dy:null==u||(0,r.Io)(u,i)?0:u-i,dz:null==c||null==o||(0,r.Io)(c,o)?0:c-o}}let eL=[0,0];function eV(e){return(0,u.I)(e,c.Cb)?1:(0,u.I)(e,eF)?-1:null}let eF=(0,u.v)((0,c.vt)(),c.Cb);function eH(e){return e?Math.max(...e.scale):1}function eB(e,t){return!("key-down"!==e.type||e.key!==m.ac.enterInputMode||!t||!function(e){let t=e?.sketchOptions;if(!t)return!1;let{inputEnabled:n,visibleElements:i}=t.tooltips;return n&&!0===e.editableFields.some(({name:e})=>"x"===e||"y"===e?i.coordinates:i[e])}(t.info))&&(t.enterInputMode(),e.preventDefault(),e.stopPropagation(),!0)}function eN(e,t){let n=null;return(0,o.vE)([e.on("paste",async o=>{n?.abort(),n=(0,i.UT)(async()=>{(0,d.s1)()||await (0,d.Hh)(),eU(o,e.info,t)})}),(0,i.UT)(()=>(0,d.Hh)()),(0,o.hA)(()=>n?.abort())])}function eU(e,t,n){if(!t||!("geographic"in t))return;let i=e.clipboardData?.getData("text");if(!i)return;let o=t=>{e.stopPropagation(),e.preventDefault(),n?.onBeforePaste(),t(),n?.onAfterPaste()};if(t.geographic){let e=(0,q.X3)(i);e&&o(()=>{t.longitude.applyValue(e.longitude),t.latitude.applyValue(e.latitude)})}else{let e=(0,q.Nr)(i);e&&o(()=>{t.x.applyValue(e.x),t.y.applyValue(e.y)})}}},76277:(e,t,n)=>{n.d(t,{A:()=>d});var i,o=n(81856),r=n(71017),l=n(92713),a=n(91838);n(57845),n(61939),n(33638);var s=n(33498),u=n(12709);let c=i=class extends r.A.ClonableMixin(l.A){constructor(e){super(e),this.type="georeferenced",this.origin=null}};c.absolute=new i,(0,o._)([(0,s.e)({georeferenced:"georeferenced"},{readOnly:!0})],c.prototype,"type",void 0),(0,o._)([(0,a.MZ)({type:[Number],nonNullable:!1,json:{write:!0}})],c.prototype,"origin",void 0);let d=c=i=(0,o._)([(0,u.$)("esri.geometry.support.MeshGeoreferencedVertexSpace")],c)},78160:(e,t,n)=>{n.d(t,{c:()=>i,g:()=>o});var i="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function o(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}},92744:(e,t,n)=>{n.d(t,{w:()=>a});var i=n(81856),o=n(28690),r=n(91838);n(57845),n(61939),n(33638);var l=n(12709);let a=class extends o.A{constructor(e){super(e),this.helpMessage=void 0,this.viewType=void 0}get visibleElements(){return this.sketchOptions.tooltips.visibleElements}get allFields(){return[]}get editableFields(){return this.allFields.filter(e=>e.visible&&!e.readOnly)}clearInputValues(){this.allFields.forEach(e=>e.clearInputValue())}};(0,i._)([(0,r.MZ)()],a.prototype,"sketchOptions",void 0),(0,i._)([(0,r.MZ)()],a.prototype,"visibleElements",null),(0,i._)([(0,r.MZ)()],a.prototype,"helpMessage",void 0),(0,i._)([(0,r.MZ)()],a.prototype,"viewType",void 0),(0,i._)([(0,r.MZ)()],a.prototype,"allFields",null),(0,i._)([(0,r.MZ)()],a.prototype,"editableFields",null),a=(0,i._)([(0,l.$)("esri.views.interactive.tooltip.infos.SketchTooltipInfo")],a)}}]);