"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3357],{63357:(e,t,a)=>{a.r(t),a.d(t,{handleValidateNetworkTopologyResult:()=>n,submitValidateNetworkTopologyJob:()=>l,validateNetworkTopology:()=>o});var i=a(39166),s=a(32391),d=a(86277),r=a(85016);async function o(e,t,a){let s=(0,d.Dl)(e),o=t.toJSON();t.validationSet&&(o.validationSet=JSON.stringify(t.validationSet));let l={...o,returnEdits:!0,f:"json"},u=(0,d.lF)({...s.query,...l}),c=(0,d.jV)(u,{...a,method:"post"}),k=`${s.path}/validateNetworkTopology`,{data:p}=await (0,i.A)(k,c);return r.A.fromJSON(n(p))}async function l(e,t,a){if(!t.gdbVersion)throw new s.A("submit-validate-network-topology-job:missing-gdb-version","version is missing");let r=(0,d.Dl)(e),o=t.toJSON();t.validationSet&&(o.validationSet=JSON.stringify(t.validationSet));let l=(0,d.jV)(r.query,{query:(0,d.lF)({...o,returnEdits:!0,async:!0,f:"json"}),...a,method:"post"}),n=`${r.path}/validateNetworkTopology`,{data:u}=await (0,i.A)(n,l);return u?u.statusUrl:null}function n(e){return e.serviceEdits&&(e.serviceEdits=e.serviceEdits.map(e=>(e.editedFeatures.spatialReference&&(e.editedFeatures.spatialReference={wkid:e.editedFeatures.spatialReference.wkid,wkt:e.editedFeatures.spatialReference.wkt,wkt2:e.editedFeatures.spatialReference.wkt2,latestWkid:e.editedFeatures.spatialReference.latestWkid,latestVcsWkid:e.editedFeatures.spatialReference.latestVcsWkid,vcsWkid:e.editedFeatures.spatialReference.vcsWkid}),e={layerId:e.id,editedFeatures:e.editedFeatures}))),e}}}]);