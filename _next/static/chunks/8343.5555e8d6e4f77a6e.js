"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8343],{119:(t,e,r)=>{var n,i;r.d(e,{H6:()=>o,dz:()=>n,oH:()=>i}),function(t){t[t.OBJECT=0]="OBJECT",t[t.HUD=1]="HUD",t[t.TERRAIN=2]="TERRAIN",t[t.OVERLAY=3]="OVERLAY",t[t.I3S=4]="I3S",t[t.PCL=5]="PCL",t[t.LOD=6]="LOD",t[t.VOXEL=7]="VOXEL",t[t.TILES3D=8]="TILES3D"}(n||(n={}));class o{constructor(){this.verticalOffset=0,this.selectionMode=!1,this.hud=!0,this.selectOpaqueTerrainOnly=!0,this.invisibleTerrain=!1,this.backfacesTerrain=!0,this.isFiltered=!1,this.filteredLayerUids=[],this.store=i.ALL,this.normalRequired=!0,this.excludeLabels=!1}}!function(t){t[t.MIN=0]="MIN",t[t.MINMAX=1]="MINMAX",t[t.ALL=2]="ALL"}(i||(i={}))},3391:(t,e,r)=>{function n(){return[1,0,0,0,1,0,0,0,1]}function i(t,e,r,n,i,o,s,u,a){return[t,e,r,n,i,o,s,u,a]}r.d(e,{fA:()=>i,vt:()=>n,zK:()=>o});let o=n();Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:o,clone:function(t){return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8]]},create:n,createView:function(t,e){return new Float64Array(t,e,9)},fromValues:i},Symbol.toStringTag,{value:"Module"}))},4547:(t,e,r)=>{r.d(e,{h:()=>i}),r(119);var n=r(17202);r(19908);class i extends n.R6{constructor(t,e,r,n,i){super(t,e),this.layerUid=t,this.graphicUid=e,this.triangleNr=r,this.baseBoundingSphere=n,this.numLodLevels=i}}},7916:(t,e,r)=>{r.d(e,{N:()=>b,a:()=>E,c:()=>I,e:()=>p,f:()=>q,g:()=>N,i:()=>P,l:()=>M,m:()=>v,n:()=>S,o:()=>D,p:()=>R,s:()=>x,w:()=>m}),r(57845),r(61939);var n=r(20538),i=r(40998),o=r(63599),s=r(56911),u=r(13784),a=r(44120),c=r(19461),l=r(97067),f=r(23146);function g(t,e){let r=(0,o.l)(t),i=(0,n.YN)(t[2]/r),s=Math.atan2(t[1]/r,t[0]/r);return(0,o.i)(e,r,i,s),e}var h=r(47325),d=r(42378);let b=I();function I(){return(0,a.vt)()}let v=u.e,_=u.e;function p(t,e){return(0,u.c)(e,t)}function M(t,e){return(0,a.fA)(t[0],t[1],t[2],e)}function m(t){return t}function N(t){return t[3]}function E(t){return t}function q(t,e,r,n){return(0,a.fA)(t,e,r,n)}function T(t,e,r){if(null==e||!A(t,e,y))return!1;let{t0:n,t1:i}=y;if((n<0||i<n&&i>0)&&(n=i),n<0)return!1;if(r){let{origin:t,direction:i}=e;r[0]=t[0]+i[0]*n,r[1]=t[1]+i[1]*n,r[2]=t[2]+i[2]*n}return!0}function S(t,e,r){let n=(0,f.Cr)(e,r);if(!A(t,n,y))return[];let{origin:i,direction:u}=n,{t0:a,t1:l}=y,g=e=>{let r=(0,s.vt)();return(0,o.b)(r,i,u,e),R(t,r,r)};return Math.abs(a-l)<(0,c.FD)()?[g(a)]:[g(a),g(l)]}let y={t0:0,t1:0};function A(t,e,r){let{origin:n,direction:i}=e;O[0]=n[0]-t[0],O[1]=n[1]-t[1],O[2]=n[2]-t[2];let o=i[0]*i[0]+i[1]*i[1]+i[2]*i[2];if(0===o)return!1;let s=2*(i[0]*O[0]+i[1]*O[1]+i[2]*O[2]),u=s*s-4*o*(O[0]*O[0]+O[1]*O[1]+O[2]*O[2]-t[3]*t[3]);if(u<0)return!1;let a=Math.sqrt(u);return r.t0=(-s-a)/(2*o),r.t1=(-s+a)/(2*o),!0}let O=(0,s.vt)();function P(t,e){return T(t,e,null)}function j(t,e,r){let n=d.rq.get(),s=d.Rc.get();(0,o.e)(n,e.origin,e.direction);let u=N(t);(0,o.e)(r,n,e.origin),(0,o.h)(r,r,1/(0,o.l)(r)*u);let a=w(t,e.origin),c=(0,h.g7)(e.origin,r);return(0,i.$0)(s,c+a,n),(0,o.t)(r,r,s),r}function R(t,e,r){let n=(0,o.d)(d.rq.get(),e,E(t)),i=(0,o.h)(d.rq.get(),n,t[3]/(0,o.l)(n));return(0,o.g)(r,i,E(t))}function w(t,e){let r=(0,o.d)(d.rq.get(),e,E(t)),i=(0,o.l)(r),s=N(t),u=s+Math.abs(s-i);return(0,n.XM)(s/u)}let C=(0,s.vt)();function L(t,e,r,n){let i=(0,o.d)(C,e,E(t));switch(r){case l._.X:{let t=g(i,C)[2];return(0,o.i)(n,-Math.sin(t),Math.cos(t),0)}case l._.Y:{let t=g(i,C),e=t[1],r=t[2],s=Math.sin(e);return(0,o.i)(n,-s*Math.cos(r),-s*Math.sin(r),Math.cos(e))}case l._.Z:return(0,o.n)(n,i);default:return}}function V(t,e){let r=(0,o.d)(F,e,E(t));return(0,o.l)(r)-t[3]}function D(t,e){let r=(0,o.s)(E(t),e),n=N(t);return r<=n*n}let F=(0,s.vt)(),U=I(),x=Object.freeze(Object.defineProperty({__proto__:null,NullSphere:b,altitudeAt:V,angleToSilhouette:w,axisAt:L,cameraFrustumCoverage:function(t,e,r,n){let i=N(t),o=i*i,s=e+.5*Math.PI,u=r*r+o-2*Math.cos(s)*r*i,a=Math.sqrt(u),c=u-o;return c<=0?.5:Math.min(1,(Math.acos(Math.sqrt(c)/a)-Math.asin(i/(a/Math.sin(s)))+.5*n)/n)},clear:function(t){t[0]=t[1]=t[2]=t[3]=0},closestPoint:function(t,e,r){return T(t,e,r)?r:((0,f.oC)(e,E(t),r),R(t,r,r))},closestPointOnSilhouette:j,containsPoint:D,copy:p,create:I,distanceToSilhouette:function(t,e){let r=(0,o.d)(d.rq.get(),e,E(t));return Math.sqrt(Math.abs((0,o.k)(r)-t[3]*t[3]))},elevate:function(t,e,r){return t!==r&&(r[0]=t[0],r[1]=t[1],r[2]=t[2]),r[3]=t[3]+e,r},equals:_,exactEquals:v,fromCenterAndRadius:M,fromRadius:function(t,e){return t[0]=t[1]=t[2]=0,t[3]=e,t},fromValues:q,getCenter:E,getExtent:function(t,e){return e},getRadius:N,intersectLine:S,intersectRay:T,intersectRayClosestSilhouette:function(t,e,r){if(T(t,e,r))return r;let n=j(t,e,d.rq.get());return(0,o.g)(r,e.origin,(0,o.h)(d.rq.get(),e.direction,(0,o.j)(e.origin,n)/(0,o.l)(e.direction))),r},intersectsRay:P,projectPoint:R,setAltitudeAt:function(t,e,r,n){let i=V(t,e),s=L(t,e,l._.Z,F),u=(0,o.h)(F,s,r-i);return(0,o.g)(n,e,u)},setExtent:function(t,e,r){return t!==r&&p(t,r),r},tmpSphere:U,union:function(t,e,r=(0,a.vt)()){let n=(0,o.j)(E(t),E(e)),i=t[3],s=e[3];return n+s<i?(0,u.c)(r,t):n+i<s?(0,u.c)(r,e):((0,o.m)(r,E(t),E(e),(n+s-i)/(2*n)),r[3]=(n+i+s)/2),r},wrap:m},Symbol.toStringTag,{value:"Module"}))},17202:(t,e,r)=>{r.d(e,{B$:()=>o,HE:()=>s,R6:()=>u});var n=r(56911);class i{constructor(t,e,r){this.object=t,this.geometryId=e,this.triangleNr=r}}class o extends i{constructor(t,e,r,i){super(t,e,r),this.center=null!=i?(0,n.o8)(i):null}}class s{constructor(t){this.layerUid=t}}class u extends s{constructor(t,e){super(t),this.graphicUid=e}}},17656:(t,e,r)=>{r.d(e,{I:()=>i});var n=r(86075);class i{constructor(t){this._allocator=t,this._items=[],this._itemsPtr=0,this._grow()}get(){return 0===this._itemsPtr&&(0,n.d)(()=>this._reset()),this._itemsPtr===this._items.length&&this._grow(),this._items[this._itemsPtr++]}_reset(){let t=Math.min(3*Math.max(8,this._itemsPtr),this._itemsPtr+3*o);this._items.length=Math.min(t,this._items.length),this._itemsPtr=0}_grow(){for(let t=0;t<Math.max(8,Math.min(this._items.length,o));t++)this._items.push(this._allocator())}}let o=1024},18945:(t,e,r)=>{r.d(e,{C:()=>c,Cr:()=>f,H6:()=>b,_I:()=>h,dz:()=>I,fA:()=>l,kb:()=>g,ld:()=>v,sd:()=>d,vt:()=>a});var n=r(20538),i=r(17656),o=r(63599),s=r(56911),u=r(42378);function a(t){return t?{origin:(0,s.o8)(t.origin),vector:(0,s.o8)(t.vector)}:{origin:(0,s.vt)(),vector:(0,s.vt)()}}function c(t,e=a()){return l(t.origin,t.vector,e)}function l(t,e,r=a()){return(0,o.c)(r.origin,t),(0,o.c)(r.vector,e),r}function f(t,e,r=a()){return(0,o.c)(r.origin,t),(0,o.d)(r.vector,e,t),r}function g(t,e){let r=(0,o.d)(u.rq.get(),e,t.origin),i=(0,o.f)(t.vector,r),s=(0,o.f)(t.vector,t.vector),a=(0,n.qE)(i/s,0,1),c=(0,o.d)(u.rq.get(),(0,o.h)(u.rq.get(),t.vector,a),r);return(0,o.f)(c,c)}function h(t,e,r){return b(t,e,0,1,r)}function d(t,e,r){return(0,o.g)(r,t.origin,(0,o.h)(r,t.vector,e))}function b(t,e,r,i,s){let{vector:a,origin:c}=t,l=(0,o.d)(u.rq.get(),e,c),f=(0,o.f)(a,l)/(0,o.k)(a);return(0,o.h)(s,a,(0,n.qE)(f,r,i)),(0,o.g)(s,s,t.origin)}function I(t,e){if(_(t,function(t,e){let r=M.get();return r.origin=t,r.vector=e,r}(e.origin,e.direction),!1,p)){let{tA:e,pB:r,distance2:n}=p;if(e>=0&&e<=1)return n;if(e<0)return(0,o.s)(t.origin,r);if(e>1)return(0,o.s)((0,o.g)(u.rq.get(),t.origin,t.vector),r)}return null}function v(t,e,r){return!!_(t,e,!0,p)&&((0,o.c)(r,p.pA),!0)}function _(t,e,r,i){let s=t.origin,a=(0,o.g)(u.rq.get(),s,t.vector),c=e.origin,l=(0,o.g)(u.rq.get(),c,e.vector),f=u.rq.get(),g=u.rq.get();if(f[0]=s[0]-c[0],f[1]=s[1]-c[1],f[2]=s[2]-c[2],g[0]=l[0]-c[0],g[1]=l[1]-c[1],g[2]=l[2]-c[2],1e-6>Math.abs(g[0])&&1e-6>Math.abs(g[1])&&1e-6>Math.abs(g[2]))return!1;let h=u.rq.get();if(h[0]=a[0]-s[0],h[1]=a[1]-s[1],h[2]=a[2]-s[2],1e-6>Math.abs(h[0])&&1e-6>Math.abs(h[1])&&1e-6>Math.abs(h[2]))return!1;let d=f[0]*g[0]+f[1]*g[1]+f[2]*g[2],b=g[0]*h[0]+g[1]*h[1]+g[2]*h[2],I=f[0]*h[0]+f[1]*h[1]+f[2]*h[2],v=g[0]*g[0]+g[1]*g[1]+g[2]*g[2],_=(h[0]*h[0]+h[1]*h[1]+h[2]*h[2])*v-b*b;if(1e-6>Math.abs(_))return!1;let p=(d*b-I*v)/_,M=(d+b*p)/v;r&&(p=(0,n.qE)(p,0,1),M=(0,n.qE)(M,0,1));let m=u.rq.get(),N=u.rq.get();return m[0]=s[0]+p*h[0],m[1]=s[1]+p*h[1],m[2]=s[2]+p*h[2],N[0]=c[0]+M*g[0],N[1]=c[1]+M*g[1],N[2]=c[2]+M*g[2],i.tA=p,i.tB=M,i.pA=m,i.pB=N,i.distance2=(0,o.s)(m,N),!0}let p={tA:0,tB:0,pA:(0,s.vt)(),pB:(0,s.vt)(),distance2:0},M=new i.I(()=>a())},19908:(t,e,r)=>{r.d(e,{i3:()=>i}),r(63599);var n=r(56911);function i(t){return null!=t?.dist}r(56429),r(119),(0,n.vt)()},23146:(t,e,r)=>{r.d(e,{C:()=>f,Cr:()=>g,LV:()=>l,kb:()=>h,oC:()=>d,vt:()=>a}),r(31461);var n=r(17656);r(6815);var i=r(3391),o=r(63599),s=r(56911),u=r(42378);function a(t){return t?c((0,s.o8)(t.origin),(0,s.o8)(t.direction)):c((0,s.vt)(),(0,s.vt)())}function c(t,e){return{origin:t,direction:e}}function l(t,e){let r=b.get();return r.origin=t,r.direction=e,r}function f(t,e=a()){return function(t,e,r=a()){return(0,o.c)(r.origin,t),(0,o.c)(r.direction,e),r}(t.origin,t.direction,e)}function g(t,e,r=a()){return(0,o.c)(r.origin,t),(0,o.d)(r.direction,e,t),r}function h(t,e){let r=(0,o.e)(u.rq.get(),(0,o.n)(u.rq.get(),t.direction),(0,o.d)(u.rq.get(),e,t.origin));return(0,o.f)(r,r)}function d(t,e,r){let n=(0,o.f)(t.direction,(0,o.d)(r,e,t.origin));return(0,o.g)(r,t.origin,(0,o.h)(r,t.direction,n)),r}let b=new n.I(()=>a());(0,s.vt)(),(0,s.vt)(),(0,s.vt)(),(0,i.vt)()},29222:(t,e,r)=>{r.d(e,{A:()=>h});var n=r(81856),i=r(28690),o=r(31461),s=r(71017),u=r(61451),a=r(92713),c=r(91838);r(57845),r(61939);var l=r(12709);let f=0,g=class extends a.A.JSONSupportMixin(s.A.ClonableMixin(u.A.IdentifiableMixin(i.A))){constructor(t){super(t),this.id=`${Date.now().toString(16)}-analysis-${f++}`,this.title=null}get parent(){return this._get("parent")}set parent(t){let e=this.parent;if(null!=e)switch(e.type){case"line-of-sight":case"dimension":case"viewshed":e.releaseAnalysis(this);break;case"2d":case"3d":e.analyses.includes(this)&&e.analyses.remove(this)}this._set("parent",t)}get isEditable(){return this.requiredPropertiesForEditing.every(o.Ru)}};(0,n._)([(0,c.MZ)({type:String,constructOnly:!0,clonable:!1})],g.prototype,"id",void 0),(0,n._)([(0,c.MZ)({type:String})],g.prototype,"title",void 0),(0,n._)([(0,c.MZ)({clonable:!1,value:null})],g.prototype,"parent",null),(0,n._)([(0,c.MZ)({readOnly:!0})],g.prototype,"isEditable",null);let h=g=(0,n._)([(0,l.$)("esri.analysis.Analysis")],g)},38715:(t,e,r)=>{function n(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function i(t){return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15]]}function o(t,e,r,n,i,o,s,u,a,c,l,f,g,h,d,b){return[t,e,r,n,i,o,s,u,a,c,l,f,g,h,d,b]}r.d(e,{fA:()=>o,o8:()=>i,vt:()=>n,zK:()=>s});let s=n();Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:s,clone:i,create:n,createView:function(t,e){return new Float64Array(t,e,16)},fromValues:o},Symbol.toStringTag,{value:"Module"}))},42378:(t,e,r)=>{r.d(e,{Rc:()=>d,J8:()=>b,oG:()=>f,rq:()=>g,Km:()=>h}),r(57845);var n=r(86075),i=r(3391),o=r(38715),s=r(79019),u=r(35430),a=r(56911),c=r(44120);class l{constructor(t){this._create=t,this._items=[],this._itemsPtr=0}get(){return 0===this._itemsPtr&&(0,n.d)(()=>this._reset()),this._itemsPtr>=this._items.length&&this._items.push(this._create()),this._items[this._itemsPtr++]}_reset(){let t=2*this._itemsPtr;this._items.length>t&&(this._items.length=t),this._itemsPtr=0}static createVec2f64(){return new l(u.vt)}static createVec3f64(){return new l(a.vt)}static createVec4f64(){return new l(c.vt)}static createMat3f64(){return new l(i.vt)}static createMat4f64(){return new l(o.vt)}static createQuatf64(){return new l(s.vt)}get test(){}}let f=l.createVec2f64(),g=l.createVec3f64(),h=l.createVec4f64(),d=(l.createMat3f64(),l.createMat4f64()),b=l.createQuatf64()},47325:(t,e,r)=>{r.d(e,{EJ:()=>c,_I:()=>s,g7:()=>a,gr:()=>u});var n=r(20538),i=r(63599),o=r(56911);function s(t,e,r){let n=(0,i.f)(t,e)/(0,i.f)(t,t);return(0,i.h)(r,t,n)}function u(t,e){return(0,i.f)(t,e)/(0,i.l)(t)}function a(t,e){let r=(0,i.f)(t,e)/((0,i.l)(t)*(0,i.l)(e));return-(0,n.XM)(r)}function c(t,e,r){(0,i.n)(l,t),(0,i.n)(f,e);let o=(0,i.f)(l,f),s=(0,n.XM)(o),u=(0,i.e)(l,l,f);return 0>(0,i.f)(u,r)?2*Math.PI-s:s}let l=(0,o.vt)(),f=(0,o.vt)()},56429:(t,e,r)=>{r.d(e,{a:()=>M,b:()=>H,d:()=>p,f:()=>m,g:()=>q,h:()=>j,u:()=>N}),r(57845);var n=r(61939),i=r(20538),o=r(17656),s=r(40998),u=r(38715),a=r(63599),c=r(56911),l=r(84766),f=r(97067),g=r(18945),h=r(72500),d=r(23146),b=r(47325),I=r(42378);let v=()=>n.A.getLogger("esri.views.3d.support.geometryUtils.boundedPlane");class _{constructor(){this.plane=(0,h.vt)(),this.origin=(0,c.vt)(),this.basis1=(0,c.vt)(),this.basis2=(0,c.vt)()}}function p(t=F){return{plane:(0,h.vt)(t.plane),origin:(0,c.o8)(t.origin),basis1:(0,c.o8)(t.basis1),basis2:(0,c.o8)(t.basis2)}}function M(t,e=p()){return m(t.origin,t.basis1,t.basis2,e)}function m(t,e,r,n=p()){var i,o;return(0,a.c)(n.origin,t),(0,a.c)(n.basis1,e),(0,a.c)(n.basis2,r),N(n),i=n,o="fromValues()",Math.abs((0,a.f)(i.basis1,i.basis2)/((0,a.l)(i.basis1)*(0,a.l)(i.basis2)))>1e-6&&v().warn(o,"Provided basis vectors are not perpendicular"),Math.abs((0,a.f)(i.basis1,w(i)))>1e-6&&v().warn(o,"Basis vectors and plane normal are not perpendicular"),Math.abs(-(0,a.f)(w(i),i.origin)-i.plane[3])>1e-6&&v().warn(o,"Plane offset is not consistent with plane origin"),n}function N(t){(0,h.mR)(t.basis2,t.basis1,t.origin,t.plane)}function E(t,e,r){t!==r&&M(t,r);let n=(0,a.h)(I.rq.get(),w(t),e);return(0,a.g)(r.origin,r.origin,n),r.plane[3]-=e,r}function q(t,e=p()){let r=(t[2]-t[0])/2,n=(t[3]-t[1])/2;return(0,a.i)(e.origin,t[0]+r,t[1]+n,0),(0,a.i)(e.basis1,r,0,0),(0,a.i)(e.basis2,0,n,0),(0,h.fA)(0,0,1,0,e.plane),e}function T(t,e,r){return!!(0,h.Ui)(t.plane,e,r)&&C(t,r)}function S(t,e,r){let n=U.get();D(t,e,n,U.get());let o=Number.POSITIVE_INFINITY;for(let s of B){let u=V(t,s,x.get()),c=I.rq.get();if((0,h.T7)(n,u,c)){let t=(0,a.o)(I.rq.get(),e.origin,c),n=Math.abs((0,i.XM)((0,a.f)(e.direction,t)));n<o&&(o=n,(0,a.c)(r,c))}}return o===Number.POSITIVE_INFINITY?y(t,e,r):r}function y(t,e,r){if(T(t,e,r))return r;let n=U.get(),i=U.get();D(t,e,n,i);let o=Number.POSITIVE_INFINITY;for(let s of B){let u=V(t,s,x.get()),c=I.rq.get();if((0,h.gv)(n,u,c)){let t=(0,d.kb)(e,c);if(!(0,h.Tj)(i,c))continue;t<o&&(o=t,(0,a.c)(r,c))}}return P(t,e.origin)<o&&A(t,e.origin,r),r}function A(t,e,r){let n=(0,h._I)(t.plane,e,I.rq.get()),i=(0,g.H6)(L(t,t.basis1),n,-1,1,I.rq.get()),o=(0,g.H6)(L(t,t.basis2),n,-1,1,I.rq.get());return(0,a.d)(r,(0,a.g)(I.rq.get(),i,o),t.origin),r}function O(t,e,r){let{origin:n,basis1:i,basis2:o}=t,s=(0,a.d)(I.rq.get(),e,n),u=(0,b.gr)(i,s),c=(0,b.gr)(o,s),l=(0,b.gr)(w(t),s);return(0,a.i)(r,u,c,l)}function P(t,e){let r=O(t,e,I.rq.get()),{basis1:n,basis2:i}=t,o=(0,a.l)(n),s=(0,a.l)(i),u=Math.max(Math.abs(r[0])-o,0),c=Math.max(Math.abs(r[1])-s,0),l=r[2];return u*u+c*c+l*l}function j(t,e){return Math.sqrt(P(t,e))}function R(t,e){let r=-t.plane[3];return(0,b.gr)(w(t),e)-r}function w(t){return(0,h.Qj)(t.plane)}function C(t,e){let r=(0,a.d)(I.rq.get(),e,t.origin),n=(0,a.k)(t.basis1),i=(0,a.k)(t.basis2),o=(0,a.f)(t.basis1,r),s=(0,a.f)(t.basis2,r);return-o-n<0&&o-n<0&&-s-i<0&&s-i<0}function L(t,e){let r=x.get();return(0,a.c)(r.origin,t.origin),(0,a.c)(r.vector,e),r}function V(t,e,r){let{basis1:n,basis2:i,origin:o}=t,s=(0,a.h)(I.rq.get(),n,e.origin[0]),u=(0,a.h)(I.rq.get(),i,e.origin[1]);(0,a.g)(r.origin,s,u),(0,a.g)(r.origin,r.origin,o);let c=(0,a.h)(I.rq.get(),n,e.direction[0]),l=(0,a.h)(I.rq.get(),i,e.direction[1]);return(0,a.h)(r.vector,(0,a.g)(c,c,l),2),r}function D(t,e,r,n){let i=w(t);(0,h.mR)(i,e.direction,e.origin,r),(0,h.mR)((0,h.Qj)(r),i,e.origin,n)}let F={plane:(0,h.vt)(),origin:(0,c.fA)(0,0,0),basis1:(0,c.fA)(1,0,0),basis2:(0,c.fA)(0,1,0)},U=new o.I(h.vt),x=new o.I(g.vt),k=(0,c.vt)(),X=new o.I(()=>p()),B=[{origin:[-1,-1],direction:[1,0]},{origin:[1,-1],direction:[0,1]},{origin:[1,1],direction:[-1,0]},{origin:[-1,1],direction:[0,-1]}],Y=(0,u.vt)(),z=(0,u.vt)(),H=Object.freeze(Object.defineProperty({__proto__:null,BoundedPlaneClass:_,altitudeAt:R,axisAt:function(t,e,r,n){var i=t,o=r,s=n;switch(o){case f._.X:(0,a.c)(s,i.basis1),(0,a.n)(s,s);break;case f._.Y:(0,a.c)(s,i.basis2),(0,a.n)(s,s);break;case f._.Z:(0,a.c)(s,w(i))}return s},cameraFrustumCoverage:function(t,e){return(e-t)/e},closestPoint:y,closestPointOnSilhouette:S,copy:M,copyWithoutVerify:function(t,e){(0,a.c)(e.origin,t.origin),(0,a.c)(e.basis1,t.basis1),(0,a.c)(e.basis2,t.basis2),(0,h.C)(e.plane,t.plane)},create:p,distance:j,distance2:P,distanceToSilhouette:function(t,e){let r=Number.NEGATIVE_INFINITY;for(let n of B){let i=V(t,n,x.get()),o=(0,g.kb)(i,e);o>r&&(r=o)}return Math.sqrt(r)},elevate:E,equals:function(t,e){return(0,a.p)(t.basis1,e.basis1)&&(0,a.p)(t.basis2,e.basis2)&&(0,a.p)(t.origin,e.origin)},extrusionContainsPoint:function(t,e){return(0,h.Tj)(t.plane,e)&&C(t,e)},fromAABoundingRect:q,fromValues:m,getExtent:function(t,e){let r=t.basis1[0],n=t.basis2[1],[i,o]=t.origin;return(0,l.fA)(i-r,o-n,i+r,o+n,e)},intersectRay:T,intersectRayClosestSilhouette:function(t,e,r){if(T(t,e,r))return r;let n=S(t,e,I.rq.get());return(0,a.g)(r,e.origin,(0,a.h)(I.rq.get(),e.direction,(0,a.j)(e.origin,n)/(0,a.l)(e.direction))),r},normal:w,projectPoint:A,projectPointLocal:O,rotate:function(t,e,r,n){return t!==n&&M(t,n),(0,s.$0)(z,e,r),(0,a.t)(n.basis1,t.basis1,z),(0,a.t)(n.basis2,t.basis2,z),N(n),n},setAltitudeAt:function(t,e,r,n){let i=R(t,e),o=(0,a.h)(k,w(t),r-i);return(0,a.g)(n,e,o),n},setExtent:function(t,e,r){return q(e,r),E(r,R(t,t.origin),r),r},transform:function(t,e,r){return t!==r&&M(t,r),(0,s.B8)(Y,e),(0,s.mg)(Y,Y),(0,a.t)(r.basis1,t.basis1,Y),(0,a.t)(r.basis2,t.basis2,Y),(0,a.t)((0,h.Qj)(r.plane),(0,h.Qj)(t.plane),Y),(0,a.t)(r.origin,t.origin,e),(0,h.mP)(r.plane,r.plane,r.origin),r},up:F,updateUnboundedPlane:N,wrap:function(t,e,r){let n=X.get();return n.origin=t,n.basis1=e,n.basis2=r,n.plane=(0,h.LV)(0,0,0,0),N(n),n}},Symbol.toStringTag,{value:"Module"}))},72500:(t,e,r)=>{r.d(e,{C:()=>h,Cr:()=>v,Io:()=>D,LV:()=>g,O_:()=>I,Qj:()=>d,T7:()=>j,Tj:()=>w,U5:()=>O,Ui:()=>P,Z1:()=>V,_I:()=>L,b6:()=>C,ci:()=>p,fA:()=>b,gv:()=>R,lU:()=>_,mN:()=>F,mP:()=>S,mR:()=>A,vt:()=>f,ze:()=>y});var n,i,o=r(20538),s=r(63599),u=r(56911);r(13784);var a=r(47325),c=r(42378),l=r(87261);function f(t=k){return[t[0],t[1],t[2],t[3]]}function g(t=k[0],e=k[1],r=k[2],n=k[3]){return b(t,e,r,n,c.Km.get())}function h(t,e){return b(e[0],e[1],e[2],e[3],t)}function d(t){return t}function b(t,e,r,n,i=f()){return i[0]=t,i[1]=e,i[2]=r,i[3]=n,i}function I(t,e,r){let n=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],i=Math.abs(n-1)>1e-5&&n>1e-12?1/Math.sqrt(n):1;return r[0]=e[0]*i,r[1]=e[1]*i,r[2]=e[2]*i,r[3]=-(r[0]*t[0]+r[1]*t[1]+r[2]*t[2]),r}function v(t,e,r,n=f()){let i=r[0]-e[0],o=r[1]-e[1],s=r[2]-e[2],u=t[0]-e[0],a=t[1]-e[1],c=t[2]-e[2],l=o*c-s*a,g=s*u-i*c,h=i*a-o*u,d=l*l+g*g+h*h,b=Math.abs(d-1)>1e-5&&d>1e-12?1/Math.sqrt(d):1;return n[0]=l*b,n[1]=g*b,n[2]=h*b,n[3]=-(n[0]*t[0]+n[1]*t[1]+n[2]*t[2]),n}function _(t,e,r,n=0,i=Math.floor(1/3*r),o=Math.floor(2/3*r)){if(r<3)return!1;e(m,n);let u=i,a=!1;for(;u<r-1&&!a;)e(N,u),u++,a=!(0,s.p)(m,N);if(!a)return!1;for(u=Math.max(u,o),a=!1;u<r&&!a;)e(E,u),u++,(0,s.d)(q,m,N),(0,s.n)(q,q),(0,s.d)(T,N,E),(0,s.n)(T,T),a=!(0,s.p)(m,E)&&!(0,s.p)(N,E)&&Math.abs((0,s.f)(q,T))<M;return a?(v(m,N,E,t),!0):(0!==n||1!==i||2!==o)&&_(t,e,r,0,1,2)}function p(t,e,r=!0){let n=e.length/3;return _(t,(t,r)=>(0,s.i)(t,e[3*r+0],e[3*r+1],e[3*r+2]),r?n-1:n)}let M=.99619469809,m=(0,u.vt)(),N=(0,u.vt)(),E=(0,u.vt)(),q=(0,u.vt)(),T=(0,u.vt)();function S(t,e,r){return e!==t&&h(t,e),t[3]=-(0,s.f)(t,r),t}function y(t,e){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=-t[3],e}function A(t,e,r,n){return(0,s.e)(E,e,t),I(r,E,n)}function O(t,e,r,n){return U(x(t,e,(0,s.d)(c.rq.get(),r,e),X,n))}function P(t,e,r){return null!=e&&U(x(t,e.origin,e.direction,B,r))}function j(t,e,r){return U(x(t,e.origin,e.vector,i.NONE,r))}function R(t,e,r){return U(x(t,e.origin,e.vector,i.CLAMP,r))}function w(t,e){return F(t,e)>=0}function C(t,e){let r=(0,s.f)(t,e.ray.direction),n=-F(t,e.ray.origin);if(r>-1e-6&&r<1e-6)return n>0;let i=n/r;return r>0?i<e.c1&&(e.c1=i):i>e.c0&&(e.c0=i),e.c0<=e.c1}function L(t,e,r){let n=(0,s.h)(c.rq.get(),t,-t[3]),i=function(t,e,r){let n=(0,s.h)(c.rq.get(),t,(0,s.f)(t,e));return(0,s.d)(r,e,n),r}(t,(0,s.d)(c.rq.get(),e,n),c.rq.get());return(0,s.g)(r,i,n),r}function V(t,e,r,n){let i=c.rq.get(),o=c.rq.get();(0,l.VV)(t,i,o);let u=(0,s.d)(c.rq.get(),r,e),f=(0,a.gr)(i,u),g=(0,a.gr)(o,u),h=(0,a.gr)(t,u);return(0,s.i)(n,f,g,h)}function D(t,e){return Math.abs(F(t,e))}function F(t,e){return(0,s.f)(t,e)+t[3]}function U(t){return t===n.INTERSECTS_INSIDE_OUT||t===n.INTERSECTS_OUTSIDE_IN}function x(t,e,r,u,a){let c=(0,s.f)(t,r),l=F(t,e);if(0===c)return l>=0?n.INSIDE:n.OUTSIDE;let f=-l/c;return u&i.CLAMP&&(f=(0,o.qE)(f,0,1)),!(u&i.INFINITE_MIN)&&f<0||!(u&i.INFINITE_MAX)&&f>1?l>=0?n.INSIDE:n.OUTSIDE:((0,s.g)(a,e,(0,s.h)(a,r,f)),l>=0?n.INTERSECTS_INSIDE_OUT:n.INTERSECTS_OUTSIDE_IN)}!function(t){t[t.INTERSECTS_INSIDE_OUT=0]="INTERSECTS_INSIDE_OUT",t[t.INTERSECTS_OUTSIDE_IN=1]="INTERSECTS_OUTSIDE_IN",t[t.INSIDE=2]="INSIDE",t[t.OUTSIDE=3]="OUTSIDE"}(n||(n={}));let k=[0,0,1,0];!function(t){t[t.NONE=0]="NONE",t[t.CLAMP=1]="CLAMP",t[t.INFINITE_MIN=4]="INFINITE_MIN",t[t.INFINITE_MAX=8]="INFINITE_MAX"}(i||(i={}));let X=i.INFINITE_MIN|i.INFINITE_MAX,B=i.INFINITE_MAX},79019:(t,e,r)=>{function n(){return[0,0,0,1]}function i(t){return[t[0],t[1],t[2],t[3]]}r.d(e,{o8:()=>i,vt:()=>n,zK:()=>o});let o=n();Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:o,clone:i,create:n,fromValues:function(t,e,r,n){return[t,e,r,n]}},Symbol.toStringTag,{value:"Module"}))},84546:(t,e,r)=>{r.d(e,{xH:()=>s,N1:()=>a}),r(63599);var n=r(56911),i=r(23146);r(119),r(40998),r(42845),r(7916);var o=r(17202);r(19908),o.R6,o.HE,o.R6,o.R6,o.R6,r(4547);function s(t,e){return u(t)===u(e)}function u(t){if(null==t)return null;let e=null!=t.layer?t.layer.id:"",r=null;return null==(r=null!=t.objectId?t.objectId:null!=t.layer&&"objectIdField"in t.layer&&null!=t.layer.objectIdField&&null!=t.attributes?t.attributes[t.layer.objectIdField]:t.uid)?null:`o-${e}-${r}`}(0,n.vt)();let a={json:{write:{writer:function(t,e){null!=t?.layer?.objectIdField&&null!=t.attributes&&(e.feature={layerId:t.layer.id,objectId:t.attributes[t.layer.objectIdField]})},target:{"feature.layerId":{type:[Number,String],isRequired:!0},"feature.objectId":{type:[Number,String],isRequired:!0}}},origins:{"web-scene":{read:function(t){if(null!=t.layerId&&null!=t.objectId)return{uid:null,layer:{id:t.layerId,objectIdField:"ObjectId"},attributes:{ObjectId:t.objectId}}}}}}},c=.05;(0,i.vt)(),(0,n.vt)()},87261:(t,e,r)=>{r.d(e,{VV:()=>u,hG:()=>o,wp:()=>s}),r(20538);var n=r(63599),i=r(56911);function o(t){let e=t[0]*t[0]+t[4]*t[4]+t[8]*t[8];return Math.sqrt(Math.max(e,t[1]*t[1]+t[5]*t[5]+t[9]*t[9],t[2]*t[2]+t[6]*t[6]+t[10]*t[10]))}function s(t,e){let r=Math.sqrt(e[0]*e[0]+e[4]*e[4]+e[8]*e[8]),i=Math.sqrt(e[1]*e[1]+e[5]*e[5]+e[9]*e[9]),o=Math.sqrt(e[2]*e[2]+e[6]*e[6]+e[10]*e[10]);return(0,n.i)(t,r,i,o),t}function u(t,e,r){Math.abs(t[0])>Math.abs(t[1])?(0,n.i)(e,0,1,0):(0,n.i)(e,1,0,0),(0,n.e)(r,t,e),(0,n.e)(e,r,t),(0,n.n)(r,r),(0,n.n)(e,e)}(0,i.vt)(),(0,i.vt)(),(0,i.vt)(),(0,i.vt)(),(0,i.vt)()}}]);