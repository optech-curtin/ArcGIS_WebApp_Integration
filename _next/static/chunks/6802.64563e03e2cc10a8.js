"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[303,6802,8288,9984],{8288:(e,t,s)=>{s.d(t,{G:()=>r,S:()=>n});class r{*[Symbol.iterator](){let e=this.next();for(;e;)yield e,e=this.next()}}class n extends r{constructor(e){super(),this.m_iGeom=-1,this.m_aGeoms=e?e.slice():[]}next(){if(this.m_iGeom<this.m_aGeoms.length-1){let e=this.m_aGeoms[++this.m_iGeom];return this.m_aGeoms[this.m_iGeom]=null,e}return null}tock(){return!1}getGeometryID(){return this.m_iGeom}getRank(){return 1}}},29678:(e,t,s)=>{s.d(t,{a:()=>u,e:()=>l,g:()=>m,s:()=>o});var r=s(31461),n=s(8922),a=s(36134),i=s(39984);function l(e,t,s={}){let{removeDegenerateParts:r=!1,unit:u}=s,o=(0,i.getSpatialReference)(e);return u&&(t=(0,n.UW)(t,u,o)),(0,i.toGeometry)((0,a.g7)((0,i.fromGeometry)(e),t,r),o)}function u(e,t,s={}){let{removeDegenerateParts:l=!1,unit:o}=s,m=e.map(i.fromGeometry),h=(0,i.getSpatialReference)(e);return o&&(t=(0,n.UW)(t,o,h)),(0,a.zo)(m,t,l).map(e=>(0,i.toGeometry)(e,h)).filter(r.Ru)}let o=(0,a.fz)(),m=Object.freeze(Object.defineProperty({__proto__:null,execute:l,executeMany:u,supportsCurves:o},Symbol.toStringTag,{value:"Module"}))},36134:(e,t,s)=>{s.d(t,{fz:()=>l,g7:()=>a,zo:()=>i});var r=s(8288);let n=new(s(78702)).O;function a(e,t,s){return n.execute(e,t,s,null)}function i(e,t,s){return Array.from(n.executeMany(new r.S(e),t,s,null))}function l(){return n.supportsCurves()}},39984:(e,t,s)=>{s.r(t),s.d(t,{fromExtent:()=>y,fromGeometry:()=>_,fromMultipoint:()=>k,fromPoint:()=>x,fromPolygon:()=>P,fromPolyline:()=>v,fromSpatialReference:()=>G,getSpatialReference:()=>p,toExtent:()=>C,toGeometry:()=>d,toMultipoint:()=>w,toPoint:()=>M,toPolygon:()=>D,toPolyline:()=>R});var r=s(92656);s(73750);var n=s(16404),a=s(31632),i=s(32045),l=s(40224),u=s(61414),o=s(147),m=s(39960),h=s(87960),c=s(65442);s(14136);var g=s(12966);let f="_gxVersion";function p(e){return Array.isArray(e)?e[0].spatialReference:e.spatialReference}function _(e){switch(e.type){case"point":return x(e);case"multipoint":return k(e);case"polyline":return v(e);case"polygon":return P(e);case"extent":return y(e);default:throw Error(`Unsupported geometry type: ${e.type}`)}}function y(e){if(!e.getCacheValue(f)){let t=new a.E;t.setCoords(e.xmin,e.ymin,e.xmax,e.ymax),e.hasM&&t.setInterval(2,0,e.mmin,e.mmax),e.hasZ&&t.setInterval(1,0,e.zmin,e.zmax),e.setCacheValue(f,t)}return e.getCacheValue(f)}function k(e){if(!e.getCacheValue(f)){let t=new i.M,s=new a.P,r=e.points,n=e.hasM,l=e.hasZ,u=l?3:2;for(let e=0,a=r.length;e<a;e++){let a=r[e];s.setXYCoords(a[0],a[1]),l&&s.setZ(a[2]??0),n&&s.setM(a[u]??NaN),t.add(s)}e.setCacheValue(f,t)}return e.getCacheValue(f)}function x(e){if(!e.getCacheValue(f)){let t=new a.P;t.setXYCoords(e.x,e.y),e.hasM&&t.setM(e.m),e.hasZ&&t.setZ(e.z),e.setCacheValue(f,t)}return e.getCacheValue(f)}function P(e){if(!e.getCacheValue(f)){let{curveRings:t,hasM:s,hasZ:r,rings:n}=e,a=(0,g.fromGeometryToGXGeometry)({curveRings:t,hasM:s,hasZ:r,rings:n});e.setCacheValue(f,a)}return e.getCacheValue(f)}function v(e){if(!e.getCacheValue(f)){let{curvePaths:t,hasM:s,hasZ:r,paths:n}=e,a=(0,g.fromGeometryToGXGeometry)({curvePaths:t,hasM:s,hasZ:r,paths:n});e.setCacheValue(f,a)}return e.getCacheValue(f)}function G(e){if(e.wkid)return(0,l.c)(e.wkid);let t=e.wkt2||e.wkt;return t?(0,l.b)(t):null}function d(e,t){if(e)switch(e.getGeometryType()){case n.G.enumPoint:return M(e,t);case n.G.enumEnvelope:return C(e,t);case n.G.enumMultiPoint:return w(e,t);case n.G.enumPolyline:return R(e,t);case n.G.enumPolygon:return D(e,t)}return null}function C(e,t){if(e.isEmpty())return null;let s=new u.A({xmin:e.getXMin(),ymin:e.getYMin(),xmax:e.getXMax(),ymax:e.getYMax(),spatialReference:t}),r=e.getDescription();if(r.hasM()){let t=e.queryInterval(2,0);s.mmin=t.vmin,s.mmax=t.vmax}if(r.hasZ()){let t=e.queryInterval(1,0);s.zmin=t.vmin,s.zmax=t.vmax}return s.setCacheValue(f,e),s}function w(e,t){if(e.isEmpty())return null;let s=e.getDescription(),r=s.hasM(),n=s.hasZ(),i=[],l=new a.P;for(let t=0,s=e.getPointCount();t<s;t++){e.getPointByVal(t,l);let s=[l.getX(),l.getY()];n&&s.push(l.getZ()),r&&s.push(l.getM()),i.push(s)}let u=new o.A({hasM:r,hasZ:n,points:i,spatialReference:t});return u.setCacheValue(f,e),u}function M(e,t){if(e instanceof r.P)return new m.A({x:e.x,y:e.y,spatialReference:t});if(e.isEmpty())return null;let s=new m.A({x:e.getX(),y:e.getY(),spatialReference:t}),n=e.getDescription();return n.hasM()&&(s.m=e.getM()),n.hasZ()&&(s.z=e.getZ()),s.setCacheValue(f,e),s}function D(e,t){if(e.isEmpty())return null;let s=h.A.fromJSON({spatialReference:t,...(0,g.toGeometry)(e,null)});return s.setCacheValue(f,e),s}function R(e,t){if(e.isEmpty())return null;let s=c.A.fromJSON({spatialReference:t,...(0,g.toGeometry)(e,null)});return s.setCacheValue(f,e),s}},56802:(e,t,s)=>{s.r(t),s.d(t,{execute:()=>r.e,executeMany:()=>r.a,supportsCurves:()=>r.s}),s(31461),s(8922),s(36134),s(39984);var r=s(29678)},78702:(e,t,s)=>{s.d(t,{O:()=>m});var r=s(81856),n=s(8288),a=s(16404),i=s(32045),l=s(31632),u=s(92656),o=s(99506);class m{getOperatorType(){return 10204}supportsCurves(){return!0}accelerateGeometry(e,t,s){return!1}canAccelerateGeometry(e){return!1}executeMany(e,t,s,r){return new h(e,t,s,r)}execute(e,t,s,r){return e||(0,a.t)("null param is not allowed."),new h(null,t,s,r).generalize(e)}}class h extends n.G{constructor(e,t,s,r){super(),this.m_pline=null,this.m_point=new l.P,this.m_stack=[],this.m_resultstack=[],this.m_callCount=0,this.m_progressTracker=r,this.m_geoms=e,this.m_maxDeviation=t,this.m_bRemoveDegenerateParts=s}tock(){return!0}getRank(){return 1}next(){let e=this.m_geoms.next();return null===e?null:((0,a.d)(e),this.generalize(e))}getGeometryID(){return this.m_geoms.getGeometryID()}generalize(e){let t=e.getGeometryType();if((0,a.e)(t))return e;if(t===a.G.enumEnvelope){let t=new i.a({vd:e.getDescription()});return t.addEnvelope(e,!1),this.generalize(t)}if((0,a.f)(t)){let t=new i.P({vd:e.getDescription()});return t.addSegment(e,!0),this.generalize(t)}if((0,a.h)(t)||(0,a.b)(""),e.isEmpty()||this.m_maxDeviation<=0)return e;let s=(new o.O).execute(e,0,.05*this.m_maxDeviation,0,this.m_progressTracker);e.hasNonLinearSegments()&&(this.m_maxDeviation*=.95);let n=e.createInstance();n.getGeometryType()===a.G.enumPolygon&&n.setFillRule(e.getFillRule()),this.m_xy=s.getAttributeStreamRef(0);{let e={stack:[],error:void 0,hasError:!1};try{let t=new i.L;this.m_pline=t,(0,r.b)(e,(0,u.h)(()=>{this.m_pline=null},!1),!1);for(let e=0,t=s.getPathCount();e<t;e++)this.generalizePath(s.getImpl(),e,n.getImpl())}catch(t){e.error=t,e.hasError=!0}finally{(0,r.c)(e)}}return this.m_resultstack.length=0,this.m_stack.length=0,n}generalizePath(e,t,s){if(2>e.getPathSize(t))return;this.m_resultstack.length=0,this.m_stack.length=0;let r=e.getPathStart(t),n=e.getPathEnd(t)-1,a=e.isClosedPath(t),i=e.isClosedPathInXYPlane(t),l=0,o=-1;this.m_stack.push(a?r:n),this.m_stack.push(r);let m=!1,h=!1;for(!this.m_bRemoveDegenerateParts&&i&&(m=!0,h=!0);this.m_stack.length>1;){let t=this.m_stack.at(-1);this.m_stack.pop();let s=this.m_stack.at(-1),r=e.getXY(t);this.m_pline.setStartXY(r),r=e.getXY(s),this.m_pline.setEndXY(r);let a=[Number.NaN],i=this.findGreatestDistance(t,s,n,a);i>=0&&(m?m=!1:(h&&a[0]>l&&(l=a[0],o=i),a[0]<=this.m_maxDeviation&&(i=-1))),i>=0?(this.m_stack.push(i),this.m_stack.push(t)):this.m_resultstack.push(t)}a||this.m_resultstack.push(this.m_stack[0]);let c=this.m_resultstack.length;if(c===e.getPathSize(t)&&c===this.m_stack.length)s.addPath(e,t,!0);else if(this.m_resultstack.length>0){if(this.m_bRemoveDegenerateParts&&this.m_resultstack.length<=2&&(a||1===this.m_resultstack.length||u.P.distance(e.getXY(this.m_resultstack[0]),e.getXY(this.m_resultstack[1]))<=this.m_maxDeviation))return;if(h&&o>=0&&l<=this.m_maxDeviation){let e=this.m_resultstack.at(-1)>o;this.m_resultstack.push(o),e&&(this.m_resultstack[this.m_resultstack.length-2]=(0,u.b)(this.m_resultstack[this.m_resultstack.length-1],this.m_resultstack[this.m_resultstack.length-1]=this.m_resultstack[this.m_resultstack.length-2]))}for(let t=0,r=this.m_resultstack.length;t<r;t++)e.getPointByVal(this.m_resultstack[t],this.m_point),0===t?s.startPathPoint(this.m_point):s.lineToPoint(this.m_point);if(a){for(let e=this.m_resultstack.length;e<3;e++)s.lineToPoint(this.m_point);s.closePathWithLine()}}}findGreatestDistance(e,t,s,r){let n=t-1;t<=e&&(n=s);let a=-1,i=0,l=new u.P;for(let t=e+1;t<=n;t++){this.m_xy.queryPoint2D(2*t,l);let e=l.x,s=l.y,r=this.m_pline.getClosestCoordinate(l,!1);l.assign(this.m_pline.getCoord2D(r)),l.x-=e,l.y-=s;let n=l.length();n>i&&(a=t,i=n),this.m_callCount++}return r[0]=i,a}}}}]);