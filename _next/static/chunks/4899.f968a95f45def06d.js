"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4899,8160],{29902:(e,t,r)=>{r.d(t,{M:()=>a});var i=r(39166),s=r(48671);class a extends EventTarget{constructor(){super(...arguments),this._readyState=0,this._responseType="",this.timeout=0,this._withCredentials=!1,this.onabort=null,this.onerror=null,this.onload=null,this.onloadend=null,this.onloadstart=null,this.onprogress=null,this.ontimeout=null,this.onreadystatechange=null,this.UNSENT=0,this.OPENED=1,this.HEADERS_RECEIVED=2,this.LOADING=3,this.DONE=4,this._abortController=null,this._error=null,this._options={},this._response=null,this._sendFlag=!1,this._url=""}get readyState(){return this._readyState}get response(){return""===this.responseType||"text"===this.responseType?this.responseText:this.readyState!==this.DONE||this._error||!this._response?null:this._response.data}get responseText(){return""!==this.responseType&&"text"!==this.responseType&&this._throwDOMException(),this.readyState!==this.DONE?"":this._response?this._response.data:null!=this._error?.raw?"string"==typeof this._error.raw?this._error.raw:JSON.stringify(this._error.raw):""}get responseType(){return this._responseType}set responseType(e){("document"!==e||globalThis instanceof Window)&&(this.readyState!==this.LOADING&&this.readyState!==this.DONE||this._throwDOMException(),this._responseType=e)}get responseURL(){return(this._response||this._error)?.url??""}get responseXML(){return""!==this.responseType&&"document"!==this.responseType&&this._throwDOMException(),this.readyState!==this.DONE?null:this._response?.data??null}get status(){return(this._response||this._error)?.httpStatus??0}get statusText(){return""}get upload(){return console.warn("upload not implemented"),null}get withCredentials(){return this._withCredentials}set withCredentials(e){this.readyState!==this.UNSENT&&this.readyState!==this.OPENED&&this._throwDOMException(),this._withCredentials=e}abort(){this.readyState===this.OPENED&&this._sendFlag||this.readyState===this.HEADERS_RECEIVED||this.readyState===this.LOADING?(this._sendFlag=!1,this._error=null,this._response=null,this._abortController?.abort(),this._updateReadyState(this.DONE),this._dispatchProgressEvent("abort"),this._dispatchProgressEvent("loadend")):this.readyState===this.DONE&&this._updateReadyState(this.UNSENT)}getAllResponseHeaders(){let e="",t=(this._response||this._error)?.getAllHeaders?.();if(t)for(let[r,i]of t)e+=`${r}: ${i}\r
`;return e}getResponseHeader(e){return(this._response||this._error)?.getHeader?.(e)??null}open(e,t){switch(this._sendFlag=!1,this._options={},e){case"GET":this._options.method="auto";break;case"POST":this._options.method="post";break;case"HEAD":this._options.method="head";break;case"DELETE":this._options.method="delete";break;case"PUT":this._options.method="put"}this._url=t,this._error=null,this._response=null,this._abortController=new AbortController,this._updateReadyState(this.OPENED)}overrideMimeType(e){throw Error("overrideMimeType not implemented")}send(e){(this.readyState!==this.OPENED||this._sendFlag)&&this._throwDOMException(),this._sendFlag=!0,this._updateReadyState(this.LOADING),this._dispatchProgressEvent("loadstart");let t=this._options;e instanceof URLSearchParams?t.body=e.toString():t.body=e,t.responseType=""===this.responseType?"text":"arraybuffer"===this.responseType?"array-buffer":this.responseType,t.signal=this._abortController?.signal,this.timeout&&(t.timeout=this.timeout),this.withCredentials&&(t.withCredentials=!0),(0,i.A)(this._url,t).then(e=>{this._response=e,this._updateReadyState(this.DONE),this._dispatchProgressEvent("load")}).catch(e=>{this._sendFlag&&(this._error=e.details,this._updateReadyState(this.DONE),(0,s.c8)(e)?this._dispatchProgressEvent("timeout"):"AbortError"===e.name?this._dispatchProgressEvent("abort"):this._dispatchProgressEvent("error"))}).finally(()=>{this._sendFlag&&this._dispatchProgressEvent("loadend")})}setRequestHeader(e,t){(this.readyState!==this.OPENED||this._sendFlag)&&this._throwDOMException(),this._options.headers??={},this._options.headers[e]=t}_dispatchProgressEvent(e){let t=new ProgressEvent(e,{loaded:0,total:0});this.dispatchEvent(t),this[`on${e}`]?.(t)}_throwDOMException(){throw new DOMException("","InvalidStateError")}_updateReadyState(e){if(this._readyState!==e&&(this._readyState=e,e!==this.UNSENT)){let e=new Event("readystatechange");this.dispatchEvent(e),this.onreadystatechange?.(e)}}}a.UNSENT=0,a.OPENED=1,a.HEADERS_RECEIVED=2,a.LOADING=3,a.DONE=4},36747:(e,t,r)=>{r.d(t,{A:()=>v});var i=r(81856),s=r(28690),a=r(91838);r(57845),r(61939),r(33638);var o=r(12709),n=r(3391),l=r(56911),u=r(6815),h=r(63599),d=r(39960),g=r(91463),p=r(99345),f=r(70983),m=r(54015),_=r(56857);let c=Math.PI/180,E=class extends s.A{constructor(e){super(),this.averageElevation=0,this.imageHeight=0,this.imageWidth=0,this.metadataSupportsTransforms=!1,this.platformHeadingAngle=0,this.platformPitchAngle=0,this.platformRollAngle=0,this.sensorHeadingAngle=0,this.sensorAltitude=0,this.sensorHorizontalFieldOfView=0,this.sensorLatitude=0,this.sensorLongitude=0,this.sensorPitchAngle=0,this.sensorRollAngle=0,this.sensorVerticalFieldOfView=0,this.vttMetadata=new Map,this._createMat3FromValues=e=>{let t=e[0],r=e[1],i=e[2];return(0,n.fA)(t[0],r[0],i[0],t[1],r[1],i[1],t[2],r[2],i[2])},this._multiplyMat3=(e,t)=>{let r=(0,n.vt)();return(0,u.lw)(r,e,t),r},this._transposeMat3=e=>{let t=(0,n.vt)();return(0,u.mg)(t,e),t},this._calculateCameraFovForward=()=>this._createMat3FromValues([[0,0,1],[Math.tan(.5*this.sensorHorizontalFieldOfView*c),0,0],[0,Math.tan(.5*this.sensorVerticalFieldOfView*c),0]]),this._calculateCameraFovReverse=()=>this._createMat3FromValues([[0,1/Math.tan(.5*this.sensorHorizontalFieldOfView*c),0],[0,0,1/Math.tan(.5*this.sensorVerticalFieldOfView*c)],[1,0,0]]),this._calculateCameraLook=()=>this._getRotationMatrixZYX(this.sensorHeadingAngle*c,this.sensorPitchAngle*c,this.sensorRollAngle*c),this._calculateImageDimensionsForward=()=>this._createMat3FromValues([[2/this.imageWidth,0,-1],[0,-2/this.imageHeight,-1],[0,0,1]]),this._calculateImageDimensionsReverse=()=>this._createMat3FromValues([[this.imageWidth/2,0,this.imageWidth/2],[0,-this.imageHeight/2,-this.imageHeight/2],[0,0,1]]),this._calculatePlatformPositionMatrix=()=>{let e=Math.sin(this.sensorLatitude*c),t=Math.cos(this.sensorLatitude*c),r=Math.sin(this.sensorLongitude*c),i=Math.cos(this.sensorLongitude*c);return this._createMat3FromValues([[-e*i,-r,-t*i],[-e*r,i,-t*r],[t,0,-e]])},this._calculatePlatformOrientation=()=>this._getRotationMatrixZYX(this.platformHeadingAngle*c,this.platformPitchAngle*c,this.platformRollAngle*c),this._extractValues=e=>{this.imageWidth=e.get(_.a1.EsriVideoWidth)?.value,this.imageHeight=e.get(_.a1.EsriVideoHeight)?.value;let t=e.get(_.a1.SensorEllipsoidHeight)?.value;this.sensorAltitude=t??e.get(_.a1.SensorTrueAltitude)?.value,this.sensorLatitude=e.get(_.a1.SensorLatitude)?.value,this.sensorLongitude=e.get(_.a1.SensorLongitude)?.value,this.sensorHeadingAngle=e.get(_.a1.SensorAzimuthAngle)?.value,this.sensorPitchAngle=e.get(_.a1.SensorElevationAngle)?.value,this.sensorRollAngle=e.get(_.a1.SensorRollAngle)?.value,this.sensorHorizontalFieldOfView=e.get(_.a1.SensorHorizontalFOV)?.value,this.sensorVerticalFieldOfView=e.get(_.a1.SensorVerticalFOV)?.value,this.platformHeadingAngle=e.get(_.a1.PlatformHeadingAngle)?.value,this.platformPitchAngle=e.get(_.a1.PlatformPitchAngle)?.value,this.platformRollAngle=e.get(_.a1.PlatformRollAngle)?.value,this.averageElevation=e.get(_.a1.FrameCenterElevation)?.value||0},this._getRotationMatrixZYX=(e,t,r)=>{let i=Math.cos(e),s=Math.sin(e),a=Math.cos(t),o=Math.sin(t),n=Math.cos(r),l=Math.sin(r);return this._createMat3FromValues([[i*a,i*o*l-n*s,s*l+i*n*o],[a*s,i*n+s*o*l,n*s*o-i*l],[-o,a*l,a*n]])},this._initCameraSensor=()=>{let e=this._calculateCameraFovForward(),t=this._calculateCameraFovReverse(),r=this._calculateCameraLook(),i=this._calculateImageDimensionsForward(),s=this._calculateImageDimensionsReverse(),a=this._calculatePlatformPositionMatrix(),o=this._calculatePlatformOrientation(),n=this._multiplyMat3(this._multiplyMat3(a,o),r);this._imageToEarthTransform=this._multiplyMat3(this._multiplyMat3(n,e),i);let l=this._multiplyMat3(s,t);this._earthToImageTransform=this._multiplyMat3(l,this._transposeMat3(n)),this._platformPositionEcef=this._projectPointToECEF(this.sensorLongitude,this.sensorLatitude,this.sensorAltitude||this.averageElevation)},this._metadataSupportsTransforms=e=>{if(!e?.size)return!1;let t=e.get(_.a1.EsriVideoWidth)?.value??0,r=e.get(_.a1.EsriVideoHeight)?.value??0;if(t<=0||r<=0)return!1;let i=e.get(_.a1.SensorEllipsoidHeight)?.value,s=e.get(_.a1.SensorTrueAltitude)?.value,a=e.get(_.a1.SensorLatitude)?.value,o=e.get(_.a1.SensorLongitude)?.value;if(null==i&&null==s||null==a||null==o)return!1;let n=e.get(_.a1.PlatformHeadingAngle)?.value,l=e.get(_.a1.PlatformPitchAngle)?.value,u=e.get(_.a1.PlatformRollAngle)?.value;if(null==n||null==l||null==u)return!1;let h=e.get(_.a1.SensorHorizontalFOV)?.value,d=e.get(_.a1.SensorVerticalFOV)?.value;if(null==h||null==d)return!1;let g=e.get(_.a1.SensorAzimuthAngle)?.value,p=e.get(_.a1.SensorElevationAngle)?.value,f=e.get(_.a1.SensorRollAngle)?.value;return null!=g&&null!=p&&null!=f},this._projectPointToECEF=(e,t,r)=>{let i=[];return(0,f.projectBuffer)([e,t,r],g.A.WGS84,0,i,p.Y0,0),new d.A({x:i[0],y:i[1],z:i[2],spatialReference:p.Y0})},this._projectImageVectorToEllipsoid=(e,t)=>{let r=m.$O.semiMajorAxis+t,i=m.$O.semiMinorAxis+t,{x:s,y:a,z:o}=this._platformPositionEcef,n=o??this.averageElevation,u=(0,l.fA)(s,a,r/i*n),d=(0,h.f)(e,e),g=(0,h.f)(e,u),p=(-g-Math.sqrt(g*g-d*((0,h.f)(u,u)-r*r)))/d;if(p<0)return[NaN,NaN,NaN];let f=(0,l.vt)();return(0,h.b)(f,u,e,p),f[2]=f[2]*(i/r),f};let t=e?.videoMetadata;this._set("metadataSupportsTransforms",this._metadataSupportsTransforms(t)),this.metadataSupportsTransforms&&(this._extractValues(t),this._initCameraSensor())}transformGeoToImage(e,t,r){let i=this._platformPositionEcef;if(!i)return[0,0];let{x:s,y:a,z:o}=i,n=(0,l.fA)(s,a,o),u=this._projectPointToECEF(e,t,r||this.averageElevation),d=(0,l.vt)(),g=(0,l.fA)(u.x,u.y,u.z);(0,h.d)(d,g,n),(0,h.q)(d,d,this._earthToImageTransform);let p=d[0],f=d[1],m=d[2],_=(0,l.fA)(NaN,NaN,NaN);return isNaN(m)||(_=(0,l.fA)(p/m,f/m,m/m)),[_[0],_[1]]}transformImageToGeo(e,t){let r,i=(0,l.fA)(e,t,1),s=(0,l.vt)();(0,h.q)(s,i,this._imageToEarthTransform);let a=this._projectImageVectorToEllipsoid(s,this.averageElevation);if(!isNaN(a[0])){let e=[];(0,f.projectBuffer)([a[0],a[1],a[2]],p.Y0,0,e,g.A.WGS84,0),r=new d.A({x:e[0],y:e[1],z:e[2],spatialReference:g.A.WGS84})}return r}};(0,i._)([(0,a.MZ)()],E.prototype,"averageElevation",void 0),(0,i._)([(0,a.MZ)()],E.prototype,"imageHeight",void 0),(0,i._)([(0,a.MZ)()],E.prototype,"imageWidth",void 0),(0,i._)([(0,a.MZ)({readOnly:!0})],E.prototype,"metadataSupportsTransforms",void 0),(0,i._)([(0,a.MZ)()],E.prototype,"platformHeadingAngle",void 0),(0,i._)([(0,a.MZ)()],E.prototype,"platformPitchAngle",void 0),(0,i._)([(0,a.MZ)()],E.prototype,"platformRollAngle",void 0),(0,i._)([(0,a.MZ)()],E.prototype,"sensorHeadingAngle",void 0),(0,i._)([(0,a.MZ)()],E.prototype,"sensorAltitude",void 0),(0,i._)([(0,a.MZ)()],E.prototype,"sensorHorizontalFieldOfView",void 0),(0,i._)([(0,a.MZ)()],E.prototype,"sensorLatitude",void 0),(0,i._)([(0,a.MZ)()],E.prototype,"sensorLongitude",void 0),(0,i._)([(0,a.MZ)()],E.prototype,"sensorPitchAngle",void 0),(0,i._)([(0,a.MZ)()],E.prototype,"sensorRollAngle",void 0),(0,i._)([(0,a.MZ)()],E.prototype,"sensorVerticalFieldOfView",void 0),(0,i._)([(0,a.MZ)()],E.prototype,"vttMetadata",void 0);let v=E=(0,i._)([(0,o.$)("esri.layers.video.VideoCameraSensorModel")],E)},53291:(e,t,r)=>{r.d(t,{A:()=>g});var i=r(81856),s=r(71017),a=r(92713),o=r(91838);r(57845),r(61939),r(33638);var n=r(12709),l=r(39960),u=r(87960),h=r(65442);let d=class extends s.A.ClonableMixin(a.A){constructor(e){super(e),this.frameCenter=null,this.frameOutline=null,this.lineOfSight=null,this.sensorLocation=null,this.sensorTrail=null}};(0,i._)([(0,o.MZ)({type:l.A})],d.prototype,"frameCenter",void 0),(0,i._)([(0,o.MZ)({type:u.A})],d.prototype,"frameOutline",void 0),(0,i._)([(0,o.MZ)({type:h.A})],d.prototype,"lineOfSight",void 0),(0,i._)([(0,o.MZ)({type:l.A})],d.prototype,"sensorLocation",void 0),(0,i._)([(0,o.MZ)({type:h.A})],d.prototype,"sensorTrail",void 0);let g=d=(0,i._)([(0,n.$)("esri.layers.support.TelemetryData")],d)},56857:(e,t,r)=>{r.d(t,{SC:()=>L,I0:()=>C,yQ:()=>v,Yv:()=>A,YI:()=>y,A_:()=>S,nX:()=>E,a1:()=>c});var i=r(39960),s=r(87960),a=r(65442),o=r(53291),n=r(81856),l=r(71017),u=r(92713),h=r(91838);r(57845),r(61939),r(33638);var d=r(53480),g=r(12709),p=r(7780);let f=class extends l.A.ClonableMixin(u.A){constructor(e){super(e),this.duration=null,this.end=null,this.start=null,this.timezone="UTC"}readEnd(e,t){return null!=t.end?new Date(t.end):null}writeEnd(e,t){t.end=e?e.getTime():null}readStart(e,t){return null!=t.start?new Date(t.start):null}writeStart(e,t){t.start=e?e.getTime():null}};(0,n._)([(0,h.MZ)({type:Number,json:{write:{allowNull:!0}}})],f.prototype,"duration",void 0),(0,n._)([(0,h.MZ)({type:Date,json:{write:{allowNull:!0}}})],f.prototype,"end",void 0),(0,n._)([(0,d.w)("end")],f.prototype,"readEnd",null),(0,n._)([(0,p.K)("end")],f.prototype,"writeEnd",null),(0,n._)([(0,h.MZ)({type:Date,json:{write:{allowNull:!0}}})],f.prototype,"start",void 0),(0,n._)([(0,d.w)("start")],f.prototype,"readStart",null),(0,n._)([(0,p.K)("start")],f.prototype,"writeStart",null),(0,n._)([(0,h.MZ)({type:String})],f.prototype,"timezone",void 0);let m=f=(0,n._)([(0,g.$)("esri.layers.support.VideoTimeExtent")],f),_="application/x-mpegURL",c={UASDatalinkLocalSet:1e4,PrecisionTimeStamp:10002,MissionId:10003,PlatformTailNumber:10004,PlatformHeadingAngle:10005,PlatformPitchAngle:10006,PlatformRollAngle:10007,PlatformTrueAirspeed:10008,PlatformIndicatedAirspeed:10009,PlatformDesignation:10010,ImageSourceSensor:10011,ImageCoordinateSystem:10012,SensorLatitude:10013,SensorLongitude:10014,SensorTrueAltitude:10015,SensorHorizontalFOV:10016,SensorVerticalFOV:10017,SensorAzimuthAngle:10018,SensorElevationAngle:10019,SensorRollAngle:10020,PlatformSlantRange:10021,TargetWidth:10022,FrameCenterLatitude:10023,FrameCenterLongitude:10024,FrameCenterElevation:10025,OffsetCorner1Latitude:10026,OffsetCorner1Longitude:10027,OffsetCorner2Latitude:10028,OffsetCorner2Longitude:10029,OffsetCorner3Latitude:10030,OffsetCorner3Longitude:10031,OffsetCorner4Latitude:10032,OffsetCorner4Longitude:10033,TargetLocationLatitude:10040,TargetLocationLongitude:10041,TargetLocationElevation:10042,TargetTrackGateWidth:10043,TargetTrackGateHeight:10044,TargetErrorEstimateHorizontal:10045,TargetErrorEstimateLateral:10046,GenericFlagData:10047,PlatformGroundSpeed:10056,PlatformGroundRange:10057,PlatformRemainingFuel:10058,PlatformCallSign:10059,SensorFOVName:10063,PlatformMagneticHeading:10064,LDSVersionNumber:10065,AlternatePlatformName:10070,EventStartTimeUTC:10072,VMTIDataSet:10074,SensorEllipsoidHeight:10075,OperationalMode:10077,CornerLatitudePoint1:10082,CornerLongitudePoint1:10083,CornerLatitudePoint2:10084,CornerLongitudePoint2:10085,CornerLatitudePoint3:10086,CornerLongitudePoint3:10087,CornerLatitudePoint4:10088,CornerLongitudePoint4:10089,SARMotionImageryMetadata:10095,SecurityClassification:20001,SecurityClassifyingAuthority:20002,SecurityClassifyingCountry:20003,SecuritySCI:20004,SecurityCaveats:20005,SecurityReleaseInstructions:20006,SecurityLDSVersion:20022,EsriVideoWidth:90001,EsriVideoHeight:90002,EsriFrameCenterLatitude:90050,EsriFrameCenterLongitude:90051,EsriCornerLatitudePt1:90052,EsriCornerLongitudePt1:90053,EsriCornerLatitudePt2:90054,EsriCornerLongitudePt2:90055,EsriCornerLatitudePt3:90056,EsriCornerLongitudePt3:90057,EsriCornerLatitudePt4:90058,EsriCornerLongitudePt4:90059,EsriFrameOutline:90060,EsriSensorPosition:90061,EsriHorizonPixelPack:90063,EsriGroundControlPoints:90064};function E(e){let{duration:t,end:r,start:i,timezone:s="UTC"}=e||{};return"number"!=typeof t?null:new m({duration:t||null,end:"number"==typeof r?new Date(r):null,start:"number"==typeof i?new Date(i):null,timezone:s})}function v(e,t){let r=[...t],i=r.findIndex(t=>t.equals(e));return i>-1&&r.splice(i),r.push(e),r}function y(e){var t,r,n;if(!e?.size)return new o.A;let l=function(e){if(!e?.size)return null;if(e.has(c.EsriSensorPosition)){let t=e.get(c.EsriSensorPosition)?.value;if(t)return i.A.fromJSON(t.geometry)}return e.has(c.SensorLongitude)&&e.has(c.SensorLatitude)&&e.has(c.SensorTrueAltitude)?new i.A({x:e.get(c.SensorLongitude)?.value,y:e.get(c.SensorLatitude)?.value,z:e.get(c.SensorTrueAltitude)?.value}):null}(e),u=((r=t=e)&&r.has(c.EsriFrameCenterLatitude)&&r.has(c.EsriFrameCenterLongitude)?new i.A({x:r.get(c.EsriFrameCenterLongitude).value,y:r.get(c.EsriFrameCenterLatitude).value,z:r.get(c.FrameCenterElevation).value}):null)??((n=t)&&n.has(c.FrameCenterLatitude)&&n.has(c.FrameCenterLongitude)?new i.A({x:n.get(c.FrameCenterLongitude)?.value,y:n.get(c.FrameCenterLatitude)?.value,z:n.get(c.FrameCenterElevation)?.value}):null),h=function(e){if(!e)return null;let t=e.get(c.EsriFrameOutline)?.value;return t?s.A.fromJSON(t.geometry):function(e){if(!(e.has(c.EsriCornerLatitudePt1)&&e.has(c.EsriCornerLongitudePt1)&&e.has(c.EsriCornerLatitudePt2)&&e.has(c.EsriCornerLongitudePt2)&&e.has(c.EsriCornerLatitudePt3)&&e.has(c.EsriCornerLongitudePt3)&&e.has(c.EsriCornerLatitudePt4)&&e.has(c.EsriCornerLongitudePt4)))return null;let t=[e.get(c.EsriCornerLongitudePt1)?.value,e.get(c.EsriCornerLatitudePt1)?.value],r=[e.get(c.EsriCornerLongitudePt2)?.value,e.get(c.EsriCornerLatitudePt2)?.value],i=[e.get(c.EsriCornerLongitudePt3)?.value,e.get(c.EsriCornerLatitudePt3)?.value],a=[e.get(c.EsriCornerLongitudePt4)?.value,e.get(c.EsriCornerLatitudePt4)?.value];return new s.A({rings:[[t,r,i,a]]})}(e)??function(e){if(!(e.has(c.OffsetCorner1Latitude)&&e.has(c.OffsetCorner1Longitude)&&e.has(c.OffsetCorner2Latitude)&&e.has(c.OffsetCorner2Longitude)&&e.has(c.OffsetCorner3Latitude)&&e.has(c.OffsetCorner3Longitude)&&e.has(c.OffsetCorner4Latitude)&&e.has(c.OffsetCorner4Longitude)&&e.has(c.FrameCenterLatitude)&&e.has(c.FrameCenterLongitude)))return null;let t=e.get(c.FrameCenterLatitude)?.value,r=e.get(c.FrameCenterLongitude)?.value,i=t+e.get(c.OffsetCorner1Latitude)?.value,a=r+e.get(c.OffsetCorner1Longitude)?.value,o=t+e.get(c.OffsetCorner2Latitude)?.value,n=r+e.get(c.OffsetCorner2Longitude)?.value,l=t+e.get(c.OffsetCorner3Latitude)?.value,u=r+e.get(c.OffsetCorner3Longitude)?.value,h=t+e.get(c.OffsetCorner4Latitude)?.value,d=r+e.get(c.OffsetCorner4Longitude)?.value;return new s.A({rings:[[[a,i],[n,o],[u,l],[d,h]]]})}(e)}(e),d=function(e,t){if(!e||!t)return null;let r=[e.x,e.y,e.z??0],i=[t.x,t.y,t.z??0];return new a.A({paths:[[r,i]]})}(l,u);return new o.A({frameCenter:u,frameOutline:h,lineOfSight:d,sensorLocation:l})}function C(e){return e?.size?e.get(c.EsriGroundControlPoints)?.value??null??null:null}function L(e){return e?.size?e.get(c.EsriHorizonPixelPack)?.value??null:null}function S(e){if(!e)return _;let t=e.match(/\.(\w{3,4})(?:$|\?)/i);if(!t)return _;switch(t[1].toLowerCase()){case"mp4":return"video/mp4";case"webm":return"video/webm";default:return _}}function A(e){let t=e?.layers;return t?.length?t.map(e=>({layerId:e.id,posterUrl:e.poster,sourceType:e.serviceType,title:e.name,type:e.type||"Video Layer"})):[]}},78160:(e,t,r)=>{r.d(t,{c:()=>i,g:()=>s});var i="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function s(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}},99345:(e,t,r)=>{r.d(t,{Y0:()=>u,lO:()=>h});var i=r(69752),s=r(91463),a=r(71760);let o=new s.A(i.fv),n=new s.A(i.FY),l=new s.A(i.LJ),u=new s.A(i.Ro);function h(e){let t=d.get(e);if(t)return t;let r=o;if(e)if(e===n)r=n;else if(e===l)r=l;else{let t=e.wkid,i=e.latestWkid;if(null!=t||null!=i)(0,a.tl)(t)||(0,a.tl)(i)?r=n:((0,a.ZL)(t)||(0,a.ZL)(i))&&(r=l);else{let t=e.wkt2??e.wkt;if(t){let e=t.toUpperCase();e===g?r=n:e===p&&(r=l)}}}return d.set(e,r),r}let d=new Map,g=n.wkt.toUpperCase(),p=l.wkt.toUpperCase()}}]);