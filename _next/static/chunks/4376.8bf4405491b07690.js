"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4376],{32274:(e,t,n)=>{n.d(t,{EG:()=>c,Ll:()=>z,R3:()=>v,UH:()=>s,aM:()=>g,fs:()=>h,i0:()=>T});var i=n(59983),l=n(39265),a=n(20703);n(12723);var r=n(93682),o=n(90628);let s=",",u={years:365,months:30,days:1,hours:1/24,minutes:1/1440,seconds:1/86400,milliseconds:1/864e5},f=new Set(["integer","small-integer"]),m=null;function h(e){return(0,l.vE)(e)||(0,l.zD)(e)||(0,l.Ah)(e)}async function c(e){let{field:t,field2:n,field3:i,normalizationField:l,valueExpression:r}=e,o=[];if(r){if(!m){let{arcadeUtils:e}=await (0,a.lw)();m=e}o=m.extractFieldNames(r)}return t&&o.push(t),n&&o.push(n),i&&o.push(i),l&&o.push(l),o}function d(e){return String(e).padStart(2,"0")}function p(e,t,n){let i;return"date"===t||"number"===t?("number"===t&&(e=new Date(e)),i=`TIMESTAMP'${n?e.getFullYear():e.getUTCFullYear()}-${d((n?e.getMonth():e.getUTCMonth())+1)}-${d(n?e.getDate():e.getUTCDate())} ${d(n?e.getHours():e.getUTCHours())}:${d(n?e.getMinutes():e.getUTCMinutes())}:${d(n?e.getSeconds():e.getUTCSeconds())}'`):i=e,i}function g(e,t,n,i){let{hasQueryEngine:l}=e,a=`(${p(n,y(e,n),l)} - ${p(t,y(e,t),l)})`,r=u[i],o="/";return r<1&&(r=1/r,o="*"),{sqlExpression:1===r?a:`(${a} ${o} ${r})`,sqlWhere:null}}function y(e,t){if(t instanceof Date)return"date";if("number"==typeof t)return"number";if("string"==typeof t){let n=e.getField(t);if("<now>"===t.toLowerCase())return;if((0,l.vE)(n))return"field"}}function v(e,t){let n=t&&e.getField(t);return!!n&&f.has(n.type)}function z(e){return`cast(${e} as float)`}function T(e,t){let n,l,{format:a,timeZoneOptions:s,fieldType:u}=t??{};if(s&&({timeZone:n,timeZoneName:l}=(0,o.hv)(s.layerTimeZone,s.datesInUnknownTimezone,s.viewTimeZone,(0,i.J2)(a||"short-date-short-time"),u)),"string"==typeof e&&isNaN(Date.parse("time-only"===u?`1970-01-01T${e}Z`:e)))return e;switch(u){case"date-only":{let t=(0,i.J2)(a||"short-date");return"string"==typeof e?(0,i.iS)(e,{...t}):(0,i.Yq)(e,{...t,timeZone:r.n$})}case"time-only":{let t=(0,i.J2)(a||"short-time");return"string"==typeof e?(0,i.F8)(e,t):(0,i.Yq)(e,{...t,timeZone:r.n$})}case"timestamp-offset":{if(!n&&"string"==typeof e&&new Date(e).toISOString()!==e)return e;let t=a||s?(0,i.J2)(a||"short-date-short-time"):void 0,r=t?{...t,timeZone:n,timeZoneName:l}:void 0;return"string"==typeof e?(0,i.Ey)(e,r):(0,i.Yq)(e,r)}default:{let t=a||s?(0,i.J2)(a||"short-date-short-time"):void 0;return(0,i.Yq)("string"==typeof e?new Date(e):e,t?{...t,timeZone:n,timeZoneName:l}:void 0)}}}},72980:(e,t,n)=>{n.r(t),n.d(t,{classBreaks:()=>o,heatmapStatistics:()=>u,histogram:()=>s,summaryStatistics:()=>a,uniqueValues:()=>r});var i=n(29368),l=n(73140);async function a(e){let{attribute:t,features:n}=e,{normalizationType:a,normalizationField:r,minValue:o,maxValue:s,fieldType:u,outStatisticTypes:f}=t,m=await (0,i.Jc)({field:t.field,valueExpression:t.valueExpression,normalizationType:a,normalizationField:r,normalizationTotal:t.normalizationTotal,viewInfoParams:t.viewInfoParams,timeZone:t.timeZone,fieldInfos:t.fieldInfos},n),h=(0,l.Vb)({normalizationType:a,normalizationField:r,minValue:o,maxValue:s}),c={value:.5,fieldType:u},d="esriFieldTypeString"===u?(0,l.z9)({values:m,supportsNullCount:h,percentileParams:c,outStatisticTypes:f}):(0,l.G_)({values:m,minValue:o,maxValue:s,useSampleStdDev:!a,supportsNullCount:h,percentileParams:c,outStatisticTypes:f});return(0,l.oZ)(d,f,"esriFieldTypeDate"===u)}async function r(e){let{attribute:t,features:n}=e,a=await (0,i.Jc)({field:t.field,field2:t.field2,field3:t.field3,fieldDelimiter:t.fieldDelimiter,valueExpression:t.valueExpression,viewInfoParams:t.viewInfoParams,timeZone:t.timeZone,fieldInfos:t.fieldInfos},n,!1),r=(0,l.b3)(a);return(0,l.lv)(r,t.domains,t.returnAllCodedValues,t.fieldDelimiter)}async function o(e){let{attribute:t,features:n}=e,{field:a,normalizationType:r,normalizationField:o,normalizationTotal:s,classificationMethod:u}=t,f=await (0,i.Jc)({field:a,valueExpression:t.valueExpression,normalizationType:r,normalizationField:o,normalizationTotal:s,viewInfoParams:t.viewInfoParams,timeZone:t.timeZone,fieldInfos:t.fieldInfos},n),m=(0,l.Rw)(f,{field:a,normalizationType:r,normalizationField:o,normalizationTotal:s,classificationMethod:u,standardDeviationInterval:t.standardDeviationInterval,numClasses:t.numClasses,minValue:t.minValue,maxValue:t.maxValue});return(0,l.jM)(m,u)}async function s(e){let{attribute:t,features:n}=e,{field:a,normalizationType:r,normalizationField:o,normalizationTotal:s,classificationMethod:u}=t,f=await (0,i.Jc)({field:a,valueExpression:t.valueExpression,normalizationType:r,normalizationField:o,normalizationTotal:s,viewInfoParams:t.viewInfoParams,timeZone:t.timeZone,fieldInfos:t.fieldInfos},n);return(0,l.$y)(f,{field:a,normalizationType:r,normalizationField:o,normalizationTotal:s,classificationMethod:u,standardDeviationInterval:t.standardDeviationInterval,numBins:t.numBins,minValue:t.minValue,maxValue:t.maxValue})}async function u(e){let{attribute:t,features:n}=e,{field:l,radius:a,transform:r,spatialReference:o}=t,s=t.size??[0,0],u=(0,i.$r)(n??[],r,o,s);return(0,i.gV)(u,a??void 0,l,s[0],s[1])}},99572:(e,t,n)=>{function i(e){return e?{originPosition:"upper-left"===e.originPosition?"upperLeft":"lower-left"===e.originPosition?"lowerLeft":e.originPosition,scale:e.tolerance?[e.tolerance,e.tolerance,1,1]:[1,1,1,1],translate:null!=e.extent?[e.extent.xmin,e.extent.ymax,e.extent.zmin??0,e.extent.mmin??0]:[0,0,0,0]}:null}function l(e){if("lowerLeft"===e.originPosition&&4===e.scale.length&&4===e.translate.length)return e;let{originPosition:t,scale:n,translate:i}=e,l=n[0]??1,a=n[1]??1;return{originPosition:"lowerLeft",scale:[l,"lowerLeft"===t?a:-a,n[2]??1,n[3]??1],translate:[i[0]??0,i[1]??0,i[2]??0,i[3]??0]}}function a({scale:e,translate:t},n){return Math.round((n-t[0])/e[0])}function r({scale:e,translate:t},n){return Math.round((n-t[1])/e[1])}function o({scale:e,translate:t},n){return Math.round(((n??0)-t[2])/e[2])}function s({scale:e,translate:t},n){return n?Math.round((n-t[3])/e[3]):0}function u(e,t){return e&&t?c:e&&!t?m:!e&&t?h:f}n.d(t,{$X:()=>F,B2:()=>r,Gy:()=>M,IE:()=>a,P5:()=>S,Q1:()=>l,QE:()=>P,SW:()=>E,Tr:()=>V,VV:()=>i,wp:()=>I}),n(31789);let f=(e,t)=>{let n=[];if(!t.length)return null;let i=t[0],l=a(e,i[0]),o=r(e,i[1]);n.push([l,o]);for(let i=1;i<t.length;i++){let[s,u]=t[i],f=a(e,s),m=r(e,u);f===l&&m===o||n.push([f-l,m-o]),l=f,o=m}return n},m=(e,t)=>{let n=[];if(!t.length)return null;let i=t[0],l=a(e,i[0]),s=r(e,i[1]),u=o(e,i[2]);n.push([l,s,u]);for(let i=1;i<t.length;i++){let[f,m,h]=t[i],c=a(e,f),d=r(e,m),p=o(e,h);c===l&&d===s&&p===u||n.push([c-l,d-s,p]),l=c,s=d,u=p}return n},h=(e,t)=>{let n=[];if(!t.length)return null;let i=t[0],l=a(e,i[0]),o=r(e,i[1]),u=s(e,i[2]);n.push([l,o,u]);for(let i=1;i<t.length;i++){let[f,m,h]=t[i],c=a(e,f),d=r(e,m),p=s(e,h);c===l&&d===o&&p===u||n.push([c-l,d-o,p]),l=c,o=d,u=p}return n},c=(e,t)=>{let n=[];if(!t.length)return null;let i=t[0],l=a(e,i[0]),u=r(e,i[1]),f=o(e,i[2]),m=s(e,i[3]);n.push([l,u,f,m]);for(let i=1;i<t.length;i++){let[h,c,d,p]=t[i],g=a(e,h),y=r(e,c),v=o(e,d),z=s(e,p);g===l&&y===u&&v===f&&z===m||n.push([g-l,y-u,v,z]),l=g,u=y,f=v,m=z}return n};function d({scale:e,translate:t},n){return n*e[0]+t[0]}function p({scale:e,translate:t},n){return n*e[1]+t[1]}function g({scale:e,translate:t},n){return(n??0)*e[2]+t[2]}function y({scale:e,translate:t},n){return n?n*e[3]+t[3]:0}function v(e,t){return e&&t?Z:e&&!t?T:!e&&t?w:z}let z=(e,t)=>{let n=Array(t.length);if(!t.length)return n;let i=t[0],l=d(e,i[0]),a=p(e,i[1]);n[0]=[l,a];let{scale:r,originPosition:o}=e,s=r[0],u="lowerLeft"===o?r[1]:-r[1];for(let e=1;e<t.length;e++){let[i,r]=t[e];l+=s*i,a+=u*r,n[e]=[l,a]}return n},T=(e,t)=>{let n=Array(t.length);if(!t.length)return n;let i=t[0],l=d(e,i[0]),a=p(e,i[1]);n[0]=[l,a,g(e,i[2])];let{scale:r,originPosition:o}=e,s=r[0],u="lowerLeft"===o?r[1]:-r[1];for(let i=1;i<t.length;i++){let[r,o,f]=t[i];l+=s*r,a+=u*o,n[i]=[l,a,g(e,f)]}return n},w=(e,t)=>{let n=Array(t.length);if(!t.length)return n;let i=t[0],l=d(e,i[0]),a=p(e,i[1]);n[0]=[l,a,y(e,i[2])];let{scale:r,originPosition:o}=e,s=r[0],u="lowerLeft"===o?r[1]:-r[1];for(let i=1;i<t.length;i++){let[r,o,f]=t[i];l+=s*r,a+=u*o,n[i]=[l,a,y(e,f)]}return n},Z=(e,t)=>{let n=Array(t.length);if(!t.length)return n;let i=t[0],l=d(e,i[0]),a=p(e,i[1]);n[0]=[l,a,g(e,i[2]),y(e,i[3])];let{scale:r,originPosition:o}=e,s=r[0],u="lowerLeft"===o?r[1]:-r[1];for(let i=1;i<t.length;i++){let[r,o,f,m]=t[i];l+=s*r,a+=u*o,n[i]=[l,a,g(e,f),y(e,m)]}return n};function x(e,t,n){let i=Array(n.length);for(let l=0;l<n.length;l++)i[l]=t(e,n[l]);return i}function M(e,t,n){let i=l(e);return t.x=a(i,n.x),t.y=r(i,n.y),null!=n.z&&(t.z=o(i,n.z)),null!=n.m&&(t.m=s(i,n.m)),t}function I(e,t,n){let i=function(e,t,n,i){let l=[],a=u(n,i);for(let n=0;n<t.length;n++){let i=a(e,t[n]);i&&i.length>=3&&l.push(i)}return l.length?l:null}(l(e),n.rings,n.hasZ,n.hasM);return i?(t.rings=i,t.hasZ=n.hasZ??!1,t.hasM=n.hasM??!1,t):null}function P(e,t,n){let i=function(e,t,n,i){let l=[],a=u(n,i);for(let n=0;n<t.length;n++){let i=a(e,t[n]);i&&i.length>=2&&l.push(i)}return l.length?l:null}(l(e),n.paths,n.hasZ,n.hasM);return i?(t.paths=i,t.hasZ=n.hasZ??!1,t.hasM=n.hasM??!1,t):null}function E(e,t,n,i=n?.hasZ??!1,a=n?.hasM??!1){if(null!=n){let r=l(e);t.points=v(i,a)(r,n.points),t.hasZ=i,t.hasM=a}return t}function V(e,t,n,i=null!=n?.z,a=null!=n?.m){if(null==n)return t;let r=l(e);return t.x=d(r,n.x),t.y=p(r,n.y),i&&(t.z=g(r,n.z)),a&&(t.m=y(r,n.m)),t}function F(e,t,n,i=n?.hasZ??!1,a=n?.hasM??!1){return null!=n&&(t.rings=x(l(e),v(i,a),n.rings),t.hasZ=i,t.hasM=a),t}function S(e,t,n,i=n?.hasZ??!1,a=n?.hasM??!1){return null!=n&&(t.paths=x(l(e),v(i,a),n.paths),t.hasZ=i,t.hasM=a),t}}}]);