"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5415],{15415:(t,e,n)=>{n.d(e,{previewSymbol2D:()=>S});var l=n(70152),i=n(64763),a=n(32391),r=n(47507),o=n(55048),s=n(99572),h=n(34635),u=n(78866),c=n(24764),f=n(40357);let g="picture-fill",p=u.CB.size,m=u.CB.maxSize,d=u.CB.maxOutlineSize,y=u.CB.lineWidth,w=document.createElement("canvas");function x(t,e,n){if("polygon"===t.type){let l=t.extent,i=0===l.width?1:l.width,a=0===l.height?1:l.height;t=(0,s.wp)({originPosition:"upperLeft",scale:[i/e,a/n],translate:[l.xmin,l.ymax]},{},t);let r="";for(let e=0;e<t.rings.length;e++){let n=t.rings[e];for(let t=0;t<n.length;t++){let e=n[t][0],l=n[t][1],i="";i=0===t?`M${e.toString()} ${l.toString()}`:t===n.length-1?`l${e.toString()} ${l.toString()} Z`:`l${e.toString()} ${l.toString()}`,""!==r&&(i=` ${i}`),r+=i}}return r}if("polyline"===t.type){let l=t.extent,i=0===l.width?1:l.width,a=0===l.height?1:l.height;t=(0,s.QE)({originPosition:"upperLeft",scale:[i/e,a/n],translate:[l.xmin,l.ymax]},{},t);let r="";for(let e=0;e<t.paths.length;e++){let n=t.paths[e];for(let t=0;t<n.length;t++){let e=n[t][0],l=n[t][1],i="";i=0===t?`M${e.toString()} ${l.toString()}`:`l${e.toString()} ${l.toString()}`,""!==r&&(i=` ${i}`),r+=i}}return r}return""}function M(t,e){let n=w.getContext("2d"),l=[];e&&(e.weight&&l.push(e.weight),e.size&&l.push(e.size+"px"),e.family&&l.push(e.family)),n.font=l.join(" ");let{width:i,actualBoundingBoxLeft:a,actualBoundingBoxRight:r,actualBoundingBoxAscent:o,actualBoundingBoxDescent:s}=n.measureText(t);return{width:Math.ceil(Math.max(i,a+r)),height:Math.ceil(o+s),x:Math.floor(a),y:Math.floor((o-s)/2)}}function L(t){let e=t?.size;return{width:null!=e&&"object"==typeof e&&"width"in e?(0,o.Lz)(e.width):null,height:null!=e&&"object"==typeof e&&"height"in e?(0,o.Lz)(e.height):null}}async function b(t,e){let n=e.fill,l=t.color;if("pattern"===n?.type&&l&&t.type!==g){let t=await (0,h.rc)(n.src,l.toCss(!0));n.src=t,e.fill=n}}async function z(t,e,n,l){if(!("font"in t)||!t.font||"text"!==e.shape.type)return;try{await (0,r.Al)(t.font)}catch{}let{width:i,height:a}=L(l);if(!/[\uE600-\uE6FF]/.test(e.shape.text)){let{width:r,height:o,x:s,y:h}=M(e.shape.text,{weight:e.font?.weight,size:e.font?.size,family:e.font?.family});n[0]=i??r,n[1]=a??o,e.shape.x=s,e.shape.y=h;let u="angle"in t?t.angle:null;if(null!=l?.rotation&&(u=(u??0)+l.rotation),u){let t=Math.PI/180*u,e=Math.abs(Math.sin(t)),l=Math.abs(Math.cos(t));n[1]=n[0]*e+n[1]*l}}}function v(t,e){return t>e?"dark":"light"}async function S(t,e){let{shapeDescriptor:n,size:r,renderOptions:s,outputSize:w}=function(t,e){let n="number"==typeof e?.size?e?.size:null,a=null!=n?(0,o.Lz)(n):null,r=null!=e?.maxSize?(0,o.Lz)(e.maxSize):null,s="angle"in t?t.angle:null;null!=e?.rotation&&(s=(s??0)+e.rotation);let c=(0,h.eH)(t),f=(0,h.$4)(t);"dark"!==function(t,e=225){let n=(0,h.eH)(t),a=(0,h.$4)(t),r=!n||"type"in n?null:new l.A(n),o=a?.color?new l.A(a?.color):null,s=r?v((0,i.Ws)(r),e):null,u=o?v((0,i.Ws)(o),e):null;return u?s?s===u?s:e>=225?"light":"dark":u:s}(t,245)||e?.ignoreWhiteSymbols||(f={width:.75,...f,color:"#bdc3c7"});let w=null,b={shape:null,fill:c,stroke:f,offset:[0,0]};f?.width&&(f.width=Math.min(f.width,d));let z=f?.width||0,S=null!=e?.size&&(null==e?.scale||e?.scale),k=0,C=0,P=!1;switch(t.type){case"simple-marker":{let n=t.style,{width:l,height:i}=L(e),h=l===i&&null!=l?l:null!=a?a:Math.min((0,o.Lz)(t.size),r||m);if(!0===e?.useMarkerSymbolSize&&null!==l&&null!==i){let e=Math.min((0,o.Lz)(t.size),r||m);h=e>l&&e>i?Math.min(l,i):e}switch(k=h,C=h,n){case"circle":b.shape={type:"circle",cx:0,cy:0,r:.5*h},S||(k+=z,C+=z);break;case"cross":b.shape={type:"path",path:[{command:"M",values:[0,.5*C]},{command:"L",values:[k,.5*C]},{command:"M",values:[.5*k,0]},{command:"L",values:[.5*k,C]}]};break;case"diamond":b.shape={type:"path",path:[{command:"M",values:[0,.5*C]},{command:"L",values:[.5*k,0]},{command:"L",values:[k,.5*C]},{command:"L",values:[.5*k,C]},{command:"Z",values:[]}]},S||(k+=z,C+=z);break;case"square":b.shape={type:"path",path:[{command:"M",values:[0,0]},{command:"L",values:[k,0]},{command:"L",values:[k,C]},{command:"L",values:[0,C]},{command:"Z",values:[]}]},S||(k+=z,C+=z),s&&(P=!0);break;case"triangle":b.shape={type:"path",path:[{command:"M",values:[.5*k,0]},{command:"L",values:[k,C]},{command:"L",values:[0,C]},{command:"Z",values:[]}]},S||(k+=z,C+=z),s&&(P=!0);break;case"x":b.shape={type:"path",path:[{command:"M",values:[0,0]},{command:"L",values:[k,C]},{command:"M",values:[k,0]},{command:"L",values:[0,C]}]},s&&(P=!0);break;case"path":b.shape={type:"path",path:t.path||""},S||(k+=z,C+=z),s&&(P=!0),S=!0}break}case"simple-line":{let{width:t,height:n}=L(e),l=(0,h.O0)(f).reduce((t,e)=>t+e,0),i=l&&Math.ceil(y/l),r=n??a??z,o=t??(l*i||y);if(S=!0,"polyline"===e?.geometry?.type&&e?.geometry?.extent){k=o,C=n??k;C=(w=[k,C])[0]>w[1]?1e3*w[1]/w[0]:1e3,k=w[0]>w[1]?1e3:1e3*w[0]/w[1],f?.width&&(f.width=1e3*f.width/(w[1]>w[0]?w[1]:w[0]),f.width>150&&(f.width=150)),b.shape={type:"path",path:x(e.geometry,k,C)}}else k=null!=e?.maxSize?Math.min(o,e.maxSize):o,C=r,f&&(f.width=r),b.shape={type:"path",path:[{command:"M",values:[r/2,C/2]},{command:"L",values:[k-r/2,C/2]}]};break}case g:case"simple-fill":{let t="object"==typeof e?.symbolConfig&&!!e?.symbolConfig?.isSquareFill,{width:n,height:l}=L(e);k=(t||n===l)&&null!=n?n:null!=a?a:p,C=(t||n===l)&&null!=l?l:k,S||(k+=z,C+=z),S=!0,e?.geometry?.extent&&"polygon"===e?.geometry?.type?(C=(w=[k,C])[0]>w[1]?1e3*w[1]/w[0]:1e3,k=w[0]>w[1]?1e3:1e3*w[0]/w[1],b.shape={type:"path",path:x(e.geometry,k,C)}):b.shape=t?{type:"path",path:[{command:"M",values:[0,0]},{command:"L",values:[k,0]},{command:"L",values:[k,C]},{command:"L",values:[0,C]},{command:"L",values:[0,0]},{command:"Z",values:[]}]}:u.nq.fill[0];break}case"picture-marker":{let n=Math.min((0,o.Lz)(t.width),r||m),l=Math.min((0,o.Lz)(t.height),r||m),{width:i,height:h}=L(e),u=i===h&&null!=i?i:null!=a?a:Math.max(n,l),c=t.width/t.height;b.shape={type:"image",x:-Math.round((k=c<=1?Math.ceil(u*c):u)/2),y:-Math.round((C=c<=1?u:Math.ceil(u/c))/2),width:k,height:C,src:t.url||""},s&&(P=!0);break}case"text":{let n=e?.overrideText||t.text||"Aa",l=t.font,{width:i,height:s}=L(e),h=null!=s?s:null!=a?a:Math.min((0,o.Lz)(l.size),r||m),{width:u,height:c}=M(n,{weight:l.weight,size:h,family:l.family}),f=/[\uE600-\uE6FF]/.test(n);k=i??(f?h:u),C=f?h:c;let g=.5*(f?h:c);f&&(g+=5),b.shape={type:"text",text:n,x:t.xoffset||0,y:t.yoffset||g,align:"middle",alignBaseline:t.verticalAlignment,decoration:l&&l.decoration,rotated:t.rotated,kerning:t.kerning},b.font=l&&{size:h,style:l.style,decoration:l.decoration,weight:l.weight,family:l.family}}}return{shapeDescriptor:b,size:[k,C],outputSize:w,renderOptions:{node:e?.node,scale:S,opacity:e?.opacity,rotations:[s],useRotationSize:P,effectView:e?.effectView,ariaLabel:e?.ariaLabel}}}(t,e);if(!n.shape)throw new a.A("symbolPreview: renderPreviewHTML2D","symbol not supported.");await b(t,n),await z(t,n,r,e);let S=[[n]];if("object"==typeof e?.symbolConfig&&e?.symbolConfig?.applyColorModulation){let t=.6*r[0];S.unshift([{...n,offset:[-t,0],fill:(0,u.QC)(n.fill,-.3)}]),S.push([{...n,offset:[t,0],fill:(0,u.QC)(n.fill,.3)}]),r[0]+=2*t,s.scale=!1}"text"===t.type&&function(t,e,n,l,i){if(null!=t.haloColor&&null!=t.haloSize){i.masking??=n.map(()=>[]);let a=(0,o.Lz)(t.haloSize);l[0]+=a,l[1]+=a,n.unshift([{...e,fill:null,stroke:{color:t.haloColor,width:2*a,join:"round",cap:"round"}}]),i.masking.unshift([{shape:{type:"rect",x:0,y:0,width:l[0]+2*f.y7,height:l[1]+2*f.y7},fill:[255,255,255],stroke:null},{...e,fill:[0,0,0,0],stroke:null}])}null==t.backgroundColor&&null==t.borderLineColor||(l[0]+=2*f.y7,l[1]+=2*f.y7,n.unshift([{shape:{type:"rect",x:0,y:0,width:l[0],height:l[1]},fill:t.backgroundColor,stroke:{color:t.borderLineColor,width:(0,o.Lz)(t.borderLineSize)}}]),i.masking?.unshift([]))}(t,n,S,r,s);let k=(0,c.fz)(S,r,s);if(w&&k){let t="img"===k.nodeName.toLowerCase()?k:k.firstChild;"svg"===t.nodeName.toLowerCase()&&t.setAttribute("viewBox",`0 0 ${r[0].toString()} ${r[1].toString()}`),t.setAttribute("width",w[0].toString()),t.setAttribute("height",w[1].toString()),w.length>2&&(t.style.setProperty("padding-left",w[2]?.toString()+"px"),t.style.setProperty("padding-right",w[2]?.toString()+"px"),t.style.setProperty("padding-top",w[3]?.toString()+"px"),t.style.setProperty("padding-bottom",w[3]?.toString()+"px"),t.style.setProperty("box-sizing","border-box"))}return k}},47507:(t,e,n)=>{n.d(e,{Al:()=>h,NZ:()=>u,Vb:()=>i,af:()=>c,rK:()=>f});var l=n(48767);let i="arial-unicode-ms",a="woff2",r=new Map,o=new Set;class s{constructor(t,e){this.fontFace=t,this.promise=e}}async function h(t){let e=function(t){let e=g(t)+p(t);return(t.family||i)+(e.length>0?e:"-regular")}(t),n=f(t),h=r.get(e);if(h)return h.promise;let u=new FontFace(t.family,`url('${l.A.fontsUrl}/woff2/${n}.${a}') format('${a}')`,{style:t.style,weight:t.weight}),c=document.fonts;if(c.has(u)&&"loading"===u.status)return u.loaded;let m=u.load().then(()=>(c.add(u),u));return r.set(e,new s(u,m)),o.add(u),m}function u(t){return o.has(t)}function c(t){if(!t)return i;let e=t.toLowerCase().split(" ").join("-");switch(e){case"serif":return"noto-serif";case"sans-serif":return"arial-unicode-ms";case"monospace":return"ubuntu-mono";case"fantasy":return"cabin-sketch";case"cursive":return"redressed";default:return e}}function f(t){let e=g(t)+p(t);return c(t.family)+(e.length>0?e:"-regular")}function g(t){if(!t.weight)return"";switch(t.weight.toLowerCase()){case"bold":case"bolder":return"-bold"}return""}function p(t){if(!t.style)return"";switch(t.style.toLowerCase()){case"italic":case"oblique":return"-italic"}return""}},99572:(t,e,n)=>{function l(t){return t?{originPosition:"upper-left"===t.originPosition?"upperLeft":"lower-left"===t.originPosition?"lowerLeft":t.originPosition,scale:t.tolerance?[t.tolerance,t.tolerance,1,1]:[1,1,1,1],translate:null!=t.extent?[t.extent.xmin,t.extent.ymax,t.extent.zmin??0,t.extent.mmin??0]:[0,0,0,0]}:null}function i(t){if("lowerLeft"===t.originPosition&&4===t.scale.length&&4===t.translate.length)return t;let{originPosition:e,scale:n,translate:l}=t,i=n[0]??1,a=n[1]??1;return{originPosition:"lowerLeft",scale:[i,"lowerLeft"===e?a:-a,n[2]??1,n[3]??1],translate:[l[0]??0,l[1]??0,l[2]??0,l[3]??0]}}function a({scale:t,translate:e},n){return Math.round((n-e[0])/t[0])}function r({scale:t,translate:e},n){return Math.round((n-e[1])/t[1])}function o({scale:t,translate:e},n){return Math.round(((n??0)-e[2])/t[2])}function s({scale:t,translate:e},n){return n?Math.round((n-e[3])/t[3]):0}function h(t,e){return t&&e?g:t&&!e?c:!t&&e?f:u}n.d(e,{$X:()=>$,B2:()=>r,Gy:()=>v,IE:()=>a,P5:()=>Z,Q1:()=>i,QE:()=>k,SW:()=>C,Tr:()=>P,VV:()=>l,wp:()=>S}),n(31789);let u=(t,e)=>{let n=[];if(!e.length)return null;let l=e[0],i=a(t,l[0]),o=r(t,l[1]);n.push([i,o]);for(let l=1;l<e.length;l++){let[s,h]=e[l],u=a(t,s),c=r(t,h);u===i&&c===o||n.push([u-i,c-o]),i=u,o=c}return n},c=(t,e)=>{let n=[];if(!e.length)return null;let l=e[0],i=a(t,l[0]),s=r(t,l[1]),h=o(t,l[2]);n.push([i,s,h]);for(let l=1;l<e.length;l++){let[u,c,f]=e[l],g=a(t,u),p=r(t,c),m=o(t,f);g===i&&p===s&&m===h||n.push([g-i,p-s,m]),i=g,s=p,h=m}return n},f=(t,e)=>{let n=[];if(!e.length)return null;let l=e[0],i=a(t,l[0]),o=r(t,l[1]),h=s(t,l[2]);n.push([i,o,h]);for(let l=1;l<e.length;l++){let[u,c,f]=e[l],g=a(t,u),p=r(t,c),m=s(t,f);g===i&&p===o&&m===h||n.push([g-i,p-o,m]),i=g,o=p,h=m}return n},g=(t,e)=>{let n=[];if(!e.length)return null;let l=e[0],i=a(t,l[0]),h=r(t,l[1]),u=o(t,l[2]),c=s(t,l[3]);n.push([i,h,u,c]);for(let l=1;l<e.length;l++){let[f,g,p,m]=e[l],d=a(t,f),y=r(t,g),w=o(t,p),x=s(t,m);d===i&&y===h&&w===u&&x===c||n.push([d-i,y-h,w,x]),i=d,h=y,u=w,c=x}return n};function p({scale:t,translate:e},n){return n*t[0]+e[0]}function m({scale:t,translate:e},n){return n*t[1]+e[1]}function d({scale:t,translate:e},n){return(n??0)*t[2]+e[2]}function y({scale:t,translate:e},n){return n?n*t[3]+e[3]:0}function w(t,e){return t&&e?b:t&&!e?M:!t&&e?L:x}let x=(t,e)=>{let n=Array(e.length);if(!e.length)return n;let l=e[0],i=p(t,l[0]),a=m(t,l[1]);n[0]=[i,a];let{scale:r,originPosition:o}=t,s=r[0],h="lowerLeft"===o?r[1]:-r[1];for(let t=1;t<e.length;t++){let[l,r]=e[t];i+=s*l,a+=h*r,n[t]=[i,a]}return n},M=(t,e)=>{let n=Array(e.length);if(!e.length)return n;let l=e[0],i=p(t,l[0]),a=m(t,l[1]);n[0]=[i,a,d(t,l[2])];let{scale:r,originPosition:o}=t,s=r[0],h="lowerLeft"===o?r[1]:-r[1];for(let l=1;l<e.length;l++){let[r,o,u]=e[l];i+=s*r,a+=h*o,n[l]=[i,a,d(t,u)]}return n},L=(t,e)=>{let n=Array(e.length);if(!e.length)return n;let l=e[0],i=p(t,l[0]),a=m(t,l[1]);n[0]=[i,a,y(t,l[2])];let{scale:r,originPosition:o}=t,s=r[0],h="lowerLeft"===o?r[1]:-r[1];for(let l=1;l<e.length;l++){let[r,o,u]=e[l];i+=s*r,a+=h*o,n[l]=[i,a,y(t,u)]}return n},b=(t,e)=>{let n=Array(e.length);if(!e.length)return n;let l=e[0],i=p(t,l[0]),a=m(t,l[1]);n[0]=[i,a,d(t,l[2]),y(t,l[3])];let{scale:r,originPosition:o}=t,s=r[0],h="lowerLeft"===o?r[1]:-r[1];for(let l=1;l<e.length;l++){let[r,o,u,c]=e[l];i+=s*r,a+=h*o,n[l]=[i,a,d(t,u),y(t,c)]}return n};function z(t,e,n){let l=Array(n.length);for(let i=0;i<n.length;i++)l[i]=e(t,n[i]);return l}function v(t,e,n){let l=i(t);return e.x=a(l,n.x),e.y=r(l,n.y),null!=n.z&&(e.z=o(l,n.z)),null!=n.m&&(e.m=s(l,n.m)),e}function S(t,e,n){let l=function(t,e,n,l){let i=[],a=h(n,l);for(let n=0;n<e.length;n++){let l=a(t,e[n]);l&&l.length>=3&&i.push(l)}return i.length?i:null}(i(t),n.rings,n.hasZ,n.hasM);return l?(e.rings=l,e.hasZ=n.hasZ??!1,e.hasM=n.hasM??!1,e):null}function k(t,e,n){let l=function(t,e,n,l){let i=[],a=h(n,l);for(let n=0;n<e.length;n++){let l=a(t,e[n]);l&&l.length>=2&&i.push(l)}return i.length?i:null}(i(t),n.paths,n.hasZ,n.hasM);return l?(e.paths=l,e.hasZ=n.hasZ??!1,e.hasM=n.hasM??!1,e):null}function C(t,e,n,l=n?.hasZ??!1,a=n?.hasM??!1){if(null!=n){let r=i(t);e.points=w(l,a)(r,n.points),e.hasZ=l,e.hasM=a}return e}function P(t,e,n,l=null!=n?.z,a=null!=n?.m){if(null==n)return e;let r=i(t);return e.x=p(r,n.x),e.y=m(r,n.y),l&&(e.z=d(r,n.z)),a&&(e.m=y(r,n.m)),e}function $(t,e,n,l=n?.hasZ??!1,a=n?.hasM??!1){return null!=n&&(e.rings=z(i(t),w(l,a),n.rings),e.hasZ=l,e.hasM=a),e}function Z(t,e,n,l=n?.hasZ??!1,a=n?.hasM??!1){return null!=n&&(e.paths=z(i(t),w(l,a),n.paths),e.hasZ=l,e.hasM=a),e}}}]);