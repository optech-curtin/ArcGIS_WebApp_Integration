"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1960,8288],{8288:(t,s,e)=>{e.d(s,{G:()=>i,S:()=>n});class i{*[Symbol.iterator](){let t=this.next();for(;t;)yield t,t=this.next()}}class n extends i{constructor(t){super(),this.m_iGeom=-1,this.m_aGeoms=t?t.slice():[]}next(){if(this.m_iGeom<this.m_aGeoms.length-1){let t=this.m_aGeoms[++this.m_iGeom];return this.m_aGeoms[this.m_iGeom]=null,t}return null}tock(){return!1}getGeometryID(){return this.m_iGeom}getRank(){return 1}}},41563:(t,s,e)=>{e.d(s,{fz:()=>P,g7:()=>u,zo:()=>d});var i=e(8288),n=e(31632),h=e(16404),o=e(32045),r=e(92656);class m{static construct(t,s,e){let i=new m;return i.x=t.x,i.y=t.y,i.m_next=-1,i.m_prev=-1,i.z=s,i.m=e,i.type=0,i}clone(){let t=new m;return t.x=this.x,t.y=this.y,t.m_next=this.m_next,t.m_prev=this.m_prev,t.z=this.z,t.m=this.m,t.type=this.type,t}asPoint2D(){return new r.P(this.x,this.y)}}class a{constructor(t){this.m_distance=-1,this.m_tolerance=-1,this.m_miterLimit=10,this.m_joins=0,this.m_progressCounter=0,this.m_bUseZ=!1,this.m_bUseM=!1,this.m_srcPts=[],this.m_srcPtCount=0,this.m_offsetPts=[],this.m_offsetPtCount=0,this.m_a1=0,this.m_a2=0,this.m_progressTracker=t}constructOffset(){let t=this.m_inputGeometry.getGeometryType();if(t===h.G.enumLine)return this.offsetLine();if(t===h.G.enumEnvelope)return this.offsetEnvelope();if((0,h.f)(t)){let t=new o.P;return t.addSegment(this.m_inputGeometry,!0),this.m_inputGeometry=t,this.constructOffset()}if(t===h.G.enumPolyline){let t=new o.P;return this.offsetMultiPath(t),t}if(t===h.G.enumPolygon){let t=new o.a;return this.offsetMultiPath(t),t}(0,h.b)("")}offsetLine(){let t=this.m_inputGeometry,s=t.getStartXY(),e=t.getEndXY(),i=new r.P;i.setSub(e,s),i.normalize(),i.leftPerpendicularThis(),i.scale(this.m_distance),s.addThis(i),e.addThis(i);let n=t.clone();return n.setStartXY(s),n.setEndXY(e),n}offsetEnvelope(){let t=this.m_inputGeometry;if(this.m_distance>0&&2!==this.m_joins){let s=new o.a;return s.addEnvelope(t,!1),this.m_inputGeometry=s,this.constructOffset()}let s=t.clone();return s.inflateCoords(this.m_distance,this.m_distance),s}progress(){}static buildPoint(t,s,e,i){i.x=t.x+s*Math.cos(e),i.y=t.y+s*Math.sin(e),i.type=t.type,i.z=t.z,i.m=t.m,i.m_next=-1,i.m_prev=-1}addPoint(t){this.m_offsetPts.push(t.clone()),this.m_offsetPtCount++}addPointEx(t,s){if(0===this.m_offsetPtCount)return void this.addPoint(t);let e=this.m_srcPtCount,i=this.m_srcPts[0===s?e-1:s-1],n=this.m_srcPts[s],h=a.dotSign(i,n,this.m_offsetPts[this.m_offsetPtCount-1],t);if(h>0)this.addPoint(t);else if(h<0)if(a.dotSign(i,n,n,this.m_offsetPts[this.m_offsetPtCount-1])>0){let n,h=new m;n=0===s?e-2:1===s?e-1:s-2;let o=this.m_srcPts[n],l=Math.atan2(i.y-o.y,i.x-o.x);if(a.buildPoint(i,this.m_distance,l-r.l,h),this.m_offsetPts[this.m_offsetPtCount-1]=h,1===this.m_joins||2===this.m_joins){h.x=.5*(h.x+i.x),h.y=.5*(h.y+i.y),this.addPoint(h),a.buildPoint(i,this.m_distance,this.m_a1+r.l,h);let t=h.clone();t.x=.5*(t.x+i.x),t.y=.5*(t.y+i.y),t.type|=256,this.addPoint(t),this.addPoint(h)}else a.buildPoint(i,this.m_distance,this.m_a1+r.l,h),h.type|=256,this.addPoint(h);this.addPointEx(t,s)}else{let t=new m;if(a.buildPoint(n,this.m_distance,this.m_a1+r.l,t),this.addPoint(t),1===this.m_joins||2===this.m_joins){t.x=.5*(t.x+n.x),t.y=.5*(t.y+n.y),this.addPoint(t),a.buildPoint(n,this.m_distance,this.m_a2-r.l,t);let s=t.clone();s.x=.5*(s.x+n.x),s.y=.5*(s.y+n.y),s.type|=256,this.addPoint(s),this.addPoint(t)}else a.buildPoint(n,this.m_distance,this.m_a2-r.l,t),t.type|=256,this.addPoint(t)}}buildOffset(){let t=new m,s=this.m_srcPtCount;this.m_offsetPtCount=0;let e=.5*this.m_tolerance,i=0,n=0;for(let h=0;h<s;h++){let o=this.m_srcPts[h],m=0===h?this.m_srcPts[s-1]:this.m_srcPts[h-1],l=h===s-1?this.m_srcPts[0]:this.m_srcPts[h+1],_,f,u=0;{let t=m.x-o.x,s=m.y-o.y,e=l.x-o.x,a=l.y-o.y;_=Math.atan2(s,t),f=Math.atan2(a,e),this.m_a1=_,this.m_a2=f,0===h&&(i=_,n=f),u=r.P.orientationRobust(o.asPoint2D(),m.asPoint2D(),l.asPoint2D())}let d=f;if(f<_&&(f+=r.k),u*this.m_distance>0)if(1===this.m_joins||2===this.m_joins){a.buildPoint(o,this.m_distance,_+r.l,t),this.addPoint(t),t.x=o.x+(t.x-o.x)*.001,t.y=o.y+(t.y-o.y)*.001,this.addPoint(t),a.buildPoint(o,this.m_distance,f-r.l,t);let s=t.clone();s.x=o.x+(s.x-o.x)*.001,s.y=o.y+(s.y-o.y)*.001,s.type|=256,this.addPoint(s),this.addPoint(t)}else{let s=.5*(f-_),e=0===s?this.m_distance:this.m_distance/Math.abs(Math.sin(s));a.buildPoint(o,e,.5*(_+f),t),this.addPointEx(t,h)}else if(512&o.type){let s=1-e/Math.abs(this.m_distance),i=1,n=this.m_distance<0?-Math.PI:Math.PI;if(s>-1&&s<1){let t=2*Math.acos(s);t<.017453292519943295&&(t=.017453292519943295),(i=Math.trunc(Math.PI/t+1.5))>1&&(n/=i)}i<=1&&(i=2,n/=2);let m=_+r.l;a.buildPoint(o,this.m_distance,m,t),0===h&&(t.type|=1024),this.addPointEx(t,h);let l=this.m_distance/Math.cos(n/2);for(m+=n/2,a.buildPoint(o,l,m,t),t.type|=1024,this.addPoint(t);--i>0;)m+=n,a.buildPoint(o,l,m,t),t.type|=1024,this.addPoint(t);a.buildPoint(o,this.m_distance,f-r.l,t),t.type|=1024,this.addPoint(t)}else if(1!==this.m_joins)if(0!==this.m_joins)if(2!==this.m_joins){let s;if(f=d,this.m_distance>0?(f>_&&(f-=r.k),s=_-f<r.l):(f<_&&(f+=r.k),s=f-_<r.l),s){let s,e=1.4142135623730951*this.m_distance;s=e<0?_+.25*Math.PI:_+3*Math.PI*.25,a.buildPoint(o,e,s,t),this.addPointEx(t,h),s=e<0?f-.25*Math.PI:f-3*Math.PI*.25,a.buildPoint(o,e,s,t),this.addPoint(t)}else{let s=.5*(f-_),e=this.m_distance/Math.abs(Math.sin(s));f<_&&(f+=r.k),a.buildPoint(o,e,(_+f)/2,t),this.addPointEx(t,h)}}else{let s=m.x-o.x,e=m.y-o.y,i=l.x-o.x,n=l.y-o.y,u=(s*i+e*n)/Math.sqrt(s*s+e*e)/Math.sqrt(i*i+n*n);if(u>1-1e-8){a.buildPoint(o,1.4142135623730951*this.m_distance,f-.25*Math.PI,t),this.addPointEx(t,h),a.buildPoint(o,1.4142135623730951*this.m_distance,f+.25*Math.PI,t),this.addPoint(t);continue}let d=Math.abs(this.m_distance/Math.sin(.5*Math.acos(u))),P=Math.abs(this.m_miterLimit*this.m_distance);if(d>P){let s=.5*(f-_),e=this.m_distance/Math.abs(Math.sin(s));a.buildPoint(o,e,.5*(_+f),t);let i=r.P.construct(t.x,t.y),n=r.P.construct(o.x,o.y),m=new r.P;m.setSub(i,n);let l=new r.P;l.setScaleAdd(P/m.length(),m,n);let u=Math.sqrt(d*d-this.m_distance*this.m_distance),c=(d-P)*Math.abs(this.m_distance)/u;this.m_distance>0?m.leftPerpendicularThis():m.rightPerpendicularThis(),m.scale(c/m.length());let y=new r.P;y.setAdd(l,m);let x=new r.P;x.setSub(l,m),t.x=y.x,t.y=y.y,this.addPointEx(t,h),t.x=x.x,t.y=x.y,this.addPoint(t);continue}let c=.5*(f-_),y=this.m_distance/Math.abs(Math.sin(c));a.buildPoint(o,y,.5*(_+f),t),this.addPointEx(t,h)}else{let s=1-e/Math.abs(this.m_distance),i=1,n=f-r.l-(_+r.l);if(s>-1&&s<1){let t=2*Math.acos(s);t<.017453292519943295&&(t=.017453292519943295),(i=Math.trunc(Math.abs(n)/t+1.5))>1&&(n/=i)}let m=this.m_distance/Math.cos(.5*n),l=_+r.l+.5*n;for(a.buildPoint(o,m,l,t),this.addPointEx(t,h);--i>0;)l+=n,a.buildPoint(o,m,l,t),this.addPoint(t)}else a.buildPoint(o,this.m_distance,_+r.l,t),this.addPointEx(t,h),a.buildPoint(o,this.m_distance,f-r.l,t),this.addPoint(t)}return this.m_a1=i,this.m_a2=n,this.addPointEx(this.m_offsetPts[0],0),this.m_offsetPts[0]=this.m_offsetPts[this.m_offsetPtCount-1].clone(),this.removeBadSegsFast()}removeBadSegsFast(){let t=!1;for(let t=0;t<this.m_offsetPtCount;t++){let s=this.m_offsetPts[t];s.m_next=t+1,s.m_prev=t-1}this.m_offsetPts[0].m_prev=this.m_offsetPtCount-2,this.m_offsetPts[this.m_offsetPtCount-2].m_next=0;let s=0;for(let e=0;e<this.m_offsetPtCount;e++)if(256&this.m_offsetPts[s].type){let e=this.deleteClosedSeg(s);if(-1===e){t=!0;break}s=e}else s=this.m_offsetPts[s].m_next;return!t&&(this.compressOffsetArray(s),!0)}deleteClosedSeg(t){let s=this.m_offsetPtCount-1,e,i,n=t;for(let h=1;h<=s-2;h++){e=n=this.m_offsetPts[n].m_next,i=t;for(let t=1;t<=h;t++){if(i=this.m_offsetPts[i].m_prev,!(256&this.m_offsetPts[i].type||256&this.m_offsetPts[e].type)){let t=this.handleClosedIntersection(i,e);if(-1!==t)return t}e=this.m_offsetPts[e].m_prev}}return -1}handleClosedIntersection(t,s){let e=this.m_offsetPts[this.m_offsetPts[t].m_prev],i=this.m_offsetPts[t],n=this.m_offsetPts[this.m_offsetPts[s].m_prev],h=this.m_offsetPts[s];if(!this.sectGraphicRect(e,i,n,h))return -1;let o={pt:new m,bAtExistingPt:!1};if(((i.x-e.x)*(h.y-n.y)-(i.y-e.y)*(h.x-n.x))*this.m_distance<0&&this.findIntersection(e,i,n,h,o)&&!o.bAtExistingPt){let r=Math.sqrt((i.x-e.x)*(i.x-e.x)+(i.y-e.y)*(i.y-e.y)),m=(i.x-e.x)/r,a=(i.y-e.y)/r,l=Math.sqrt((h.x-n.x)*(h.x-n.x)+(h.y-n.y)*(h.y-n.y)),_=(h.x-n.x)/l,f=(h.y-n.y)/l,u=!1,d=o.pt.clone();d.x+=(m+_)*1e-8,d.y+=(a+f)*1e-8;let P=n,c=o.pt,y=this.m_offsetPts[t].m_prev;for(;c.y>d.y!=P.y>d.y&&d.x<(P.x-c.x)*(d.y-c.y)/(P.y-c.y)+c.x&&(u=!u),P=c,(y=this.m_offsetPts[y].m_next)!==s;)c=this.m_offsetPts[y];if(u)return -1;let x=this.m_offsetPts[t].m_prev;return o.pt.type=i.type,o.pt.m_next=s,o.pt.m_prev=x,this.m_offsetPts[t]=o.pt,this.m_offsetPts[s].m_prev=t,s}return -1}sectGraphicRect(t,s,e,i){return Math.max(t.x,s.x)>=Math.min(e.x,i.x)&&Math.max(e.x,i.x)>=Math.min(t.x,s.x)&&Math.max(t.y,s.y)>=Math.min(e.y,i.y)&&Math.max(e.y,i.y)>=Math.min(t.y,s.y)}findIntersection(t,s,e,i,n){let h,o,r,m;return n.bAtExistingPt=!1,h=(s.y-t.y)*(i.x-e.x)-(s.x-t.x)*(i.y-e.y),o=(e.y-t.y)*(s.x-t.x)-(e.x-t.x)*(s.y-t.y),(r=0===h?2:o/h)>=0&&r<=1&&(m=r,h=(i.y-e.y)*(s.x-t.x)-(i.x-e.x)*(s.y-t.y),o=(t.y-e.y)*(i.x-e.x)-(t.x-e.x)*(i.y-e.y),(r=0===h?2:o/h)>=0&&r<=1)&&(n.pt.x=t.x+r*(s.x-t.x),n.pt.y=t.y+r*(s.y-t.y),this.m_bUseZ&&(n.pt.z=e.z+m*(i.z-e.z)),this.m_bUseM&&(n.pt.m=e.m+m*(i.m-e.m)),0!==m&&1!==m||0!==r&&1!==r||(n.bAtExistingPt=!0),!((0===m||1===m)&&r>0&&r<1||(0===r||1===r)&&m>0&&m<1))}compressOffsetArray(t){for(;this.m_offsetPts[t].m_prev<t;)t=this.m_offsetPts[t].m_prev;let s=0,e=t;do{let t=this.m_offsetPts[e].clone();this.m_offsetPts[s]=t,e=t.m_next,s++}while(e!==t);this.m_offsetPts[s]=this.m_offsetPts[0].clone(),this.m_offsetPtCount=s+1}addPart(t,s){if(!(s<2))for(let e=0;e<s;e++){let s=this.m_offsetPts[t+e];if(e?this.m_bUseZ?this.m_resultPath.lineTo3DCoords(s.x,s.y,s.z):this.m_resultPath.lineToCoords(s.x,s.y):this.m_bUseZ?this.m_resultPath.startPath3DCoords(s.x,s.y,s.z):this.m_resultPath.startPathCoords(s.x,s.y),this.m_bUseM){let t=this.m_resultPath.getPointCount()-1;this.m_resultPath.setAttribute(2,t,0,s.m)}}}offsetMultiPath(t){let s=(0,o.d)(this.m_inputGeometry,0,this.m_tolerance,0,this.m_progressTracker,12e3),e=s.querySegmentIterator();e.resetToFirstPath();let i=-1;for(;e.nextPath();)i++,this.offsetPath(s,i,t)}offsetPath(t,s,e){let i=t.getPathStart(s),n=t.getPathEnd(s);if(this.m_resultPath=e,t.isClosedPath(s)){let s=t.getXY(i);for(;n>i&&t.getXY(n-1).equals(s);)n--;if(n-i>=2){this.m_srcPtCount=n-i,this.m_srcPts.length=this.m_srcPtCount;for(let s=i;s<n;s++)this.progress(),this.m_srcPts[s-i]=m.construct(t.getXY(s),this.m_bUseZ?t.getAttributeAsDbl(1,s,0):0,this.m_bUseM?t.getAttributeAsDbl(2,s,0):0);this.buildOffset()&&this.addPart(0,this.m_offsetPtCount-1)}}else{let s=t.getXY(i);for(;i<n-1&&t.getXY(i+1).equals(s);)i++;let e=t.getXY(n-1);for(;i<n-1&&t.getXY(n-2).equals(e);)n--;if(n-i>=2){this.m_srcPtCount=2*(n-i)-2,this.m_srcPts.length=this.m_srcPtCount;let e=m.construct(s,this.m_bUseZ?t.getAttributeAsDbl(1,i,0):0,this.m_bUseM?t.getAttributeAsDbl(2,i,0):0);e.type|=1536,this.m_srcPts[0]=e;let h=1,o=this.m_srcPtCount-1;for(let s=i+1;s<n-1;s++,h++,o--)this.progress(),e=m.construct(t.getXY(s),this.m_bUseZ?t.getAttributeAsDbl(1,s,0):0,this.m_bUseM?t.getAttributeAsDbl(2,s,0):0),this.m_srcPts[h]=e.clone(),e.type|=1024,this.m_srcPts[o]=e.clone();if(e=m.construct(t.getXY(n-1),this.m_bUseZ?t.getAttributeAsDbl(1,n-1,0):0,this.m_bUseM?t.getAttributeAsDbl(2,n-1,0):0),e.type|=512,this.m_srcPts[h]=e.clone(),this.buildOffset())if(this.m_offsetPts.length>=2){let t=-1,s=-1,e=!!(1024&this.m_offsetPts[this.m_offsetPtCount-1].type);e||(t=0);for(let i=1;i<this.m_offsetPtCount;i++){this.progress();let n=!!(1024&this.m_offsetPts[i].type);n?e||(s=i-1)-t+1>1&&this.addPart(t,s-t+1):e&&(t=i-1),e=n}e||(s=this.m_offsetPtCount-1)-t+1>1&&this.addPart(t,s-t+1)}else{let t=this.m_offsetPtCount-1;t-0>=1&&this.addPart(0,t-0+1)}}}this.m_srcPts.length=0,this.m_srcPtCount=0,this.m_offsetPts.length=0,this.m_offsetPtCount=0}static dotSign(t,s,e,i){let n=s.x-t.x,h=s.y-t.y,o=i.x-e.x,m=i.y-e.y,a=(0,r.t)(n,h,o,m);return(0,r.e)(a)}}class l{getOperatorType(){return 10108}accelerateGeometry(t,s,e){return!1}canAccelerateGeometry(t){return!1}supportsCurves(){return!0}executeMany(t,s,e,i,n,h,o){return new _(t,s,e,i,n,h,o)}execute(t,s,e,i,n,h,o){return new _(null,s,e,i,n,h,o).offset(t)}}class _ extends i.G{constructor(t,s,e,i,n,h,o){super(),this.m_progressTracker=o,this.m_index=-1,this.m_inputGeoms=t,this.m_spatialReference=s,this.m_distance=e,this.m_joins=i,this.m_miterLimit=n,this.m_flattenError=h}tock(){return!0}getRank(){return 1}next(){let t;if(!this.m_inputGeoms)return null;for(;t=this.m_inputGeoms.next();)return this.m_index=this.m_inputGeoms.getGeometryID(),this.offset(t);return null}getGeometryID(){return this.m_index}offset(t){let s;return(0,h.d)(t),s=this.m_flattenError<=0?(0,n.b)(this.m_spatialReference,t,!0).total():this.m_flattenError,function(t,s,e,i,n,o){if(null===t&&(0,h.t)(""),1>t.getDimension()&&(0,h.t)(""),n>0||(0,h.t)(""),(0,h.d)(t),0===s||t.isEmpty())return t;let r=new a(o);return r.m_bUseZ=t.hasAttribute(1),r.m_bUseM=t.hasAttribute(2),r.m_inputGeometry=t,r.m_distance=s,r.m_tolerance=n,r.m_joins=e,r.m_miterLimit=i>1?i:1,r.m_progressCounter=0,r.constructOffset()}(t,this.m_distance,this.m_joins,this.m_miterLimit,s,this.m_progressTracker)}}let f=new l;function u(t,s,e,i,n,h){return f.execute(t,s,e,i,n,h,null)}function d(t,s,e,n,h,o){return Array.from(f.executeMany(new i.S(t),s,e,n,h,o,null))}function P(){return f.supportsCurves()}},51960:(t,s,e)=>{e.r(s),e.d(s,{execute:()=>m,executeMany:()=>a});var i=e(31461),n=e(8922),h=e(41563),o=e(12966);let r={round:0,bevel:1,miter:2,square:3};function m(t,s,e={}){let{miterLimit:i=10,flattenError:a=0,joins:l="round",unit:_}=e,f=(0,o.getSpatialReference)(t);_&&f&&(s=(0,n.UW)(s,_,f));let u=(0,o.fromGeometry)(t),d=u.getSpatialReference();return(0,o.toGeometry)((0,h.g7)(u.getGeometry(),d,s,r[l],i,a),d)}function a(t,s,e={}){let{miterLimit:m=10,flattenError:l=0,joins:_="round",unit:f}=e,u=(0,o.getSpatialReference)(t);f&&u&&(s=(0,n.UW)(s,f,u));let[d,P]=(0,o.fromGeometries)(t);return(0,h.zo)(d,P,s,r[_],m,l).map(t=>(0,o.toGeometry)(t,P)).filter(i.Ru)}}}]);