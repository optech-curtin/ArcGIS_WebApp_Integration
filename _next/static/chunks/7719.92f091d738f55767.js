"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7719],{1942:(e,t,r)=>{r.d(t,{i:()=>function* e(t,r){for(let n of t.children)if(n.localName in r){let t=r[n.localName];"function"==typeof t?yield t(n):yield*e(n,t)}},p:()=>function e(t,r){if(t&&r){for(let n of t.children)if(n.localName in r){let t=r[n.localName];if("function"==typeof t){let r=t(n);r&&e(n,r)}else e(n,t)}}}})},11506:(e,t,r)=>{function n(e,t){return e?t?4:3:t?3:2}function i(e,t,r,i){if(!t?.lengths.length)return null;e.lengths.length&&(e.lengths.length=0),e.coords.length&&(e.coords.length=0);let o=e.coords,a=[],s=r?[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY]:[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY],{lengths:l,coords:u}=t,c=n(r,i),p=0;for(let e of l){let t=function(e,t,r,i,o,a){let s=n(o,a),l=r,u=r+s,c=0,p=0,f=0,d=0,y=0;for(let r=0,n=i-1;r<n;r++,l+=s,u+=s){let r=t[l],n=t[l+1],i=t[l+2],a=t[u],s=t[u+1],m=t[u+2],g=r*s-a*n;d+=g,c+=(r+a)*g,p+=(n+s)*g,o&&(g=r*m-a*i,f+=(i+m)*g,y+=g),r<e[0]&&(e[0]=r),r>e[1]&&(e[1]=r),n<e[2]&&(e[2]=n),n>e[3]&&(e[3]=n),o&&(i<e[4]&&(e[4]=i),i>e[5]&&(e[5]=i))}if(d>0&&(d*=-1),y>0&&(y*=-1),!d)return null;let m=[c,p,.5*d];return o&&(m[3]=f,m[4]=.5*y),m}(s,u,p,e,r,i);t&&a.push(t),p+=e*c}if(a.sort((e,t)=>{let n=e[2]-t[2];return 0===n&&r&&(n=e[4]-t[4]),n}),a.length){let e=6*a[0][2];o[0]=a[0][0]/e,o[1]=a[0][1]/e,r&&(e=6*a[0][4],o[2]=0!==e?a[0][3]/e:0),(o[0]<s[0]||o[0]>s[1]||o[1]<s[2]||o[1]>s[3]||r&&(o[2]<s[4]||o[2]>s[5]))&&(o.length=0)}if(!o.length){let e=t.lengths[0]?function(e,t,r,i,o){let a=n(i,o),s=0,l=t+a,u=0,c=0,p=0,f=0;for(let t=0,n=r-1;t<n;t++,s+=a,l+=a){var d,y,m,g,h;let t=e[s],r=e[s+1],n=e[s+2],o=e[l],a=e[l+1],w=e[l+2],b=i?function(e,t,r,n,i,o){let a=n-e,s=i-t,l=o-r;return Math.sqrt(a*a+s*s+l*l)}(t,r,n,o,a,w):function(e,t,r,n){let i=r-e,o=n-t;return Math.sqrt(i*i+o*o)}(t,r,o,a);if(b)if(u+=b,i){let e=[(d=t)+.5*(o-d),(y=r)+.5*(a-y),(m=n)+.5*(w-m)];c+=b*e[0],p+=b*e[1],f+=b*e[2]}else{let e=[(g=t)+.5*(o-g),(h=r)+.5*(a-h)];c+=b*e[0],p+=b*e[1]}}return u>0?i?[c/u,p/u,f/u]:[c/u,p/u]:r>0?i?[e[t],e[t+1],e[t+2]]:[e[t],e[t+1]]:null}(u,0,l[0],r,i):null;if(!e)return null;o[0]=e[0],o[1]=e[1],r&&e.length>2&&(o[2]=e[2])}return e}r.d(t,{Q:()=>i})},17719:(e,t,r)=>{r.d(t,{E:()=>j,Fu:()=>S,O8:()=>P,UH:()=>L,YW:()=>k,i5:()=>b,mG:()=>E,x$:()=>v});var n=r(39166),i=r(32391),o=r(37914),a=r(90525),s=r(61414),l=r(65111),u=r(91463),c=r(71760),p=r(59879),f=r(79836),d=r(1942),y=r(21371),m=r(80824),g=r(39265);let h="xlink:href",w="2.0.0",b="__esri_wfs_id__",T="wfs-layer:feature-type-not-found",N="wfs-layer:unknown-geometry-type";async function S(e,t){var r,l;let u=function(e){var t;let r=V(e);(function(e){let t=e.firstElementChild?.getAttribute("version");if(t&&t!==w)throw new i.A("wfs-layer:unsupported-wfs-version",`Unsupported WFS version ${t}. Supported version: ${w}`)})(r),_(r);let n=r.firstElementChild,a=(0,o.PP)((t=n,(0,d.i)(t,{FeatureTypeList:{FeatureType:e=>{let t={typeName:"undefined:undefined",name:"",title:"",description:"",extent:null,namespacePrefix:"",namespaceUri:"",defaultSpatialReference:4326,supportedSpatialReferences:[]},r=new Set;return(0,d.p)(e,{Name:e=>{let{name:r,prefix:n}=D(e.textContent);t.typeName=`${n}:${r}`,t.name=r,t.namespacePrefix=n,t.namespaceUri=e.lookupNamespaceURI(n)},Abstract:e=>{t.description=e.textContent},Title:e=>{t.title=e.textContent},WGS84BoundingBox:e=>{t.extent=s.A.fromJSON(function(e){let t,r,n,i;for(let o of e.children)switch(o.localName){case"LowerCorner":[t,r]=o.textContent.split(" ").map(e=>Number.parseFloat(e));break;case"UpperCorner":[n,i]=o.textContent.split(" ").map(e=>Number.parseFloat(e))}return{xmin:t,ymin:r,xmax:n,ymax:i,spatialReference:c.KK}}(e))},DefaultCRS:e=>{let n=I(e);n&&(t.defaultSpatialReference=n,r.add(n))},OtherCRS:e=>{let t=I(e);t&&r.add(t)}}),t.title||(t.title=t.name),r.add(4326),t.supportedSpatialReferences.push(...r),t}}})));return{operations:function(e){let t=!1,r={GetCapabilities:{url:""},DescribeFeatureType:{url:""},GetFeature:{url:"",outputFormat:null,supportsPagination:!1}},n=[],o=[];if((0,d.p)(e,{OperationsMetadata:{Parameter:e=>{if("outputFormat"===e.getAttribute("name"))return{AllowedValues:{Value:({textContent:e})=>{e&&n.push(e)}}}},Operation:e=>{switch(e.getAttribute("name")){case"GetCapabilities":return{DCP:{HTTP:{Get:e=>{r.GetCapabilities.url=e.getAttribute(h)}}}};case"DescribeFeatureType":return{DCP:{HTTP:{Get:e=>{r.DescribeFeatureType.url=e.getAttribute(h)}}}};case"GetFeature":return{DCP:{HTTP:{Get:e=>{r.GetFeature.url=e.getAttribute(h)}}},Parameter:e=>{if("outputFormat"===e.getAttribute("name"))return{AllowedValues:{Value:({textContent:e})=>{e&&o.push(e)}}}}}}},Constraint:e=>{switch(e.getAttribute("name")){case"KVPEncoding":return{DefaultValue:e=>{t="true"===e.textContent.toLowerCase()}};case"ImplementsResultPaging":return{DefaultValue:e=>{r.GetFeature.supportsPagination="true"===e.textContent.toLowerCase()}}}}}}),r.GetFeature.outputFormat=A(o)??A(n),!t)throw new i.A("wfs-layer:kvp-encoding-not-supported","WFS service doesn't support key/value pair (KVP) encoding");if(null==r.GetFeature.outputFormat)throw new i.A("wfs-layer:geojson-not-supported","WFS service doesn't support GeoJSON output format");return r}(n),get featureTypes(){return Array.from(a())},readFeatureTypes:a}}((await (0,n.A)(e,{responseType:"text",query:{SERVICE:"WFS",REQUEST:"GetCapabilities",VERSION:w,...t?.customParameters},signal:t?.signal})).data);return r=e,l=u,(0,a.m3)(r)&&((0,a.FX)(r,l.operations.DescribeFeatureType.url,!0)&&(l.operations.DescribeFeatureType.url=(0,a.lM)(l.operations.DescribeFeatureType.url)),(0,a.FX)(r,l.operations.GetFeature.url,!0)&&(l.operations.GetFeature.url=(0,a.lM)(l.operations.GetFeature.url))),u}let F=["json","application/json","geojson","application/json; subtype=geojson","application/geo+json"];function A(e){for(let t of F){let r=e.findIndex(e=>e.toLowerCase()===t);if(r>=0)return e[r]}return null}function I(e){let t=parseInt(e.textContent?.match(/(?<wkid>\d+$)/i)?.groups?.wkid??"",10);if(!Number.isNaN(t))return t}function E(e,t,r){return(0,o.I6)(e,e=>r?e.name===t&&e.namespaceUri===r:e.typeName===t||e.name===t)}async function P(e,t,r,n={}){let{featureType:i,extent:o}=await x(e,t,r,n),{spatialReference:a}=L(e.operations.GetFeature.url,i,n.spatialReference),{fields:s,geometryType:l,swapXY:c,objectIdField:p,geometryField:f}=await C(e,i,a,n);return{url:e.operations.GetCapabilities.url,name:i.name,namespaceUri:i.namespaceUri,fields:s,geometryField:f,geometryType:l,objectIdField:p,spatialReference:n.spatialReference??new u.A({wkid:i.defaultSpatialReference}),extent:o,swapXY:c,wfsCapabilities:e,customParameters:n.customParameters}}async function x(e,t,r,n={}){let o=e.readFeatureTypes(),a=t?E(o,t,r):o.next().value,{spatialReference:s=new u.A({wkid:a?.defaultSpatialReference})}=n;if(null==a)throw t?new i.A(T,`The type '${t}' could not be found in the service`):new i.A("wfs-layer:empty-service","The service is empty");let p=a.extent;if(p&&!(0,c.aI)(p.spatialReference,s))try{await (0,l.initializeProjection)(p.spatialReference,s,void 0,n),p=(0,l.project)(p,s)}catch{throw new i.A("wfs-layer:unsupported-spatial-reference","Projection not supported")}return{extent:p,spatialReference:s,featureType:a}}async function C(e,t,r,n={}){let{typeName:o}=t,[a,s]=await Promise.allSettled([G(e.operations.DescribeFeatureType.url,o,n),R(e,o,r,n)]),l=e=>new i.A("wfs-layer:getWFSLayerTypeInfo-error",`An error occurred while getting info about the feature type '${o}'`,{error:e});if("rejected"===a.status)throw l(a.reason);if("rejected"===s.status)throw l(s.reason);let{fields:u,errors:c}=a.value??{},p=a.value?.geometryType||s.value?.geometryType,f=s.value?.swapXY??!1;if(null==p)throw new i.A(N,`The geometry type could not be determined for type '${o}`,{typeName:o,geometryType:p,fields:u,errors:c});return{...k(u??[]),geometryType:p,swapXY:f}}function k(e){let t=e.find(e=>"geometry"===e.type),r=e.find(e=>"oid"===e.type);return e=e.filter(e=>"geometry"!==e.type),r||(r=new m.A({name:b,type:"oid",alias:b}),e.unshift(r)),{geometryField:t?.name??null,objectIdField:r.name,fields:e}}async function R(e,t,r,i={}){let o,a=!1,[s,l]=await Promise.all([v(e.operations.GetFeature.url,t,r,e.operations.GetFeature.outputFormat,{...i,count:1}),(0,n.A)(e.operations.GetFeature.url,{responseType:"text",query:O(t,r,void 0,{...i,count:1}),signal:i?.signal})]),u="FeatureCollection"===s.type&&s.features[0]?.geometry;if(u){let e;switch(o=p.gy.fromJSON((0,f.xD)(u.type)),u.type){case"Point":e=u.coordinates;break;case"LineString":case"MultiPoint":e=u.coordinates[0];break;case"MultiLineString":case"Polygon":e=u.coordinates[0][0];break;case"MultiPolygon":e=u.coordinates[0][0][0]}let t=/<[^>]*pos[^>]*> *(-?\d+(?:\.\d+)?) (-?\d+(?:\.\d+)?)/.exec(l.data);if(t){let r=e[0].toFixed(3),n=e[1].toFixed(3),i=parseFloat(t[1]).toFixed(3);r===parseFloat(t[2]).toFixed(3)&&n===i&&(a=!0)}}return{geometryType:o,swapXY:a}}async function G(e,t,r){return function(e,t){let{name:r}=D(e),n=V(t);_(n);let a=(0,o.I6)((0,d.i)(n.firstElementChild,{element:e=>e}),e=>e.getAttribute("name")===r);if(null!=a){let e=a.getAttribute("type"),t=e?(0,o.I6)((0,d.i)(n.firstElementChild,{complexType:e=>e}),t=>t.getAttribute("name")===D(e).name):(0,o.I6)((0,d.i)(a,{complexType:e=>e}),()=>!0);if(t)return function(e){let t,r=[],n=[];for(let o of(0,d.i)(e,{complexContent:{extension:{sequence:{element:e=>e}}}})){let a,s,l=o.getAttribute("name");if(!l||(o.hasAttribute("type")?a=D(o.getAttribute("type")).name:(0,d.p)(o,{simpleType:{restriction:e=>(a=D(e.getAttribute("base")).name,{maxLength:e=>{s=+e.getAttribute("value")}})}}),!a))continue;let u="true"===o.getAttribute("nillable"),c=!1;switch(a.toLowerCase()){case"integer":case"nonpositiveinteger":case"negativeinteger":case"long":case"int":case"short":case"byte":case"nonnegativeinteger":case"unsignedlong":case"unsignedint":case"unsignedshort":case"unsignedbyte":case"positiveinteger":n.push(new m.A({name:l,alias:l,type:"integer",nullable:u,length:(0,g._b)("integer")}));break;case"float":case"double":case"decimal":n.push(new m.A({name:l,alias:l,type:"double",nullable:u,length:(0,g._b)("double")}));break;case"boolean":case"string":case"gyearmonth":case"gyear":case"gmonthday":case"gday":case"gmonth":case"anyuri":case"qname":case"notation":case"normalizedstring":case"token":case"language":case"idrefs":case"entities":case"nmtoken":case"nmtokens":case"name":case"ncname":case"id":case"idref":case"entity":case"duration":case"time":n.push(new m.A({name:l,alias:l,type:"string",nullable:u,length:s??(0,g._b)("string")}));break;case"datetime":case"date":n.push(new m.A({name:l,alias:l,type:"date",nullable:u,length:s??(0,g._b)("date")}));break;case"pointpropertytype":t="point",c=!0;break;case"multipointpropertytype":t="multipoint",c=!0;break;case"curvepropertytype":case"multicurvepropertytype":case"multilinestringpropertytype":t="polyline",c=!0;break;case"surfacepropertytype":case"multisurfacepropertytype":case"multipolygonpropertytype":t="polygon",c=!0;break;case"geometrypropertytype":case"multigeometrypropertytype":c=!0,r.push(new i.A(N,`geometry type '${a}' is not supported`,{type:(new XMLSerializer).serializeToString(e)}));break;default:r.push(new i.A("wfs-layer:unknown-field-type",`Unknown field type '${a}'`,{type:(new XMLSerializer).serializeToString(e)}))}c&&n.push(new m.A({name:l,alias:l,type:"geometry",nullable:u}))}for(let e of n)if("integer"===e.type&&!e.nullable&&M.has(e.name.toLowerCase())){e.type="oid";break}return{geometryType:t,fields:n,errors:r}}(t)}throw new i.A(T,`Type '${e}' not found in document`,{document:(new XMLSerializer).serializeToString(n)})}(t,(await (0,n.A)(e,{responseType:"text",query:{SERVICE:"WFS",REQUEST:"DescribeFeatureType",VERSION:w,TYPENAME:t,TYPENAMES:t,...r?.customParameters},signal:r?.signal})).data)}let M=new Set(["objectid","fid"]);async function v(e,t,r,o,a){let{data:s}=await (0,n.A)(e,{responseType:"text",query:O(t,r,o,a),signal:a?.signal});s=s.replaceAll(/": +(-?\d+),(\d+)(,)?/g,'": $1.$2$3');try{return JSON.parse(s)}catch(e){throw new i.A("wfs-layer:malformed-json","Error while parsing the\xa0response",{response:s,error:e})}}function O(e,t,r,n){return{SERVICE:"WFS",REQUEST:"GetFeature",VERSION:w,TYPENAMES:e,OUTPUTFORMAT:r,SRSNAME:"EPSG:"+("number"==typeof t?t:t.wkid),STARTINDEX:n?.startIndex,COUNT:n?.count,...n?.customParameters}}async function j(e,t,r){let i=await (0,n.A)(e,{responseType:"text",query:{SERVICE:"WFS",REQUEST:"GetFeature",VERSION:w,TYPENAMES:t,RESULTTYPE:"hits",...r?.customParameters},signal:r?.signal}),o=/numberMatched=["'](?<numberMatched>\d+)["']/gi.exec(i.data);if(o?.groups)return+o.groups.numberMatched}function V(e){return(new DOMParser).parseFromString(e.trim(),"text/xml")}function D(e){let[t,r]=e.split(":");return{prefix:r?t:"",name:r??t}}function _(e){let t="",r="";if((0,d.p)(e.firstElementChild,{Exception:e=>(t=e.getAttribute("exceptionCode"),{ExceptionText:e=>{r=e.textContent}})}),t)throw new i.A(`wfs-layer:${t}`,r)}function L(e,t,r){let n={wkid:t.defaultSpatialReference},i=null!=r?.wkid?{wkid:r.wkid}:n;return{spatialReference:i,getFeatureSpatialReference:(0,y.Fi)(e)||i.wkid&&t.supportedSpatialReferences.includes(i.wkid)?{wkid:i.wkid}:{wkid:t.defaultSpatialReference}}}},56599:(e,t,r)=>{r.d(t,{A:()=>i});var n=r(94264);class i{constructor(e=[],t=[]){this.lengths=e??[],this.coords=t??[]}static fromJSON(e){return new i(e.lengths,e.coords)}static fromRect(e){let[t,r,n,o]=e,a=n-t,s=o-r;return new i([5],[t,r,a,0,0,s,-a,0,0,-s])}get isPoint(){return 0===this.lengths.length&&this.coords.length>=2}get maxLength(){return Math.max(...this.lengths)}get size(){return this.lengths.reduce((e,t)=>e+t)}get usedMemory(){return 64+(0,n.Qf)(this.lengths,this.coords)}area(){let e=0,t=0;if(!this.lengths.length)return 0;for(let r=0;r<this.lengths.length;r++){let n=this.lengths[r];if(n<3)continue;let i=this.coords[2*t],o=this.coords[2*t+1];for(let r=1;r<n;r+=1){let n=this.coords[2*(r+t)],a=this.coords[2*(r+t)+1];e+=-.5*(n-i)*(a+o),i=n,o=a}t+=n}return e}forEachVertex(e){let t=0;this.lengths.length||e(this.coords[0],this.coords[1]);for(let r=0;r<this.lengths.length;r++){let n=this.lengths[r];for(let r=0;r<n;r++)e(this.coords[2*(r+t)],this.coords[2*(r+t)+1]);t+=n}}deltaDecode(){let e=this.clone(),{coords:t,lengths:r}=e,n=0;for(let e of r){for(let r=1;r<e;r++)t[2*(n+r)]+=t[2*(n+r)-2],t[2*(n+r)+1]+=t[2*(n+r)-1];n+=e}return e}clone(e){if(0===this.lengths.length)return new i([],[this.coords[0],this.coords[1]]);let t=(0===this.lengths.length?1:this.lengths.reduce((e,t)=>e+t))*2,r=this.coords.slice(0,t);return e?(e.set(r),new i(this.lengths,e)):new i(Array.from(this.lengths),Array.from(r))}}},67039:(e,t,r)=>{function n(e){return null!=s(e)||null!=a(e)}function i(e){return l.test(e)}function o(e){return s(e)??a(e)}function a(e){let t=new Date(e);return!function(e,t){if(Number.isNaN(e.getTime()))return!1;let r=!0;if(c&&/\d+\W*$/.test(t)){let e=t.match(/[a-zA-Z]{2,}/);if(e){let t=!1,n=0;for(;!t&&n<=e.length;)t=!u.test(e[n]),n++;r=!t}}return r}(t,e)?null:Number.isNaN(t.getTime())?null:t.getTime()-6e4*t.getTimezoneOffset()}function s(e){let t,r=l.exec(e);if(!r?.groups)return null;let n=r.groups,i=+n.year,o=n.month-1,a=+n.day,s=+(n.hours??"0"),u=+(n.minutes??"0"),c=+(n.seconds??"0");if(s>23||u>59||c>59)return null;let p=n.ms??"0",f=p?+p.padEnd(3,"0").slice(0,3):0;if(n.isUTC||!n.offsetSign)t=Date.UTC(i,o,a,s,u,c,f);else{let e=+n.offsetHours,r=+n.offsetMinutes;t=6e4*("+"===n.offsetSign?-1:1)*(60*e+r)+Date.UTC(i,o,a,s,u,c,f)}return Number.isNaN(t)?null:t}r.d(t,{Br:()=>i,Cq:()=>n,_U:()=>o});let l=/^(?:(?<year>-?\d{4,})-(?<month>\d{2})-(?<day>\d{2}))(?:T(?<hours>\d{2}):(?<minutes>\d{2}):(?<seconds>\d{2})(?:\.(?<ms>\d+))?)?(?:(?<isUTC>Z)|(?:(?<offsetSign>\+|-)(?<offsetHours>\d{2}):(?<offsetMinutes>\d{2})))?$/,u=/^((jan(uary)?)|(feb(ruary)?)|(mar(ch)?)|(apr(il)?)|(may)|(jun(e)?)|(jul(y)?)|(aug(ust)?)|(sep(tember)?)|(oct(ober)?)|(nov(ember)?)|(dec(ember)?)|(am)|(pm)|(gmt)|(utc))$/i,c=!Number.isNaN(new Date("technology 10").getTime())},79836:(e,t,r)=>{r.d(t,{BM:()=>T,bd:()=>N,sO:()=>b,xD:()=>c});var n=r(67039),i=r(32391),o=r(71760),a=r(82795),s=r(56599),l=r(39265);let u={LineString:"esriGeometryPolyline",MultiLineString:"esriGeometryPolyline",MultiPoint:"esriGeometryMultipoint",Point:"esriGeometryPoint",Polygon:"esriGeometryPolygon",MultiPolygon:"esriGeometryPolygon"};function c(e){return u[e]}function*p(e){switch(e.type){case"Feature":yield e;break;case"FeatureCollection":for(let t of e.features)t&&(yield t)}}function f(e){let t=0;for(let r=0;r<e.length;r++){let n=e[r],i=e[(r+1)%e.length];t+=n[0]*i[1]-i[0]*n[1]}return t<=0}function d(e){let t=e[0],r=e[e.length-1];return t[0]===r[0]&&t[1]===r[1]&&t[2]===r[2]||e.push(t),e}function y(e,t,r){let n=d(t);f(n)?g(e,n,r):h(e,n,r)}function m(e,t,r){let n=d(t);f(n)?h(e,n,r):g(e,n,r)}function g(e,t,r){for(let n of t)w(e,n,r);e.lengths.push(t.length)}function h(e,t,r){for(let n=t.length-1;n>=0;n--)w(e,t[n],r);e.lengths.push(t.length)}function w(e,t,r){let[n,i,o]=t;e.coords.push(n,i),r.hasZ&&e.coords.push(o||0)}function b(e,t=4326){if(!e)throw new i.A("geojson-layer:empty","GeoJSON data is empty");if("Feature"!==e.type&&"FeatureCollection"!==e.type)throw new i.A("geojson-layer:unsupported-geojson-object","missing or not supported GeoJSON object type",{data:e});let{crs:r}=e;if(!r)return;let n="string"==typeof r?r:"name"===r.type?r.properties.name:"EPSG"===r.type?r.properties.code:null,a=(0,o.oT)({wkid:t})?RegExp(".*(CRS84H?|4326)$","i"):RegExp(`.*(${t})$`,"i");if(!n||!a.test(n))throw new i.A("geojson:unsupported-crs","unsupported GeoJSON 'crs' member",{crs:r})}function T(e,t={}){let r=[],i=new Set,o=new Set,a,s=!1,c=null,f=!1,{geometryType:d=null}=t;for(let t of p(e)){let{geometry:e,properties:p,id:y}=t;if((!e||(d||(d=u[e.type]),u[e.type]===d))&&(s||(s=function(e){for(let t of e)if(t.length>2)return!0;return!1}(function*(e){if(e)switch(e.type){case"Point":yield e.coordinates;break;case"LineString":case"MultiPoint":yield*e.coordinates;break;case"MultiLineString":case"Polygon":for(let t of e.coordinates)yield*t;break;case"MultiPolygon":for(let t of e.coordinates)for(let e of t)yield*e}}(e))),f||(f=null!=y)&&(a=typeof y,p&&(c=Object.keys(p).filter(e=>p[e]===y))),p&&c&&f&&null!=y&&(c.length>1?c=c.filter(e=>p[e]===y):1===c.length&&(c=p[c[0]]===y?c:[])),p))for(let e in p){if(i.has(e))continue;let t=function(e){switch(typeof e){case"string":return(0,n.Br)(e)?"esriFieldTypeDate":"esriFieldTypeString";case"number":return"esriFieldTypeDouble";default:return"unknown"}}(p[e]);if("unknown"===t){o.add(e);continue}o.delete(e),i.add(e);let a=(0,l.rS)(e);a&&r.push({name:a,alias:e,type:t})}}let y=(0,l.rS)(1===c?.length&&c[0]||null)??void 0;if(y){for(let e of r)if(e.name===y&&(0,l.WA)(e)){e.type="esriFieldTypeOID";break}}return{fields:r,geometryType:d,hasZ:s,objectIdFieldName:y,objectIdFieldType:a,unknownFields:Array.from(o)}}function N(e,t){return Array.from(function*(e,t={}){let{geometryType:r,objectIdField:n}=t;for(let i of e){let e,{geometry:o,properties:l,id:c}=i;if(o&&u[o.type]!==r)continue;let p=l||{};n&&(e=p[n],null==c||e||(p[n]=e=c));let f=new a.Om(o?function(e,t,r){switch(t.type){case"LineString":return n=e,i=t,o=r,g(n,i.coordinates,o),n;case"MultiLineString":var n,i,o,a,s,l,u,c,p,f=e,d=t,h=r;for(let e of d.coordinates)g(f,e,h);return f;case"MultiPoint":return a=e,s=t,l=r,g(a,s.coordinates,l),a;case"MultiPolygon":var b=e,T=t,N=r;for(let e of T.coordinates){y(b,e[0],N);for(let t=1;t<e.length;t++)m(b,e[t],N)}return b;case"Point":return u=e,c=t,p=r,w(u,c.coordinates,p),u;case"Polygon":var S=e,F=t,A=r;let I=F.coordinates;y(S,I[0],A);for(let e=1;e<I.length;e++)m(S,I[e],A);return S}}(new s.A,o,t):null,p,null,e);yield f}}(p(e),t))}},82795:(e,t,r)=>{r.d(t,{N3:()=>s,Om:()=>a});var n=r(94264),i=r(11506),o=r(56599);class a{constructor(e=null,t={},r,n,i=0){this.geometry=e,this.attributes=t,this.centroid=r,this.objectId=n,this.displayId=i}static fromJSON(e){let t=e.geometry?o.A.fromJSON(e.geometry):null,r=e.centroid?o.A.fromJSON(e.centroid):null,n=e.objectId;return new a(t,e.attributes,r,n)}weakClone(){let e=new a(this.geometry,this.attributes,this.centroid,this.objectId);return e.displayId=this.displayId,e}clone(){let e=new a(this.geometry?.clone(),{...this.attributes},this.centroid?.clone(),this.objectId);return e.displayId=this.displayId,e}ensureCentroid(e){return this.centroid??=(0,i.Q)(new o.A,this.geometry,e.hasZ,e.hasM),this.centroid}get usedMemory(){return 128+(0,n.lM)(this.attributes)+(this.geometry?.usedMemory??0)}}function s(e){return!!e.geometry?.coords?.length}},94264:(e,t,r)=>{r.d(t,{Qf:()=>l,Qh:()=>a,RS:()=>i,ez:()=>c,i5:()=>p,lM:()=>o,qK:()=>u});var n=r(48678);let i=16;function o(e){if(!e)return 0;let t=u;for(let r in e)e.hasOwnProperty(r)&&(t+=s(e[r],!1));return t}function a(e){if(!e)return 0;if("number"==typeof e[0])return l(e);if(Array.isArray(e)){var t=e;let r=t.length;if(0===r||"number"==typeof t[0])return function(e,t){return c+e.length*t}(t,8);let n=c;for(let e=0;e<r;e++)n+=s(t[e]);return n}let r=u;for(let t in e)e.hasOwnProperty(t)&&(r+=s(e[t]));return r}function s(e,t=!0){switch(typeof e){case"object":return t?a(e):u;case"string":return 32+e.length;case"number":return i;case"boolean":return 4;default:return 8}}function l(...e){return e.reduce((e,t)=>{var r,o;return e+(t?(0,n.iu)(t)?t.byteLength+p:Array.isArray(t)?(r=t,o=i,c+r.length*o):0:0)},0)}let u=32,c=16,p=145}}]);