"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6251],{16404:(t,s,e)=>{var i;function r(t,s){try{if(!t)throw Error(s)}catch(t){throw t}}e.d(s,{A:()=>y,B:()=>F,C:()=>Z,D:()=>q,G:()=>i,a:()=>C,b:()=>I,c:()=>D,d:()=>S,e:()=>c,f:()=>d,g:()=>r,h:()=>v,i:()=>b,j:()=>N,k:()=>M,l:()=>z,m:()=>R,n:()=>P,o:()=>_,p:()=>f,q:()=>x,r:()=>p,s:()=>A,t:()=>g,u:()=>E,v:()=>w,w:()=>L,x:()=>T,y:()=>B,z:()=>G});class n extends Error{constructor(t,s){super(s),this.m_AdditionalMessage=s,this.m_ErrorType=t,this.name="GeometryError"}what(){switch(this.m_ErrorType){case 1:return"Unknown error";case 2:return"Corrupted geometry";case 3:return"Empty geometry";case 4:return"Math singularity";case 5:return"Buffer is too small";case 6:return"Invalid shape type";case 7:return"Projection out of supported range";case 8:return"Non simple geometry";case 9:return"Cannot calculate geodesic";case 10:return"Notation conversion";case 11:return"Missing grid file";case 12:return"Invalid call";case 13:return"Internal error";case 14:return"Not implemented";case 15:return"IO error";case 16:return"Invalid 3D";case 17:return"An ambiguous geography edge with antipodal points";case 18:return"Geocentric coordinates require ellipsoidal height";case 19:return"Geography cannot be projected into a gnomonic plane or a result of an operation cannot fit into a gnomonic plane";case 20:return"Geometry is too large to be exported in to a given format";case 22:return"Operation is canceled by the user";case 21:return"The operation, such as projection or geodetic computation, cannot be performed without pe-wasm loaded";default:return"unknown error"}}additionalMessage(){return this.m_AdditionalMessage?this.m_AdditionalMessage:""}code(){return this.m_ErrorType}}class h extends n{constructor(t){super(2,t),this.name="CorruptedGeometryError"}}class o extends n{constructor(t){super(3,t),this.name="EmptyGeometryError"}}class u extends n{constructor(t){super(4,t),this.name="MathSingularityError"}}class l extends n{constructor(t){super(21,t),this.name="ProjectionEngineNotLoadedError"}}class a extends n{constructor(t){super(8,t),this.name="NonSimpleGeometryError"}}!function(t){t[t.enumUnknown=0]="enumUnknown",t[t.enumPoint=513]="enumPoint",t[t.enumLine=5122]="enumLine",t[t.enumBezier=5123]="enumBezier",t[t.enumEllipticArc=5124]="enumEllipticArc",t[t.enumEnvelope=3077]="enumEnvelope",t[t.enumMultiPoint=8710]="enumMultiPoint",t[t.enumPolyline=25607]="enumPolyline",t[t.enumPolygon=27656]="enumPolygon",t[t.enumMultipatch=40969]="enumMultipatch",t[t.enumGeometryCollection=3594]="enumGeometryCollection",t[t.enumRationalBezier2=5134]="enumRationalBezier2",t[t.enumBezier2=5135]="enumBezier2",t[t.enumRationalBezier23d=5392]="enumRationalBezier23d",t[t.enumGreatArc3d=5393]="enumGreatArc3d"}(i||(i={}));let m=[0,0,1,1,1,2,0,1,2,3,-1,-1,-1,-1,1,1];function y(t){return m[15&t]}function c(t){return!!(512&t)}function x(t){return!!(1024&t)}function f(t){return!!(2048&t)}function d(t){return!!(4096&t)}function b(t){return!!(8192&t)}function v(t){return!!(16384&t)}function _(t){return!!(32768&t)}function w(t){let s=t.getGeometryType();return b(s)?t.getPointCount():t.isEmpty()?0:s===i.enumEnvelope?4:s===i.enumPoint?1:d(s)?2:void D("missing type")}function N(t){let s=t.getGeometryType();if(v(s))return t.hasNonLinearSegments();if(s===i.enumGeometryCollection){for(let s=0,e=t.getGeometryCount();s<e;s++)if(N(t.getGeometry(s)))return!0;return!1}return!!d(s)&&s!==i.enumLine}function p(t){throw new l(t)}function M(t){throw new h(t)}function g(t){throw Error(t)}function C(t){throw new u(t)}function T(){g("Geometry type is not supported for 3D operations.")}function R(t){throw new n(12,t)}function E(t){throw new o(t)}function I(t){throw new n(14,t)}function P(t){throw Error(t)}function D(t){throw new n(13,t)}function A(t){throw Error(t)}function q(t){throw new a(t)}function z(t){t&&N(t)&&I("Operation does not support curves.")}function S(t){t&&_(t.getGeometryType())&&I("Unsupported geometry type.")}function Z(t){t===i.enumGeometryCollection&&g("Geometry_collection instances are not supported in this operation")}function F(t){Z(t.getGeometryType())}function B(t){g(`bad wkid: ${t}`)}function G(t){let s="bad wkt: ";s+=t,g(s+="...")}function L(t,s){t||g(s)}},26251:(t,s,e)=>{e.d(s,{T:()=>o});var i=e(16404),r=e(92656);class n{constructor(t,s,e){if(t instanceof n)return this.data=t.data,this.N=t.N,this.M=t.M,t.data=null,t.N=0,void(t.M=0);this.data=t,this.N=s,this.M=e}assignCopy(t){return this===t||((0,i.g)(this.N*this.M==t.N*t.M),this.data.set(t.data),this.N=t.N,this.M=t.M),this}setZero(){return this.data?.fill(0),this}setIdentity(){for(let t=0;t<this.N;t++)for(let s=0;s<this.M;s++)this.setRowCol(t,s,+(t===s));return this}rows(){return this.N}cols(){return this.M}row(t){return(0,i.g)(0),{}}set(t,s){return this.data[t]=s,this}setRowCol(t,s,e){return this.data[t*this.M+s]=e,this}at(t){return this.data[t]}atRowCol(t,s){return this.data[t*this.M+s]}mulScalar(t,s){(0,i.g)(0)}mul(t,s){if((0,i.g)(this.M===t.rows()),(0,i.g)(this.N===s.rows()),(0,i.g)(t.cols()===s.cols()),s===this){let e=new n(new Float64Array(this.N*this.M),this.N,this.M);return this.mul(t,e),void s.assignCopy(e)}if(s===t){let e=new n(new Float64Array(t.N*t.M),t.N,t.M);return this.mul(t,e),void s.assignCopy(e)}let e=t.cols();for(let i=0;i<this.N;i++)for(let r=0;r<e;r++){let e=0;for(let s=0;s<this.M;s++)e+=this.atRowCol(i,s)*t.atRowCol(s,r);s.setRowCol(i,r,e)}}mulTranspose(t,s){if((0,i.g)(this.M===t.cols()),(0,i.g)(this.N===s.rows()),(0,i.g)(t.rows()===s.cols()),s===this){let e=new n(new Float64Array(this.N*this.M),this.N,this.M);return this.mulTranspose(t,e),void s.assignCopy(e)}if(s===t){let e=new n(new Float64Array(t.N*t.M),t.N,t.M);return this.mulTranspose(t,e),void s.assignCopy(e)}let e=t.rows();for(let i=0;i<this.N;i++)for(let r=0;r<e;r++){let e=0;for(let s=0;s<this.M;s++)e+=this.atRowCol(i,s)*t.atRowCol(r,s);s.setRowCol(i,r,e)}}mulLeft(t,s){(0,i.g)(0)}mulLeftTranspose(t,s){(0,i.g)(0)}mulDiag(t,s){if((0,i.g)(this.M===t.N*t.M),(0,i.g)(this.N===s.rows()),(0,i.g)(this.M===s.cols()),s===this){let e=new n(new Float64Array(this.N*this.M),this.N,this.M);return this.mulDiag(t,e),void s.assignCopy(e)}let e=this.M;for(let i=0;i<this.N;i++)for(let r=0;r<e;r++)s.setRowCol(i,r,this.atRowCol(i,r)*t.at(r))}transposeInPlace(){if(this.N===this.M){for(let t=0;t<this.N;t++)for(let s=t+1;s<this.M;s++){let e=this.atRowCol(t,s);this.setRowCol(t,s,this.atRowCol(s,t)),this.setRowCol(s,t,e)}return this}let t=new n(new Float64Array(this.N*this.M),this.N,this.M);return t.assignCopy(this),this.M=(0,r.b)(this.N,this.N=this.M),t.transpose(this),this}transpose(t){if(this!==t){n.checkDims(t,this.M,this.N);for(let s=0;s<this.N;s++)for(let e=0;e<this.M;e++)t.setRowCol(e,s,this.atRowCol(s,e))}else t.transposeInPlace()}add(t,s){}svd(t,s,e,r=!1){if(n.checkDims(t,this.N,this.M),n.checkDims(s,this.M,1),n.checkDims(e,this.M,this.M),r){if((0,i.g)(this.N===this.M),!this.symmetricEigen(s,e))return!1;for(let t=0;t<this.M;++t)0>s.at(t)&&s.set(t,0);return t.assignCopy(e),!0}let h,o,u,l,a,m,y,c=0,x=0,f=0,d=0,b=0,v=this.M,_=this.N;t.assignCopy(this);let w=new n(new Float64Array(v),v,1),N=(t,s)=>s>=0?Math.abs(t):-Math.abs(t),p=(t,s)=>{if((t=Math.abs(t))>(s=Math.abs(s))){let e=s/t;return t*Math.sqrt(e*e+1)}if(s>0){let e=t/s;return s*Math.sqrt(e*e+1)}return 0};for(let e=0;e<v;e++){if(c=e+1,w.set(e,d*f),f=l=d=0,e<_){for(let s=e;s<_;s++)d+=Math.abs(t.atRowCol(s,e));if(d){for(let s=e;s<_;s++)t.setRowCol(s,e,t.atRowCol(s,e)/d),l+=t.atRowCol(s,e)*t.atRowCol(s,e);f=-N(Math.sqrt(l),o=t.atRowCol(e,e)),u=o*f-l,t.setRowCol(e,e,o-f);for(let s=c;s<v;s++){l=0;for(let i=e;i<_;i++)l+=t.atRowCol(i,e)*t.atRowCol(i,s);o=l/u;for(let i=e;i<_;i++)t.setRowCol(i,s,t.atRowCol(i,s)+o*t.atRowCol(i,e))}for(let s=e;s<_;s++)t.setRowCol(s,e,t.atRowCol(s,e)*d)}}if(s.set(e,d*f),f=l=d=0,e<_&&e!==v-1){for(let s=c;s<v;s++)d+=Math.abs(t.atRowCol(e,s));if(d){for(let s=c;s<v;s++)t.setRowCol(e,s,t.atRowCol(e,s)/d),l+=t.atRowCol(e,s)*t.atRowCol(e,s);f=-N(Math.sqrt(l),o=t.atRowCol(e,c)),u=o*f-l,t.setRowCol(e,c,o-f);for(let s=c;s<v;s++)w.set(s,t.atRowCol(e,s)/u);for(let s=c;s<_;s++){l=0;for(let i=c;i<v;i++)l+=t.atRowCol(s,i)*t.atRowCol(e,i);for(let e=c;e<v;e++)t.setRowCol(s,e,t.atRowCol(s,e)+l*w.at(e))}for(let s=c;s<v;s++)t.setRowCol(e,s,t.atRowCol(e,s)*d)}}let i=Math.abs(s.at(e))+Math.abs(w.at(e));b=i>b?i:b}for(let s=v-1;s>=0;s--){if(s<v-1){if(f){for(let i=c;i<v;i++)e.setRowCol(i,s,t.atRowCol(s,i)/t.atRowCol(s,c)/f);for(let i=c;i<v;i++){l=0;for(let r=c;r<v;r++)l+=t.atRowCol(s,r)*e.atRowCol(r,i);for(let t=c;t<v;t++)e.setRowCol(t,i,e.atRowCol(t,i)+l*e.atRowCol(t,s))}}for(let t=c;t<v;t++)e.setRowCol(s,t,0),e.setRowCol(t,s,0)}e.setRowCol(s,s,1),f=w.at(s),c=s}for(let e=(_<v?_:v)-1;e>=0;e--){c=e+1,f=s.at(e);for(let s=c;s<v;s++)t.setRowCol(e,s,0);if(f){f=1/f;for(let s=c;s<v;s++){l=0;for(let i=c;i<_;i++)l+=t.atRowCol(i,e)*t.atRowCol(i,s);o=l/t.atRowCol(e,e)*f;for(let i=e;i<_;i++)t.setRowCol(i,s,t.atRowCol(i,s)+o*t.atRowCol(i,e))}for(let s=e;s<_;s++)t.setRowCol(s,e,t.atRowCol(s,e)*f)}else for(let s=e;s<_;s++)t.setRowCol(s,e,0);t.setRowCol(e,e,t.atRowCol(e,e)+1)}for(let i=v-1;i>=0;i--)for(let r=1;;r++){let n=1;for(c=i;c>=0;c--){if(x=c-1,Math.abs(w.at(c))+b===b){n=0;break}if(Math.abs(s.at(x))+b===b)break}if(n){h=0,l=1;for(let e=c;e<=i&&(o=l*w.at(e),w.set(e,w.at(e)*h),Math.abs(o)+b!==b);e++){u=p(o,f=s.at(e)),s.set(e,u),h=f*(u=1/u),l=-o*u;for(let s=0;s<_;s++)m=t.atRowCol(s,x),y=t.atRowCol(s,e),t.setRowCol(s,x,m*h+y*l),t.setRowCol(s,e,y*h-m*l)}}if(y=s.at(i),c===i){if(y<0){s.set(i,-y);for(let t=0;t<v;t++)e.setRowCol(t,i,-e.atRowCol(t,i))}break}if(100===r)return!1;a=s.at(c),x=i-1,m=s.at(x),f=p(o=((m-y)*(m+y)+((f=w.at(x))-(u=w.at(i)))*(f+u))/(2*u*m),1),o=((a-y)*(a+y)+u*(m/(o+N(f,o))-u))/a,h=l=1;for(let i=c;i<=x;i++){let r=i+1;f=w.at(r),m=s.at(r),u=l*f,f*=h,y=p(o,u),w.set(i,y),o=a*(h=o/y)+f*(l=u/y),f=f*h-a*l,u=m*l,m*=h;for(let t=0;t<v;t++)a=e.atRowCol(t,i),y=e.atRowCol(t,r),e.setRowCol(t,i,a*h+y*l),e.setRowCol(t,r,y*h-a*l);y=p(o,u),s.set(i,y),y&&(h=o*(y=1/y),l=u*y),o=h*f+l*m,a=h*m-l*f;for(let s=0;s<_;s++)m=t.atRowCol(s,i),y=t.atRowCol(s,r),t.setRowCol(s,i,m*h+y*l),t.setRowCol(s,r,y*h-m*l)}w.set(c,0),w.set(i,o),s.set(i,a)}let M=new Float64Array(this.N),g=new Float64Array(this.M),C=new n(M,this.N,1),T=new n(g,this.M,1),R=1;do R*=3,R++;while(R<=this.M);do{R/=3,R=Math.trunc(R);for(let i=R;i<this.M;i++){let r=s.at(i);for(let s=0;s<this.N;s++)C.set(s,t.atRowCol(s,i));for(let t=0;t<this.M;t++)T.set(t,e.atRowCol(t,i));let n=i;for(;s.at(n-R)<r;){s.set(n,s.at(n-R));for(let s=0;s<this.N;s++)t.setRowCol(s,n,t.atRowCol(s,n-R));for(let t=0;t<this.M;t++)e.setRowCol(t,n,e.atRowCol(t,n-R));if((n-=R)<R)break}s.set(n,r);for(let s=0;s<this.N;s++)t.setRowCol(s,n,C.at(s));for(let t=0;t<this.M;t++)e.setRowCol(t,n,T.at(t))}}while(R>1);for(let s=0;s<this.M;s++){let i=0;for(let e=0;e<this.N;e++)0>t.atRowCol(e,s)&&i++;for(let t=0;t<this.M;t++)0>e.atRowCol(t,s)&&i++;if(i>Math.trunc((this.N+this.M)/2)){for(let e=0;e<this.N;e++)t.setRowCol(e,s,-t.atRowCol(e,s));for(let t=0;t<this.M;t++)e.setRowCol(t,s,-e.atRowCol(t,s))}}return!0}isSymmetric(){if(this.N!==this.M)return!1;for(let t=0;t<this.N;t++)for(let s=t+1;s<this.M;s++)if(this.atRowCol(t,s)!==this.atRowCol(s,t))return!1;return!0}isZero(){return(0,i.g)(0),!1}isIdentity(){return(0,i.g)(0),!1}equals(t,s){if(void 0!==s&&(0,i.g)(0),this.N!==t.N||this.M!==t.M)return!1;for(let s=0;s<this.N*this.M;s++)if(this.data[s]!==t.data[s])return!1;return!0}maxElement(){return(0,i.g)(0),0}minElement(){return(0,i.g)(0),0}determinant(){if((0,i.g)(this.N===this.M),1===this.N)return this.data[0];if(2===this.N)return this.data[0]*this.data[3]-this.data[1]*this.data[2];if(3===this.N)return this.atRowCol(0,0)*(this.atRowCol(1,1)*this.atRowCol(2,2)-this.atRowCol(1,2)*this.atRowCol(2,1))-this.atRowCol(0,1)*(this.atRowCol(1,0)*this.atRowCol(2,2)-this.atRowCol(2,0)*this.atRowCol(1,2))+this.atRowCol(0,2)*(this.atRowCol(1,0)*this.atRowCol(2,1)-this.atRowCol(1,1)*this.atRowCol(2,0));let t=new n(new Float64Array(this.N*this.N),this.N,this.N),s=new Float64Array(this.N);if(!this.luDecomposition(t,s))return 0;let e=1;for(let i=0;i<this.N;i++)e*=t.atRowCol(i,i),s[i]!==i&&(e=-e);return e}submatrix(t,s,e){(0,i.g)(0)}inverse(t){(0,i.g)(0)}pseudoInverse(t,s=!1,e=2220446049250313e-31){if(t.setZero(),1===this.N&&1===this.M)return 0!==this.atRowCol(0,0)?t.setRowCol(0,0,1/this.atRowCol(0,0)):t.setRowCol(0,0,0),!0;if(2===this.N&&2===this.M){let s=this.atRowCol(0,0)*this.atRowCol(1,1)-this.atRowCol(0,1)*this.atRowCol(1,0);if(Math.abs(s)>1e-5*(Math.abs(this.atRowCol(0,0)*this.atRowCol(1,1))+Math.abs(this.atRowCol(0,1)*this.atRowCol(1,0))))return t.setRowCol(0,0,this.atRowCol(1,1)/s),t.setRowCol(0,1,-this.atRowCol(0,1)/s),t.setRowCol(1,0,-this.atRowCol(1,0)/s),t.setRowCol(1,1,this.atRowCol(0,0)/s),!0}let i=new n(new Float64Array(this.N*this.M),this.N,this.M),r=new n(new Float64Array(this.M),this.M,1),h=new n(new Float64Array(this.M*this.M),this.M,this.M);if(!this.svd(i,r,h,s))return!1;let o=Math.max(this.N,this.M),u=e*Math.abs(r.at(0))*o;for(let t=0;t<this.M;t++)r.at(t)>u?r.set(t,1/r.at(t)):r.set(t,0);return h.mulDiag(r,t),t.mulTranspose(i,t),!0}luDecomposition(t,s){return(0,i.g)(0),!1}symmetricEigen(t,s){(0,i.g)(this.rows()===this.cols()),(0,i.g)(this.rows()===t.rows()),(0,i.g)(s.rows()===s.cols()&&s.rows()===this.rows()),(0,i.g)(this.isSymmetric());let e=new n(new Float64Array(this.N*this.M),this.N,this.M);e.assignCopy(this);let r=100/Number.EPSILON,h=this.rows(),o=new Float64Array(h),u=new Float64Array(h),l=new n(o,h,1),a=new n(u,h,1);for(let s=0;s<h;s++)l.set(s,e.atRowCol(s,s)),t.set(s,e.atRowCol(s,s)),a.set(s,0);s.setIdentity();let m=()=>{s.transposeInPlace();let e=1;do e*=3,e++;while(e<=h);do{e/=3,e=Math.trunc(e);for(let i=e;i<h;i++){let r=t.at(i),n=Math.abs(r);for(let t=0;t<this.M;t++)l.set(t,s.atRowCol(t,i));let h=i;for(;Math.abs(t.at(h-e))<n;){t.set(h,t.at(h-e));for(let t=0;t<this.M;t++)s.setRowCol(t,h,s.atRowCol(t,h-e));if((h-=e)<e)break}if(h!==i){t.set(h,r);for(let t=0;t<this.M;t++)s.setRowCol(t,h,l.at(t))}}}while(e>1)};for(let i=1;;i++){let n=0;for(let t=1;t<h;t++)for(let s=0;s<t;s++)n+=Math.abs(e.atRowCol(t,s));if(0===n)return m(),!0;let o=i<4?.2*n/(h*h):0;for(let n=0;n<h;n++)for(let u=n+1;u<h;u++){let l=r*Math.abs(e.atRowCol(u,n));if(i>4&&l<=Math.abs(t.at(n))&&l<=Math.abs(t.at(u)))e.setRowCol(u,n,0);else if(Math.abs(e.atRowCol(u,n))>o){let i,r=t.at(u)-t.at(n);if(l<Math.abs(r))i=e.atRowCol(u,n)/r;else{let t=.5*r/e.atRowCol(u,n);i=1/(Math.abs(t)+Math.sqrt(1+t*t)),t<0&&(i=-i)}let o=1/Math.sqrt(1+i*i),m=i*o,y=m/(1+o);r=i*e.atRowCol(u,n),a.set(n,a.at(n)-r),a.set(u,a.at(u)+r),t.set(n,t.at(n)-r),t.set(u,t.at(u)+r),e.setRowCol(u,n,0);let c=0;for(;c<n;c++)l=e.atRowCol(n,c),r=e.atRowCol(u,c),e.setRowCol(n,c,l-m*(r+l*y)),e.setRowCol(u,c,r+m*(l-r*y));for(c++;c<u;c++)l=e.atRowCol(c,n),r=e.atRowCol(u,c),e.setRowCol(c,n,l-m*(r+l*y)),e.setRowCol(u,c,r+m*(l-r*y));for(c++;c<h;c++)l=e.atRowCol(c,n),r=e.atRowCol(c,u),e.setRowCol(c,n,l-m*(r+l*y)),e.setRowCol(c,u,r+m*(l-r*y));for(c=0;c<h;c++)l=s.atRowCol(n,c),r=s.atRowCol(u,c),s.setRowCol(n,c,l-m*(r+l*y)),s.setRowCol(u,c,r+m*(l-r*y))}}for(let s=0;s<h;s++)l.set(s,l.at(s)+a.at(s)),t.set(s,l.at(s)),a.set(s,0)}}static checkDims(t,s,e){(0,i.g)(t.rows()===s&&t.cols()===e)}}class h extends n{constructor(t){if(t.copy){let s=new Float64Array(t.copy.N*t.copy.M);return super(s,t.copy.N,t.copy.M),this.buffer=s,void this.assignCopy(t.copy)}let s=new Float64Array(t.NN*t.MM);super(s,t.NN,t.MM),this.buffer=s,t.initializerList&&(0,r.a)(this.buffer,t.initializerList,0,0,t.initializerList.length)}assignCopy(t){return this===t||super.assignCopy(t),this}}class o{constructor(t){this.m_TransformationType=1,void 0===t?this.setIdentity():t instanceof o?this.set(t):this.setScale(t)}set(t){return this.xx=t.xx,this.xy=t.xy,this.xd=t.xd,this.yx=t.yx,this.yy=t.yy,this.yd=t.yd,this}clone(){return(new o).set(this)}setZero(){this.xx=0,this.yy=0,this.xy=0,this.yx=0,this.xd=0,this.yd=0}isEqual(t){return this===t||this.xx===t.xx&&this.xy===t.xy&&this.xd===t.xd&&this.yx===t.yx&&this.yy===t.yy&&this.yd===t.yd}transformInPlace(t){let s=this.xx*t.x+this.xy*t.y+this.xd,e=this.yx*t.x+this.yy*t.y+this.yd;t.x=s,t.y=e}transform(t){let s=t.clone();return this.transformInPlace(s),s}queryTransform(t,s){let e=this.xx*t.x+this.xy*t.y+this.xd,i=this.yx*t.x+this.yy*t.y+this.yd;s.setCoords(e,i)}transformEnvInPlace(t){if(t.isEmpty())return;let s=(0,r.m)(r.P,4);t.queryCorners(s),this.transformPoints2D(s,4,s),t.setFromPoints(s,4)}queryTransformEnv(t,s){(0,i.g)(0)}transformPoints2D(t,s,e){for(let i=0;i<s;++i)this.queryTransform(t[i],e[i])}transformInterleavedPoints(t,s,e){s*=2;let i=r.P.getNAN();for(let r=0;r<s;r+=2)i.x=t[r],i.y=t[r+1],this.transformInPlace(i),e[r]=i.x,e[r+1]=i.y}multiply(t){return o.st_multiply(this,t,this),this}mulLeft(t){return(0,i.g)(0),this}static st_multiply(t,s,e){let i=t.xx*s.xx+t.yx*s.xy,r=t.xy*s.xx+t.yy*s.xy,n=t.xd*s.xx+t.yd*s.xy+s.xd,h=t.xx*s.yx+t.yx*s.yy,o=t.xy*s.yx+t.yy*s.yy,u=t.xd*s.yx+t.yd*s.yy+s.yd;e.xx=i,e.xy=r,e.xd=n,e.yx=h,e.yy=o,e.yd=u}getCoefficients(t){(0,i.g)(t.length>=6),t[0]=this.xx,t[1]=this.xy,t[2]=this.xd,t[3]=this.yx,t[4]=this.yy,t[5]=this.yd}setCoefficients(t){(0,i.g)(t.length>=6),this.xx=t[0],this.xy=t[1],this.xd=t[2],this.yx=t[3],this.yy=t[4],this.yd=t[5]}copyTo(t){(0,i.g)(0)}initializeFromRect(t,s){t.isEmpty()||s.isEmpty()||!t.width()||!t.height()?this.setZero():(this.xy=this.yx=0,this.xx=s.width()/t.width(),this.yy=s.height()/t.height(),this.xd=s.xmin-t.xmin*this.xx,this.yd=s.ymin-t.ymin*this.yy)}initializeFromRectIsotropic(t,s){if(t.isEmpty()||!t.width()||!t.height()||s.isEmpty())this.setZero();else{this.yx=0,this.xy=0,this.xx=s.width()/t.width(),this.yy=s.height()/t.height(),this.xx>this.yy?this.xx=this.yy:this.yy=this.xx;let e=s.getCenter(),i=t.getCenter();this.xd=e.x-i.x*this.xx,this.yd=e.y-i.y*this.yy}}initializeFromTwoPointsArray(t,s){if(t[0].equals(s[0])&&t[1].equals(s[1]))return void this.setIdentity();if(t[0].equals(t[1])){if(s[0].equals(s[1]))return void this.setShift(s[0].sub(t[0]));(0,i.t)("")}if(!t[0].equals(t[1])&&s[0].equals(s[1]))return this.setZero(),void this.shift(s[0]);this.setShiftCoords(-t[0].x,-t[0].y);let e=r.P.distance(t[0],t[1]),n=r.P.distance(s[0],s[1]),h=n/e;this.scale(h,h);let o=t[1].sub(t[0]);o.divThis(e);let u=s[1].sub(s[0]);u.divThis(n);let l=o.crossProduct(u),a=o.dotProduct(u);this.rotate(a,l),this.shiftCoords(s[0].x,s[0].y)}initializeFromTwoPoints(t,s,e,i){this.initializeFromTwoPointsArray([t,s],[e,i])}transformSizeInPlace(t){(0,i.g)(0)}transformSize(t,s){(0,i.g)(0)}transformTol(t){return(0,i.g)(0),0}transformWithoutTranslateArray(t,s,e){for(let i=0;i<s;++i)this.transformWithoutTranslate(t[i],e[i])}transformWithoutTranslateInPlace(t){let s=this.xx*t.x+this.xy*t.y,e=this.yx*t.x+this.yy*t.y;t.setCoords(s,e)}transformWithoutTranslate(t,s){let e=this.xx*t.x+this.xy*t.y,i=this.yx*t.x+this.yy*t.y;s.setCoords(e,i)}setIdentity(){this.xx=1,this.xy=0,this.xd=0,this.yx=0,this.yy=1,this.yd=0}isIdentity(){return!(1!==this.xx||1!==this.yy||this.xy||this.xd||this.yx||this.yd)}isIdentityTol(t){let s=t*t;return!((0,r.s)(this.xd)+(0,r.s)(this.yd)>s)&&!((0,r.s)(this.xy+this.xd)+(0,r.s)(this.yy+this.yd-1)>s)&&!((0,r.s)(this.xx+this.xd-1)+(0,r.s)(this.yx+this.yd)>s)}isReflective(){return this.xx*this.yy-this.yx*this.xy<0}isUniform(t){let s=this.xx*this.xx+this.yx*this.yx,e=this.xy*this.xy+this.yy*this.yy,i=(s+e)*t;return Math.abs(s-e)<=i&&Math.abs(this.xx*this.xy+this.yx*this.yy)<=i}isUniformNoRotation(){return 0!==this.xx&&Math.abs(this.xx)===Math.abs(this.yy)&&0===this.xy&&0===this.yx}isTranslate(){return 1===this.xx&&1===this.yy&&!this.xy&&!this.yx}isTranslateTol(t){let s=new r.P;return s.setCoords(0,1),this.transformWithoutTranslateInPlace(s),s.y-=1,!(s.sqrLength()>t*t)&&(s.setCoords(1,0),this.transformWithoutTranslateInPlace(s),s.x-=1,s.sqrLength()<=t*t)}isOrthonormal(t){let s=new o;return s.xx=this.xx*this.xx+this.xy*this.xy,s.xy=this.xx*this.yx+this.xy*this.yy,s.yx=this.yx*this.xx+this.yy*this.xy,s.yy=this.yx*this.yx+this.yy*this.yy,s.xd=0,s.yd=0,s.isIdentityTol(t)}isDegenerate(t){return Math.abs(this.xx*this.yy-this.yx*this.xy)<=2*t*(Math.abs(this.xx*this.yy)+Math.abs(this.yx*this.xy))}isZero(){return 0===this.xx&&0===this.yy&&0===this.xy&&0===this.yx&&0===this.xd&&0===this.yd}isScaleAndTranslateTol(t){return this.xy*this.xy+this.yx*this.yx<=(this.xx*this.xx+this.yy*this.yy)*t}setTranslate(t,s){return this.xx=1,this.xy=0,this.xd=t,this.yx=0,this.yy=1,this.yd=s,this}setShiftCoords(t,s){return this.xx=1,this.xy=0,this.xd=t,this.yx=0,this.yy=1,this.yd=s,this}setShift(t){return this.xx=1,this.xy=0,this.xd=t.x,this.yx=0,this.yy=1,this.yd=t.y,this}setScaleCoords(t,s){return this.xx=t,this.xy=0,this.xd=0,this.yx=0,this.yy=s,this.yd=0,this}setScale(t){return this.setScaleCoords(t,t),this}setFlipX(t,s){return this.xx=-1,this.xy=0,this.xd=t+s,this.yx=0,this.yy=1,this.yd=0,this}setFlipY(t,s){return this.xx=1,this.xy=0,this.xd=0,this.yx=0,this.yy=-1,this.yd=t+s,this}setShear(t,s){return this.xx=1,this.xy=t,this.xd=0,this.yx=s,this.yy=1,this.yd=0,this}scale(t,s){return this.xx*=t,this.xy*=t,this.xd*=t,this.yx*=s,this.yy*=s,this.yd*=s,this}setRotateAngle(t){return this.setRotate(Math.cos(t),Math.sin(t))}setRotate(t,s){return this.xx=t,this.xy=-s,this.xd=0,this.yx=s,this.yy=t,this.yd=0,this}setRotateAngleAbout(t,s){return this.setRotateAbout(Math.cos(t),Math.sin(t),s)}setRotateAbout(t,s,e){return this.setTranslate(-e.x,-e.y),this.rotate(t,s),this.translate(e.x,e.y)}setSwapCoordinates(){return this.xx=0,this.xy=1,this.xd=0,this.yx=1,this.yy=0,this.yd=0,this}setRotateCw90(){return this.xx=0,this.xy=1,this.xd=0,this.yx=-1,this.yy=0,this.yd=0,this}setRotateCcw90(){return this.xx=0,this.xy=-1,this.xd=0,this.yx=1,this.yy=0,this.yd=0,this}shiftCoords(t,s){return this.xd+=t,this.yd+=s,this}shift(t){return this.xd+=t.x,this.yd+=t.y,this}translate(t,s){return this.xd+=t,this.yd+=s,this}flipX(t,s){return this.xx=-this.xx,this.xy=-this.xy,this.xd=t+s-this.xd,this}flipY(t,s){return this.yx=-this.yx,this.yy=-this.yy,this.yd=t+s-this.yd,this}shear(t,s){let e=new o;return e.setShear(t,s),this.multiply(e)}rotateAngle(t){let s=new o;return s.setRotateAngle(t),this.multiply(s)}rotate(t,s){let e=new o;return e.setRotate(t,s),this.multiply(e)}rotateAbout(t,s,e){return this.translate(-e.x,-e.y),this.rotate(t,s),this.translate(e.x,e.y)}rotateAngleAbout(t,s){return this.rotateAbout(Math.cos(t),Math.sin(t),s)}setInvert(t){return this.set(t),this.invertThis()}invertThis(){let t=this.xx*this.yy-this.xy*this.yx;if(0===t)return this.setZero(),this;t=1/t;let s=(this.xy*this.yd-this.xd*this.yy)*t,e=(this.xd*this.yx-this.xx*this.yd)*t,i=this.yy*t,r=-this.xy*t,n=-this.yx*t,h=this.xx*t;return this.xd=s,this.yd=e,this.xx=i,this.yy=h,this.xy=r,this.yx=n,this}invertPrecise(t){return this.set(t),this.invertPreciseThis()}invertPreciseThis(){let t=r.M.constructDouble(this.xy),s=r.M.constructDouble(this.xx),e=s.mulDouble(this.yy).sub(t.mulDouble(this.yx));if(e.isZero())return this.setZero(),this;let i=e.clone();i.invertThis();let n=r.M.constructDouble(this.xd),h=t.mulDouble(this.yd).sub(n.mulDouble(this.yy)).mul(i).toDouble(),o=n.mulDouble(this.yx).sub(s.mulDouble(this.yd)).mul(i).toDouble(),u=i.mulDouble(this.yy).toDouble(),l=i.mulDouble(-this.xy).toDouble(),a=i.mulDouble(-this.yx).toDouble(),m=i.mulDouble(this.xx).toDouble();return this.xd=h,this.yd=o,this.xx=u,this.yy=m,this.xy=l,this.yx=a,this}extractScaleTransform(t,s){let e=Math.sqrt(this.xx*this.xx+this.xy*this.xy),i=Math.sqrt(this.yx*this.yx+this.yy*this.yy);s.setScaleCoords(1/e,1/i),s.multiply(this),t.setScaleCoords(e,i)}setFromTwoTriangles(t,s){let e=!0;for(let i=0;i<3;++i)e=e&&t[i].equals(s[i]);if(e)return this.setIdentity(),!0;let i=new r.P;i.setSub(t[0],t[1]);let n=new r.P;n.setSub(t[0],t[2]);let h=new r.P;h.setSub(s[0],s[1]);let o=new r.P;o.setSub(s[0],s[2]);let u=4*Number.EPSILON*(Math.abs(i.x*n.y)+Math.abs(n.x*i.y)),l=i.x*n.y-i.y*n.x;return Math.abs(l)>u?(l=1/l,this.xx=(h.x*n.y-i.y*o.x)*l,this.xy=(i.x*o.x-h.x*n.x)*l,this.yx=(h.y*n.y-i.y*o.y)*l,this.yy=(i.x*o.y-h.y*n.x)*l,this.xd=s[0].x-(this.xx*t[0].x+this.xy*t[0].y),this.yd=s[0].y-(this.yx*t[0].x+this.yy*t[0].y),!0):(this.setZero(),!1)}initializeFromControlPoints(t,s,e,n,a=null){return 0===s?(this.setIdentity(),void(a&&a.setIdentity())):1===s?(this.setShift(n[0].sub(e[0])),void(a&&a.setShift(e[0].sub(n[0])))):(s<3&&(t=1),void(4===t&&s>2?function(t,s,e,n,o){let u=r.P.average(e,s),a=r.P.average(n,s),m=new h({NN:2,MM:2});m.setZero();let y=new h({NN:2,MM:2});y.setZero();for(let t=0;t<s;++t)m.setRowCol(0,0,m.atRowCol(0,0)+(e[t].x-u.x)*(e[t].x-u.x)),m.setRowCol(0,1,m.atRowCol(0,1)+(e[t].x-u.x)*(e[t].y-u.y)),m.setRowCol(1,1,m.atRowCol(1,1)+(e[t].y-u.y)*(e[t].y-u.y)),y.setRowCol(0,0,y.atRowCol(0,0)+(n[t].x-a.x)*(e[t].x-u.x)),y.setRowCol(0,1,y.atRowCol(0,1)+(n[t].x-a.x)*(e[t].y-u.y)),y.setRowCol(1,0,y.atRowCol(1,0)+(n[t].y-a.y)*(e[t].x-u.x)),y.setRowCol(1,1,y.atRowCol(1,1)+(n[t].y-a.y)*(e[t].y-u.y));m.setRowCol(1,0,m.atRowCol(0,1));let c=new h({NN:2,MM:2});m.pseudoInverse(c,!0)||(0,i.a)("Failed to compute pseudo inverse"),y.mul(c,y),l(t,y);let x=u.clone();t.transformInPlace(x),t.xd=a.x-x.x,t.yd=a.y-x.y,o&&(y.pseudoInverse(c,!1)||(0,i.a)("Failed to compute pseudo inverse"),l(o,c),o.transformInPlace(a),o.xd=u.x-a.x,o.yd=u.y-a.y)}(this,s,e,n,a):function(t,s,e,n,a,m){(0,i.g)(1===t||0===t||2===t||3===t),s.setIdentity();let y=r.P.average(n,e),c=r.P.average(a,e);if((0,i.g)(t<u.length&&t>0),8&u[t]){let r=new h({NN:2,MM:2});r.setZero();for(let t=0;t<e;++t)r.setRowCol(0,0,r.atRowCol(0,0)+(a[t].x-c.x)*(n[t].x-y.x)),r.setRowCol(1,0,r.atRowCol(1,0)+(a[t].x-c.x)*(n[t].y-y.y)),r.setRowCol(0,1,r.atRowCol(0,1)+(a[t].y-c.y)*(n[t].x-y.x)),r.setRowCol(1,1,r.atRowCol(1,1)+(a[t].y-c.y)*(n[t].y-y.y));let m=new h({NN:2,MM:2}),x=new h({NN:2,MM:1}),f=new h({NN:2,MM:2});r.svd(m,x,f)||(0,i.a)("Failed to compute svd");let d=new h({NN:2,MM:2});m.transpose(d);let b=new h({NN:2,MM:2});f.mul(d,b),!(32&u[t])&&0>b.determinant()&&(d.setRowCol(1,0,-d.atRowCol(1,0)),d.setRowCol(1,1,-d.atRowCol(1,1)),f.mul(d,b));let v=new o;l(v,b),s.set(v)}if(2&u[t]){let t=0,i=0;for(let r=0;r<e;++r){let e=n[r].sub(y);t+=e.sqrLength(),s.transformInPlace(e),i+=e.dotProduct(a[r].sub(c))}if(0===t)0===i?s.setIdentity():s.setZero();else{let e=i/t;s.scale(e,e)}}else(0,i.g)(!(4&u[t]));let x=y.clone();s.transformInPlace(x),s.xd=c.x-x.x,s.yd=c.y-x.y,m&&(m.set(s),m.invertThis(),m.isZero()&&(m.xd=y.x,m.yd=y.y))}(t,this,s,e,n,a)))}calculateErrors(t,s,e,n){(0,i.g)(t>0&&null!==s&&null!==e);let h=0;for(let i=0;i<t;++i){let t=this.transform(s[i]),o=r.P.sqrDistance(e[i],t);h+=o,n&&(n[i]=Math.sqrt(o))}return Math.sqrt(h/t)}}let u=[43,11,41,9,61];function l(t,s){(0,i.g)((2===s.rows()||3===s.rows())&&(2===s.cols()||3===s.rows())),t.xx=s.atRowCol(0,0),t.xy=s.atRowCol(0,1),t.yx=s.atRowCol(1,0),t.yy=s.atRowCol(1,1),3===s.cols()?(t.xd=s.atRowCol(0,2),t.yd=s.atRowCol(1,2)):(t.xd=0,t.yd=0)}},92656:(t,s,e)=>{e.d(s,{$:()=>w,A:()=>t6,B:()=>to,C:()=>tc,D:()=>st,E:()=>l,F:()=>m,G:()=>b,H:()=>d,I:()=>tU,J:()=>se,K:()=>r,L:()=>tM,M:()=>sy,N:()=>ss,O:()=>tR,P:()=>sv,Q:()=>A,R:()=>q,S:()=>tE,T:()=>th,U:()=>ty,V:()=>T,W:()=>R,X:()=>tx,Y:()=>tQ,Z:()=>z,_:()=>_,a:()=>tu,a0:()=>E,a1:()=>I,a2:()=>P,a3:()=>tO,a4:()=>tP,a5:()=>sh,a6:()=>sa,a7:()=>su,a8:()=>so,a9:()=>ts,aA:()=>tb,aB:()=>sb,aC:()=>M,aD:()=>t0,aE:()=>tW,aF:()=>tF,aG:()=>t2,aH:()=>t1,aa:()=>te,ab:()=>tw,ac:()=>v,ad:()=>sx,ae:()=>sc,af:()=>F,ag:()=>sn,ah:()=>tt,ai:()=>tq,aj:()=>U,ak:()=>B,al:()=>sm,am:()=>tf,an:()=>t7,ao:()=>tX,ap:()=>tl,aq:()=>tK,ar:()=>t5,as:()=>tg,at:()=>t4,au:()=>tp,av:()=>C,aw:()=>tJ,ax:()=>sr,ay:()=>sd,az:()=>sf,b:()=>ta,c:()=>si,d:()=>tT,e:()=>G,f:()=>g,g:()=>t8,h:()=>tv,i:()=>tY,j:()=>tj,k:()=>tD,l:()=>tA,m:()=>tN,n:()=>tI,o:()=>K,p:()=>tC,q:()=>D,r:()=>tV,s:()=>Z,t:()=>L,u:()=>td,v:()=>tm,w:()=>t_,x:()=>S,y:()=>N,z:()=>p});var i=e(16404);class r{constructor(t){this.sum=t,this.compensation=0}assign(t){return this.compensation=t.compensation,this.sum=t.sum,this}reset(){this.sum=this.compensation=0}resetToStart(t){this.sum=t,this.compensation=0}normalize(){let t=[Number.NaN];this.sum=J(this.sum,this.compensation,t),this.compensation=t[0]}add(t){let s,e=this.sum+t;if(Math.abs(this.sum)>=Math.abs(t)){let i=this.sum-e+t;s=this.compensation+i}else{let i=t-e+this.sum;s=this.compensation+i}this.sum=e,this.compensation=s}sub(t){this.add(-t)}addProduct(t,s){let e=[0],i=Y(t,s,e);this.add(i),this.add(e[0])}mul(t){let s=new r(0);s.addProduct(this.sum,t),s.addProduct(this.compensation,t),this.assign(s)}getResult(){return this.sum+this.compensation}pe(t){return this.add(t),this}me(t){return this.add(-t),this}}let n=[5,1,2,1,3,1,2,1,4,1,2,1,3,1,2,1],h=[-1,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3];function o(t){let s=0;return 65535n&t||(s+=16,t>>=16n),255n&t||(s+=8,t>>=8n),15n&t||(s+=4,t>>=4n),s+n[Number(BigInt.asUintN(4,t))]}function u(t){let s=0;return 4294967295n&t||(s=32,t>>=32n),s+o(BigInt.asUintN(32,t))}class l{constructor(t,s){if(this.m_EnvelopeType=1,void 0!==t){if(t instanceof l)return this.vmin=t.vmin,void(this.vmax=t.vmax);this.vmin=t,this.vmax=s,this.normalize()}else this.setEmpty()}static construct(t,s){return new l(t,s)}static constructEmpty(){return new l}setCoords(t,s){this.vmin=t,this.vmax=s,this.normalize()}setCoordsFromEnvelope(t){this.vmin=t.vmin,this.vmax=t.vmax}setEmpty(){this.vmin=Number.NaN,this.vmax=Number.NaN}getCenter(){return .5*(this.vmin+this.vmax)}equalsRange(t,s){return tO(this.vmin,t)&&tO(this.vmax,s)}equals(t,s){return!(!this.isEmpty()||!t.isEmpty())||(void 0!==s?Math.abs(this.vmin-t.vmin)<=s&&Math.abs(this.vmax-t.vmax)<=s:this.vmin===t.vmin&&this.vmax===t.vmax)}width(){return this.vmax-this.vmin}isEmpty(){return Number.isNaN(this.vmin)||Number.isNaN(this.vmax)}isZero(){return this.vmin===this.vmax}setInfinite(){this.vmin=Number.NEGATIVE_INFINITY,this.vmax=Number.POSITIVE_INFINITY}move(t){this.isEmpty()||(this.vmin+=t,this.vmax+=t)}contains(t){return t.vmin>=this.vmin&&t.vmax<=this.vmax}containsCoordinate(t){return t>=this.vmin&&t<=this.vmax}containsRightExclusive(t){return t>=this.vmin&&t<this.vmax}containsExclusiveCoordinate(t){return t>this.vmin&&t<this.vmax}containsExclusive(t){return t.vmin>this.vmin&&t.vmax<this.vmax}isIntersecting(t){return this.vmin<=t.vmin?this.vmax>=t.vmin:t.vmax>=this.vmin}mergeCoordinate(t){if(this.isEmpty())return this.vmin=t,void(this.vmax=t);this.mergeNeCoordinate(t)}merge(t){if(t.isEmpty())return;let s=t.vmin,e=t.vmax;this.mergeCoordinate(s),this.mergeCoordinate(e)}mergeNe(t){let s=t.vmin,e=t.vmax;this.mergeNeCoordinate(s),this.mergeNeCoordinate(e)}mergeNeCoordinate(t){t<this.vmin?this.vmin=t:t>this.vmax&&(this.vmax=t)}intersect(t){this.isEmpty()||t.isEmpty()?this.setEmpty():(this.vmin<t.vmin&&(this.vmin=t.vmin),this.vmax>t.vmax&&(this.vmax=t.vmax),this.vmin>this.vmax&&this.setEmpty())}inflate(t){this.isEmpty()||(this.vmin-=t,this.vmax+=t,this.vmax<this.vmin&&this.setEmpty())}normalize(){var t,s;this.vmin<=this.vmax||(this.vmin>this.vmax?this.vmax=(t=this.vmin,s=this.vmin=this.vmax,t):this.setEmpty())}isValid(){return this.isEmpty()||this.vmin<=this.vmax}snapClip(t){return si(t,this.vmin,this.vmax)}calculateToleranceFromEnvelope(){return this.isEmpty()?t8():(Math.abs(this.vmin)+Math.abs(this.vmax)+1)*t8()}static unit(){return a}normalizeNoNAN(){var t,s;this.vmin>this.vmax&&(this.vmax=(t=this.vmin,s=this.vmin=this.vmax,t))}setCoordsNoNAN(t,s){this.vmin=t,this.vmax=s,this.normalizeNoNAN()}clone(){return new l(this.vmin,this.vmax)}}let a=new l(0,1);class m{static getNAN(){return new m(Number.NaN)}constructor(t,s){this.m_value=t??0,this.m_eps=s??0}[Symbol.toPrimitive](t){return this}clone(){return new m(this.m_value,this.m_eps)}assign(t){return this.m_value=t.m_value,this.m_eps=t.m_eps,this}scaleError(t){this.m_eps*=t}setError(t){this.m_eps=t}set(t,s){return this.m_value=t,this.m_eps=s??0,this}setWithEps(t,s){return void 0===s&&(s=1),this.m_value=t,this.m_eps=m.ulp(t)*s,this}setE(t){return this.m_value=t.m_value,this.m_eps=t.m_eps,this}precise(){return new m(this.m_value)}value(){return this.m_value}toDouble(){return this.m_value}eps(){return this.m_eps}resetError(){return this.m_eps=0,this}absThis(){return this.m_value=Math.abs(this.m_value),this}add(t){return this.clone().addThis(t)}addE(t){return this.clone().addThisE(t)}addThisE(t){let s=this.m_value+t.m_value,e=this.m_eps+t.m_eps+m.ulp(s);return this.m_value=s,this.m_eps=e,this}addThis(t){let s=this.m_value+t,e=this.m_eps+m.ulp(s);return this.m_value=s,this.m_eps=e,this}subE(t){return this.clone().subThisE(t)}sub(t){return this.clone().subThis(t)}subThisE(t){let s=this.m_value-t.m_value,e=this.m_eps+t.m_eps+m.ulp(s);return this.m_value=s,this.m_eps=e,this}subThis(t){let s=this.m_value-t,e=this.m_eps+m.ulp(s);return this.m_value=s,this.m_eps=e,this}setAddE(t,s){return this.m_value=t.m_value+s.m_value,this.m_eps=t.m_eps+s.m_eps+m.ulp(this.m_value),this}setAdd(t,s){return this.m_value=t+s,this.m_eps=m.ulp(this.m_value),this}setAddEN(t,s){return this.m_value=t.m_value+s,this.m_eps=t.m_eps+m.ulp(this.m_value),this}setAddNE(t,s){return this.m_value=t+s.m_value,this.m_eps=s.m_eps+m.ulp(this.m_value),this}setSubE(t,s){return this.m_value=t.m_value-s.m_value,this.m_eps=t.m_eps+s.m_eps+m.ulp(this.m_value),this}setSub(t,s){return this.m_value=t-s,this.m_eps=m.ulp(this.m_value),this}setSubEN(t,s){return this.m_value=t.m_value-s,this.m_eps=t.m_eps+m.ulp(this.m_value),this}setSubNE(t,s){return this.m_value=t-s.m_value,this.m_eps=s.m_eps+m.ulp(this.m_value),this}mulThisE(t){let s=this.m_value*t.m_value;return this.m_eps=this.m_eps*Math.abs(t.m_value)+t.m_eps*Math.abs(this.m_value)+this.m_eps*t.m_eps+m.ulp(s),this.m_value=s,this}mulThis(t){let s=this.m_value*t;return this.m_eps=this.m_eps*Math.abs(t)+m.ulp(s),this.m_value=s,this}mul(t){return this.clone().mulThis(t)}mulE(t){return this.clone().mulThisE(t)}setMulE(t,s){let e=t.m_value*s.m_value;return this.m_eps=t.m_eps*Math.abs(s.m_value)+s.m_eps*Math.abs(t.m_value)+t.m_eps*s.m_eps+m.ulp(e),this.m_value=e,this}setMul(t,s){return this.m_value=t*s,this.m_eps=m.ulp(this.m_value),this}setMulEN(t,s){return this.setE(t),this.mulThis(s)}setMulNE(t,s){return this.setE(s),this.mulThis(t)}mulThisByPower2(t){return this.m_value*=t,this.m_eps*=Math.abs(t),this}static st_mulByPower2(t,s){return new m(t.m_value,t.m_eps).mulThisByPower2(s)}divE(t){return this.clone().divThisE(t)}divThisE(t){let s=Math.abs(t.m_value),e=this.m_value/t.m_value,i=(this.m_eps+Math.abs(e)*t.m_eps)/s;if(t.m_eps>.01*s){let e=t.m_eps/s;i*=1+(1+e)*e}return this.m_value=e,this.m_eps=i+m.ulp(e),this}divThis(t){let s=Math.abs(t);return this.m_value/=t,this.m_eps=this.m_eps/s+m.ulp(this.m_value),this}setDivE(t,s){return this.setE(t),this.divThisE(s)}setDiv(t,s){return this.m_value=t/s,this.m_eps=m.ulp(this.m_value),this}setDivEN(t,s){return this.setE(t),this.divThis(s)}setDivNE(t,s){return this.set(t),this.divThisE(s)}divThisByPower2(t){return this.m_value/=t,this.m_eps/=Math.abs(t),this}invThis(){return this.setE(b.clone().divThisE(this)),this}sqrt(){return this.clone().sqrtThis()}sqrtThis(){let t,s;return this.m_value>=0?(t=Math.sqrt(this.m_value),s=(this.m_value>10*this.m_eps?.5*this.m_eps/t:this.m_value>this.m_eps?t-Math.sqrt(this.m_value-this.m_eps):Math.max(t,Math.sqrt(this.m_value+this.m_eps)-t))+m.ulp(t)):this.m_value<-this.m_eps?(t=Number.NaN,s=Number.NaN):(t=0,s=Math.sqrt(this.m_eps)),this.m_value=t,this.m_eps=s,this}sqr(){return this.clone().sqrThis()}sqrThis(){let t=this.m_value*this.m_value;return this.m_eps=2*this.m_eps*Math.abs(this.m_value)+this.m_eps*this.m_eps+m.ulp(t),this.m_value=t,this}setSin(t){let s=Math.sin(t.m_value),e=Math.cos(t.m_value);this.m_value=s;let i=Math.abs(s),r=Math.abs(t.value());return this.m_eps=(Math.abs(e)+.5*i*t.m_eps)*t.m_eps+m.ulp(i+r),this}static ulp(t){var s;let e=tB(t),i=((0x7ff0000000000000n&e)>>52n)-1075n;return i>-1023n?(s=e=i+1023n<<52n,tZ[0]=s,tS[0]):0===t?0:Number.MIN_VALUE}setCos(t){let s=Math.sin(t.m_value),e=Math.cos(t.m_value);this.m_value=e;let i=Math.abs(e),r=Math.abs(t.value());return this.m_eps=(Math.abs(s)+.5*i*t.m_eps)*t.m_eps+m.ulp(i+r),this}static st_cosAndSin(t,s,e){let i=Math.sin(t.m_value),r=Math.cos(t.m_value);e.m_value=i,s.m_value=r;let n=Math.abs(i),h=Math.abs(r),o=Math.abs(t.value());e.m_eps=(Math.abs(r)+.5*n*t.m_eps)*t.m_eps+m.ulp(n+o),s.m_eps=(Math.abs(i)+.5*h*t.m_eps)*t.m_eps+m.ulp(h+o)}negate(){return this.clone().negateThis()}negateThis(){return this.m_value=-this.m_value,this}setAbs(){return this.m_value=Math.abs(this.m_value),this}isInInterval(t){return l.construct(this.m_value-this.m_eps,this.m_value+this.m_eps).isIntersecting(t)}eq(t){return Math.abs(this.m_value-t.m_value)<=this.m_eps+t.m_eps}ne(t){return!this.eq(t)}gt(t){return this.m_value-t.m_value>this.m_eps+t.m_eps}lt(t){return t.m_value-this.m_value>this.m_eps+t.m_eps}ge(t){return!this.lt(t)}le(t){return!this.gt(t)}tolEQ(t,s){return Math.abs(this.m_value-t.m_value)<=s||this.eq(t)}tolNE(t,s){return!this.tolEQ(t,s)}tolGT(t,s){return this.m_value-t.m_value>s&&this.gt(t)}tolLT(t,s){return t.m_value-this.m_value>s&&this.lt(t)}tolGE(t,s){return!this.tolLT(t,s)}tolLE(t,s){return!this.tolGT(t,s)}isZero(){return Math.abs(this.m_value)<=this.m_eps}isFuzzyZero(){return this.isZero()&&0!==this.m_eps}tolIsZero(t){return Math.abs(this.m_value)<=Math.max(this.m_eps,t)}setPi(){this.setE(f)}setEuler(){this.set(2.718281828459045,ss())}static size(){return 1}}function y(t,s){let e=tG(t),i=tG(s),r=53-u(e),n=53-u(i);return(r>=0?r:0)+(n>=0?n:0)<=52}function c(t,s){let e=t+s;return e-t===s&&e-s===t}function x(t,s){let e=t-s;return t-e===s&&s+e===t}m.dimensions=1;let f=new m(Math.PI,.5*ss()),d=new m(0,0),b=new m(1,0),v=new m(4,0);function _(t,s,e){return t.addE(s.subE(t).mulE(e))}function w(t,s,e){return s.subE(s.subE(t).mulE(b.subE(e)))}function N(t){let s;if(0===t)s=1;else if(Math.abs(t)>.01)s=Math.atanh(t)/t;else{s=0;let e=t*t;for(let t=2*Math.trunc(-36.841361487904734/Math.log(e)+2.5)-1;t>1;t-=2)s=(s+1/t)*e;s+=1}return s}function p(t,s){let e=s*t;if(.1>Math.abs(s)){let s=0;for(let t=60;t>=1;t--)s*=e,s+=1/t/t;return s*t}return function t(s){let e,i=Math.PI*Math.PI/6;if(1===s)e=i;else if(s>1)e=i;else if(0===s)e=s;else if(s<0){let i=1+(s=Math.abs(s)),r=Math.log(i);e=-(r*r/2)-t(s/i)}else if(s>.5){let r=1-s,n=Math.log(s)*Math.log(r);e=i-t(r)-n}else{e=0;let t=1+Math.trunc(-16*Math.log(10)/Math.log(s)+1.5),i=t;for(let r=t;r>0;r--,i-=1)e*=s,e+=1/(i*i);e*=s}return e}(e)/s}function M(t,s){return t<s?tI(t,s):tI(s,t)}function g(t,s){let e=Math.abs(t);return s>=0?e:-e}function C(t){return Math.round(t)}function T(t,s,e,i,r){r[0]=s[0]+(e[0]-s[0])*i,r[1]=s[1]+(e[1]-s[1])*i,3===t&&(r[2]=s[2]+(e[2]-s[2])*i)}function R(t,s,e,i,r){r[0]=e[0]-(e[0]-s[0])*(1-i),r[1]=e[1]-(e[1]-s[1])*(1-i),3===t&&(r[2]=e[2]-(e[2]-s[2])*(1-i))}function E(t,s,e,i,r){i<=.5?T(t,s,e,i,r):R(t,s,e,i,r)}function I(t,s,e,i,r){r[0]=s[0].addE(e[0].subE(s[0]).mulE(i)),r[1]=s[1].addE(e[1].subE(s[1]).mulE(i))}function P(t,s,e,i,r){r[0]=e[0].subE(e[0].subE(s[0]).mulE(b.subE(i))),r[1]=e[1].subE(e[1].subE(s[1]).mulE(b.subE(i)))}function D(t,s,e){return e<=.5?t+(s-t)*e:s-(s-t)*(1-e)}function A(t,s,e){return t+(s-t)*e}function q(t,s,e){return s-(s-t)*(1-e)}function z(t,s,e,i){e<=.5?(i.x=t.x+(s.x-t.x)*e,i.y=t.y+(s.y-t.y)*e):(i.x=s.x-(s.x-t.x)*(1-e),i.y=s.y-(s.y-t.y)*(1-e))}function S(t,s,e,i){e<=.5?(i.x=t.x+(s.x-t.x)*e,i.y=t.y+(s.y-t.y)*e,i.z=t.z+(s.z-t.z)*e):(i.x=s.x-(s.x-t.x)*(1-e),i.y=s.y-(s.y-t.y)*(1-e),i.z=s.z-(s.z-t.z)*(1-e))}function Z(t){return t*t}function F(t){return t*t*t}function B(t){return 1/Math.sqrt(t)}function G(t){return t<0?-1:+(t>0)}function L(t,s,e,i){let r=[0],n=[0],h=[0];return J(Y(t,e,r),Y(s,i,n),h)+(r[0]+n[0]+h[0])}let k=[0],O=[0];function U(t,s,e){return function(t,s,e,i){let r=J(t,s,$),n=J(r,e,H);return J(n,$[0]+H[0],i)}(Y(t,s,k),e,k[0],O)}let Q=[0],V=[0],j=[0],W=[0];function Y(t,s,e){let i=t*s;return X(t,Q,V),X(s,j,W),e[0]=V[0]*W[0]-(i-Q[0]*j[0]-V[0]*j[0]-Q[0]*W[0]),i}function X(t,s,e){let i=0x8000001*t;s[0]=i-(i-t),e[0]=t-s[0]}let $=[0],H=[0];function J(t,s,e){let i=t+s;return Math.abs(t)>Math.abs(s)?e[0]=t-i+s:e[0]=s-i+t,i}function K(t,s){return t%s}function tt(t){let s,e=1-t;if(0===e)return 1;if(e<=.01){let t=Math.log(e);s=1+e*(.4431471805599453-.25*t+e*(.05680519270997949-.09375*t+e*(.02183137044373718-.05859375*t+e*(.011544521417308362-.042724609375*t+e*(.00714200031339596-.0336456298828125*t+e*(.004854743337164948-.027757644653320313*t+e*(.003514687963781376-.023627042770385742*t)))))))}else{if(t<.016)return tA*(1-t*(.25+t*(.046875+t*(.01953125+t*(.01068115234375+t*(.0067291259765625+t*(.004626274108886719+t*(.0033752918243408203+.0025710230693221092*t))))))));s=ti(0,e,1)-t*tr(0,e,1)/3}return si(s,1,tA)}function ts(t,s,e=Number.NaN){let r;if((0,i.g)(s>=0&&s<=1),0===s)return t;let n=1,h=t;if(h<0&&(h=-h,n=-1),1===s){let t=Math.round(h/tP),s=h-t*tP;return n*(2*t+Math.sin(s))}let o=Math.floor(h/tA);1&o?h=(o+1)*tA-h:h-=o*tA;let u=Math.sin(h),l=Number.isNaN(e)?tt(s):e;if(1===u)r=l+Math.sqrt(1-s)*(h-tA);else{let t=h*h;if(.01424*Math.pow(t,4)<=2*ss())r=h*(1+t*s*(-1/6+t*((4-3*s)/120-(16+(45*s-60)*s)/5040*t)));else if(s<=.01){let t=Math.sin(2*h),e=Math.sin(4*h),i=Math.sin(6*h),n=Math.sin(8*h),o=Math.sin(10*h);r=h+s*((-(2*h)+t)/8+s*((-3*h+2*t-.25*e)/64+s*((-20*h+15*t-3*e+i/3)/1024+s*(5*(-140*h+112*t-28*e+16/3*i-.5*n)/65536+7*s*((-63*h+52.5*t-15*e+3.75*i-.625*n+.05*o)/65536+s*(-693*h+594*t-185.625*e+1.375*i-12.375*n+1.8*o-.125*Math.sin(12*h))/1048576)))))}else{let t=u*u,e=Math.cos(h),i=e*e,n=tn(u,e,s);r=u*(ti(i,n,1)-s*t*tr(i,n,1)/3)}}return 1&o?r=l*(o+1)-r:r+=l*o,n*r}function te(t,s,e=Number.NaN){if(0===t)return 0;let i=1,r=t;t<0&&(r=-r,i=-1);let n=Number.isNaN(e)?tt(s):e,h=Math.floor(r/n);1&h?r=(h+1)*n-r:r-=h*n;let o=r<=0?0:r>=n?tA:function(t,s,e){if(0===s)return t;if(1===s)return Math.asin(t);let i=0,r=!0;if(t<.2){let e=t*t,n=t*(1+e*s*(1/6+e*((13*s-4)/120+(16-284*s+493*s*s)/5040*e))),h=Math.abs(s*(4944*s-64-31224*s*s+37369*s*s*s)/362880*Math.pow(t,9));if(h<Math.abs(n)*ss())return n;i=n,r=h>.1*n}if(r){let r=1-s,n=1-t/e,h=Math.sqrt(n*n+r*r),o=Math.atan2(r,t+ss());i=function(){return tA}()+Math.sqrt(h)*(o-function(){return tA}())}let n=0;for(let r=0;r<7;r++){n=ts(i,s,e);let h=tn(Math.sin(i),Math.cos(i),s);if(i-=(n-t)/Math.sqrt(h),r>0&&Math.abs(n-t)<=4*ss()*t)break}return i}(r,s,n);return 1&h?o=tA*(h+1)-o:o+=tA*h,i*o}function ti(t,s,e){(0,i.g)(+(0!==t)+ +(0!==s)+1>1);let r=t,n=s,h=e;for(;;){let t=Math.sqrt(r*n)+Math.sqrt(n*h)+Math.sqrt(h*r);r=.25*(r+t);let s=(r+(n=.25*(n+t))+(h=.25*(h+t)))/3,e=(s-r)/s,i=(s-n)/s,o=(s-h)/s;if(.0024>=Math.abs(e)&&.0024>=Math.abs(i)&&.0024>=Math.abs(o)){let t=e*i-o*o,r=e*i*o;return(1+(1/24*t-.1-3/44*r-5*t*t/208+t*r/16)*t+(1/14+3*r/104)*r)/Math.sqrt(s)}}}function tr(t,s,e){(0,i.g)(0!==t||0!==s);let n=t,h=s,o=e,u=new r(0),l=1;for(;;){let t=.2*(n+h+3*o),s=(t-n)/t,e=(t-h)/t,i=(t-o)/t;if(.0015>=Math.abs(s)&&.0015>=Math.abs(e)&&.0015>=Math.abs(i)){let r=s*e,n=i*i,h=r-n,o=r-6*n,a=o+h+h,m=o*(9/22*.25*o-.21428571428571427-3/26*1.5*i*a),y=i*(1/6*a+i*(-.4090909090909091*h+3/26*i*r));return 3*u.getResult()+l*(1+m+y)/(t*Math.sqrt(t))}let r=Math.sqrt(h),a=Math.sqrt(o),m=Math.sqrt(n)*(r+a)+r*a;u.add(l/(a*(o+m))),l*=.25,n=.25*(n+m),h=.25*(h+m),o=.25*(o+m)}}function tn(t,s,e){return t<.999?1-t*t*e:1-e+s*s*e}function th(t,s,e,r,n){return 0===t?0===r?s:1===r?e:n:1===t?0===r?s:1===r?e:D(s,e,r):(2===t&&(0,i.b)("angular interpolation"),void(0,i.b)(""))}function to(t,s,e,r,n,h,o,u){if(0===t)for(let t=0;t<h;++t)r[t+n]=0===o?s[t]:1===o?e[t]:u;else if(1===t)if(0===o)tu(r,s,n,0,h);else if(1===o)tu(r,e,n,0,h);else for(let t=0;t<h;++t)r[t+n]=D(s[t],e[t],o);else if(2===t)if(0===o)tu(r,s,n,0,h);else if(1===o)tu(r,e,n,0,h);else{let t=0;for(let i=0,u=n;i<h;++i,++u)r[u]=D(s[i],e[i],o),t+=r[u]*r[u];if(t>0){t=Math.sqrt(t);for(let s=n;s<n+h;++s)r[s]/=t}else{for(let t=n;t<n+h;++t)r[t]=0;r[n]=1}}else(0,i.b)("")}function tu(t,s,e,i,r){if(0===r)return;let n=0,h=e,o=i;for(;n++<r;)t[h++]=s[o++]}function tl(t,s,e){let i=0;for(let r=0;!i&&r<e;++r)i=t[r]-s[r];return i}function ta(t,s){return t}function tm(t){t.sort((t,s)=>t<s?-1:+(t>s))}function ty(t,s){let e=t.slice(0,s);tm(e),tu(t,e,0,0,s)}function tc(t,s,e,i){let r=t.slice(s,s+e);r.sort(i),tu(t,r,s,0,e)}function tx(t,s){return t<s?-1:+(t>s)}function tf(t,s,e,i){return t<e?-1:t>e?1:s<i?-1:+(s>i)}function td(t,s){if(t.length<2)return t.length;let e=0;for(let n=1;n<t.length;++n){var i,r;s(t[n],t[e])||(e++,t[n]=(i=t[e],t[e]=t[n],i))}return 1+e}function tb(t,s){t[s]=t.at(-1),t.pop()}function tv(t,s=!1){return{[Symbol.dispose](){this.bForget||t()},bForget:s}}function t_(t,s,e){t.length=s,t.fill(e)}function tw(t,s,e){t.length=e;for(let i=0;i<e;++i)t[i]=new s}function tN(t,s){let e=Array(s);for(let i=0;i<s;++i)e[i]=new t;return e}function tp(t,s,e){for(let i=0;i<e;++i)t[i].assign(s[i]);return e}function tM(t,s){let e=t.slice(0,s);for(let t=0;t<s;++t)e[t]=e[t].clone();return e}function tg(t){return Array.from({length:t},()=>null)}function tC(t,s){return Array.from({length:s},()=>t())}function tT(t,s){let e=Array(t);return e.fill(s),e}function tR(t,s){return s in t&&1===Object.getOwnPropertyNames(t).length}class tE{constructor(...t){this.m_elts=t}get length(){return this.m_elts.length}at(t){return this.m_elts[t]}[Symbol.dispose](){for(let t of this.m_elts)t[Symbol.dispose]()}}function tI(t,s){return{first:t,second:s}}let tP=Math.PI,tD=2*Math.PI,tA=.5*Math.PI;class tq{constructor(t,s){this.m_cr=t,this.m_cc=s,this.m_v=tT(t*s,0)}get(t,s){return this.m_v[t*this.m_cc+s]}set(t,s,e){this.m_v[t*this.m_cc+s]=e}inc(t,s){return++this.m_v[t*this.m_cc+s]}}let tz=new ArrayBuffer(8),tS=new Float64Array(tz),tZ=new BigUint64Array(tz);function tF(){return Number.EPSILON*t9}function tB(t){return tS[0]=t,tZ[0]}function tG(t){return 4503599627370495n&tB(t)}function tL(t){return Number((0x7ff0000000000000n&tB(t))>>52n)}function tk(t){if(0n===t)return-1n;if(1n===t||-1n===t)return 0n;t<0n&&(t=-t);let s=0n,e=512n,i=1n<<s+e;for(;t>=i;)s+=e,e<<=1n,i<<=e;let r=s,n=r+(e>>=1n);for(;e>0n;)t<1n<<n||(r=n),e>>=1n,n=r+e;return r}function tO(t,s){return t===s||Number.isNaN(t)&&Number.isNaN(s)}function tU(t,s,e){return t===s||Math.abs(t-s)<=e||Number.isNaN(t)&&Number.isNaN(s)}function tQ(t,s){return t<s?-1:+(t>s)}function tV(t,s){if(t<s)return -1;if(t>s)return 1;if(t===s)return 0;{let e=Number.isNaN(t),i=Number.isNaN(s);return e<i?-1:+(e>i)}}function tj(){return 0x7fffffff}function tW(){return 32767}function tY(){return 0x7fffffff}function tX(){return -0x80000000}let t$=tY(),tH=BigInt(t$);function tJ(t){let s=0x811c9dc5;for(let e=0,i=t.length;e<i;++e)s=(s^t.charCodeAt(e))*0x1000193;return s&t$}function tK(t,s){return s+0x9e3779b9+(t<<6)+(t>>2)&t$}function t0(t,s){return tK(t,t3(s))}function t1(t){return tK(0xdeadbeef,t)}function t2(t,s){return tK(t,t1(s))}function t5(t){let s,e;return s=0x811c9dc5,s=(0x811c9dc5^255&(e=t))*0x1000193,e>>=8,s=(s^255&e)*0x1000193,e>>=8,s=(s^255&e)*0x1000193,e>>=8,(s=(s^255&e)*0x1000193)&t$}function t3(t){let s,e;return Number((s=((s=0xcbf29ce484222325n)^255n&(e=t))*1099511628211n,e>>=8n,s=(s^255n&e)*1099511628211n,e>>=8n,s=(s^255n&e)*1099511628211n,e>>=8n,s=(s^255n&e)*1099511628211n,e>>=8n,s=(s^255n&e)*1099511628211n,e>>=8n,s=(s^255n&e)*1099511628211n,e>>=8n,(s=(s^255n&e)*1099511628211n)&tH))}function t4(t){return t3(tB(t+0))}function t6(t){return 0x41c64e6d*t+12345&0x7fffffff}let t9=100;function t8(){return 100*Number.EPSILON}function t7(){return .38196601125010515}function st(){return 1.4142135623730951}function ss(){return Number.EPSILON}function se(t,s,e){return t===s||t===e}function si(t,s,e){return t>=s?t<=e?t:e:s}function sr(t,s,e){let i=t[0];if(i>=s){if(i<=e)return!1;t[0]=e}else t[0]=s;return!0}function sn(t,s){return t>=s?s:t<-s?-s:t}function sh(){return tP}function so(){return tD}function su(){return tA}let sl=3*tA;function sa(){return sl}function sm(t){return t+0}class sy{constructor(){this.m_rn={v:0n},this.m_rd={v:1n},this.m_bNaN=!1,this.m_bNormalized=!1,this.m_power=0,this.m_sign=0}static constructAssign(t,s){let e=t.clone();return void 0!==s&&e.limitPrecisionThis(s),e}static constructDouble(t){return(new sy).setDouble(t)}static constructInt64(t){return(new sy).setInt64(t)}static constructRational(t,s){return(new sy).setRational(t,s)}static constructInt32(t){return this.constructInt64(BigInt(Math.trunc(t)))}[Symbol.toPrimitive](t){return this}compare(t){return this.lt(t)?-1:+!!this.gt(t)}assignCopy(t){return this.setThis(t)}abs(){return this.clone().absThis()}absThis(){return this.isNAN()||(this.m_sign*=this.m_sign),this}clone(){return(new sy).setThis(this)}setThis(t){return this.m_bNaN=t.m_bNaN,this.m_bNormalized=t.m_bNormalized,this.m_rn.v=t.m_rn.v,this.m_rd.v=t.m_rd.v,this.m_power=t.m_power,this.m_sign=t.m_sign,this}setZero(){return this.m_rn.v=0n,this.m_rd.v=1n,this.m_bNaN=!1,this.m_power=0,this.m_bNormalized=!0,this.m_sign=0,this}setDouble(t){if(this.setZero(),0===t)return this;if(Number.isInteger(t)&&Math.abs(t)<tY())return this.setInt32(t);let s=tB(t),e=(s&sy.s_em)>>52n,r=!!(s&sy.s_sm),n=s&sy.s_fm;if(e===sy.s_emax)return n?(this.m_rn.v=this.m_rd.v=0n,this.m_bNaN=!0):(this.m_rn.v=r?-1n:1n,this.m_rd.v=0n),this;0n===e&&(0,i.b)("denormalized numbers not yet implemented");let h=e-1023n;return this.m_rn.v=(1n<<52n|n)<<(h>=0n?h:0n),this.m_rd.v=1n<<52n+(h<0n?-h:0n),this.m_sign=r?-1:1,this.m_bNormalized=!1,this.normalizeThis()}setInt64(t){return 0n===t?this.setZero():(this.m_bNaN=!1,this.m_sign=t>0n?1:-1,this.m_rn.v=t>0n?t:-t,this.m_rd.v=1n,this.m_power=0,this.m_bNormalized=!1,this.normalizeThis())}setRational(t,s){return 0n===t?0n===s?this.setNAN():this.setZero():0n===s?t>0n?this.setPositiveInf():this.setNegativeInf():(this.m_sign=(t>0n?1:-1)*(s>0n?1:-1),this.m_rn.v=t>0n?t:-t,this.m_rd.v=s>0n?s:-s,this.m_power=0,this.m_bNormalized=!1,this.normalizeThis())}setInt32(t){return this.setInt64(BigInt(Math.trunc(t)))}getDouble(){return this.convertToDouble()}toDouble(){return this.convertToDouble()}value(){return this.convertToDouble()}isNAN(){return this.m_bNaN}isPositiveInf(){return!this.isNAN()&&0n===this.m_rd.v&&1===this.m_sign}isNegativeInf(){return!this.isNAN()&&0n===this.m_rd.v&&-1===this.m_sign}isFinite(){return!this.isNAN()&&0n!==this.m_rd.v}setNAN(){return this.m_bNaN=!0,this.m_rn.v=0n,this.m_rd.v=0n,this.m_power=0,this.m_bNormalized=!0,this}setPositiveInf(){return this.m_rn.v=1n,this.m_rd.v=0n,this.m_bNaN=!1,this.m_bNormalized=!0,this.m_sign=1,this.m_power=0,this}setNegativeInf(){return this.m_rn.v=1n,this.m_rd.v=0n,this.m_bNaN=!1,this.m_bNormalized=!0,this.m_sign=-1,this.m_power=0,this}subThis(t){if(t.isNAN()&&this.setNAN(),this.isPositiveInf()&&t.isPositiveInf())this.setNAN();else{if(this.isPositiveInf()&&t.isNegativeInf())return this.setPositiveInf(),this;if(this.isNegativeInf()&&t.isNegativeInf())this.setNAN();else if(this.isNegativeInf()&&t.isPositiveInf())return this.setNegativeInf(),this}return this.isNAN()?this:this.opPlusMinus(t,!1)}thisSubAbs(t){return(0,i.g)(0),this}mulThis(t){return t.isNAN()&&this.setNAN(),this.isNAN()?this:(this.m_sign*=t.m_sign,0===this.m_sign?this.setZero():(this.m_rn.v*=t.m_rn.v,this.m_rd.v*=t.m_rd.v,this.m_power+=t.m_power,this.m_bNormalized=!1,this.normalizeThis(),this))}mulDoubleThis(t){return this.mulThis(sy.constructDouble(t))}thisMulInt64(t){return(0,i.g)(0),this}thisMulInt32(t){return(0,i.g)(0),this}divThis(t){return this.mulThis(t.clone().invertThis())}divDoubleThis(t){return this.divThis(sy.constructDouble(t))}addDoubleThis(t){return this.addThis(sy.constructDouble(t))}subDoubleThis(t){return this.subThis(sy.constructDouble(t))}mul(t){return this.clone().mulThis(t)}mulBigIntThis(t){return this.mulThis(sy.constructInt64(t))}mulDouble(t){return this.clone().mulThis(sy.constructDouble(t))}div(t){return this.clone().divThis(t)}divDouble(t){return this.clone().divDoubleThis(t)}add(t){return this.clone().addThis(t)}fmSubThis(t,s){return this.subThis(t.clone().mulThis(s))}fmAddThis(t,s){return this.addThis(t.clone().mulThis(s))}addThis(t){if(t.isNAN()&&this.setNAN(),this.isPositiveInf()&&t.isPositiveInf())return this.setPositiveInf(),this;if(this.isPositiveInf()&&t.isNegativeInf())this.setNAN();else{if(this.isNegativeInf()&&t.isNegativeInf())return this.setNegativeInf(),this;this.isNegativeInf()&&t.isPositiveInf()&&this.setNAN()}return this.isNAN()?this:this.opPlusMinus(t,!0)}addDouble(t){return this.clone().addThis(sy.constructDouble(t))}sub(t){return this.clone().subThis(t)}subDouble(t){return this.clone().subThis(sy.constructDouble(t))}isZero(){return 0===this.m_sign}equals(t){return this.clone().subThis(t).isZero()}lt(t){return!this.isNAN()&&!t.isNAN()&&!(this.isPositiveInf()&&t.isPositiveInf()||this.isNegativeInf()&&t.isNegativeInf())&&!this.isPositiveInf()&&(!!t.isPositiveInf()||this.clone().sub(t).LZ())}absLessAbs(t){return this.abs().lt(t.abs())}gt(t){return this.clone().sub(t).GZ()}lte(t){return this.sub(t).LEZ()}gte(t){return this.sub(t).GEZ()}normalizeThis(){if(this.m_bNormalized)return this;if(0n===this.m_rn.v)return this.setZero();let t=0,s=4294967295n;for(;0n===(this.m_rn.v&s)&&s<=this.m_rn.v;)s<<=32n,t+=32;s&=this.m_rn.v,s>>=BigInt(t),t+=o(BigInt.asUintN(32,s))-1;let e=0;for(s=4294967295n;0n===(this.m_rd.v&s)&&s<=this.m_rd.v;)s<<=32n,e+=32;return s&=this.m_rd.v,s>>=BigInt(e),e+=o(BigInt.asUintN(32,s))-1,this.m_rn.v>>=BigInt(t),this.m_rd.v>>=BigInt(e),this.m_power+=t-e,this.m_rn.v>1n&&this.m_rd.v>1n&&(this.m_rn.v%this.m_rd.v===0n?(this.m_rn.v/=this.m_rd.v,this.m_rd.v=1n):this.m_rd.v%this.m_rn.v===0n&&(this.m_rd.v/=this.m_rn.v,this.m_rn.v=1n)),this.m_bNormalized=!0,this}negateThis(){return this.isNAN()||(this.m_sign*=-1),this}negate(){return this.clone().negateThis()}invertThis(){var t,s;return this.isNAN()||(this.isPositiveInf()||this.isNegativeInf()?this.setZero():0n===this.m_rn.v?this.setPositiveInf():(this.m_rd=(t=this.m_rn,this.m_rn=this.m_rd,t),this.m_power=-this.m_power)),this}limitPrecisionThis(t){if(0===t)return this;if(this.isZero())return this.setZero();if(!this.isFinite())return this;this.normalizeThis();let s=Number(tk(this.m_rn.v));if(s>t){let e=s-t;this.m_rn.v>>=BigInt(s-t),this.m_power+=e}if((s=Number(tk(this.m_rd.v)))>t){let e=s-t;this.m_rd.v>>=BigInt(s-t),this.m_power-=e}return this}hiBitIndex(){return Math.max(Number(tk(this.m_rn.v)),Number(tk(this.m_rd.v)))}ldexp(t){return this.clone().ldexpThis(t)}ldexpThis(t){return t&&(this.m_bNormalized=!1,this.m_power+=t,this.normalizeThis()),this}LZ(){return!this.isNAN()&&-1===this.m_sign}GZ(){return!this.isNAN()&&1===this.m_sign}LEZ(){return!this.isNAN()&&this.m_sign<=0}GEZ(){return!this.isNAN()&&this.m_sign>=0}toString(){return this.toDouble().toString()}sqr(){return this.clone().sqrThis()}sqrThis(){return this.mulThis(this.clone())}static sqrt(t,s){let e;if(t.m_sign<0n&&(0,i.n)("MP_value: sqrt(-1)"),t.isZero())return t.clone();let r=52,n=2220446049250313e-31;for(;r<s;)2*r<=s?(n*=n,r*=2):(n*=2220446049250313e-31,r+=52);r+=52;let h=tk(t.m_rn.v),o=tk(t.m_rd.v),u,l=t.m_power+Number(h-o),a=new sy;Math.abs(l)>200?(1&Math.abs(l)&&(l+=1),u=sy.constructAssign(t,53).ldexpThis(-l).value(),a.setThis(t).ldexpThis(-l),(0,i.g)(Number.isFinite(u))):(a.setThis(t),u=a.value(),(0,i.g)(Number.isFinite(u)),l=0),u=Math.sqrt(u);let m=sy.constructDouble(u),y=sy.constructDouble(n);y.mulThis(m).ldexpThis(1);let c=n*u*2,x=m.clone(),f=new sy;for(let t=0;t<10;++t){x.mulThis(m),f.setThis(a).subThis(x).absThis();let t=f.value();if(e=1,t<.9)for(;t>c;)t*=t,++e;else e=4;if(f.lte(y))break;for(let t=0;t<e;t++)x.setThis(m).divThis(a).invertThis().addThis(m).ldexpThis(-1).limitPrecisionThis(r),m.setThis(x)}return m.ldexpThis(l/2)}static cubicRoot(t,s){if(t.isZero())return t.clone();let e=52,i=2220446049250313e-31;for(;e<s;)2*e<=s?(i*=i,e*=2):(i*=2220446049250313e-31,e+=52);e+=52;let r=Math.pow(Math.abs(t.value()),1/3),n=sy.constructDouble(r),h=n.clone();h.sqrThis().mulDoubleThis(3).mulDoubleThis(i),h.limitPrecisionThis(32),t.LZ()&&n.negateThis();for(let s=0;s<10;++s){let s=n.clone();s.sqrThis().mulThis(n);let i=s.clone();if(i.subThis(t),i.absThis().limitPrecisionThis(32),i.lte(h))break;i.setThis(t),i.ldexpThis(1),i.addThis(s);let r=s.clone();r.ldexpThis(1),r.addThis(t),i.divThis(r),n.mulThis(i),n.limitPrecisionThis(e)}return n}isInTheRangeOfDouble(){return(0,i.g)(0),!1}sign(){return this.m_sign}cosAndSin(t,s){(0,i.g)(0)}static nan(){return(0,i.g)(0),new sy}convertToDouble(){if(this.m_bNaN)return Number.NaN;if(this.isZero())return 0;if(0n===this.m_rd.v)return 1===this.m_sign?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY;let t=-1===this.m_sign,s=this.m_rn.v<<(this.m_power>=0?BigInt(this.m_power):0n),e=this.m_rd.v<<(this.m_power<0?BigInt(-this.m_power):0n),i=s/e,r=Number(i);if(BigInt(r)!==i)return t?-r:r;let n=s-i*e;if(n){let t=tk(e)-1023n;t>0n&&(e>>=t,n<<=52n,n>>=t);let s=Number(n);Number.isFinite(s)||(n>>=52n,s=Number(n),t=0n),t>0n&&(s/=0x10000000000000),r+=s/Number(e)}return t?-r:r}signVal(){return 1===this.m_sign?1n:-1===this.m_sign?-1n:0n}opPlusMinus(t,s){let e,i,r=Math.min(this.m_power,t.m_power);this.m_power>r?(e=BigInt(this.m_power-r),i=0n):(e=0n,i=BigInt(t.m_power-r));let n=this.signVal()*this.m_rn.v*t.m_rd.v<<e,h=t.signVal()*t.m_rn.v*this.m_rd.v<<i;return this.m_rn.v=s?n+h:n-h,this.m_rd.v*=t.m_rd.v,this.m_power=r,this.m_sign=1,this.m_rn.v<0n&&(this.m_sign=-1,this.m_rn.v=-this.m_rn.v),this.m_bNormalized=!1,this.normalizeThis(),this}}sy.s_sm=0x8000000000000000n,sy.s_em=0x7ff0000000000000n,sy.s_fm=4503599627370495n,sy.s_emax=2047n;let sc=sy.constructInt32(1),sx=sy.constructInt32(0);function sf(t,s){for(let e=0,i=0,r=t.length;e<r;e+=2,i++)s[i].x=t[e],s[i].y=t[e+1]}function sd(t){let s=new Float64Array(2*t.length);for(let e=0,i=t.length;e<i;++e){let i=e<<1;s[i]=t[e].x,s[i+1]=t[e].y}return s}function sb(t){let s=tN(sv,t.length);for(let e=0,i=t.length;e<i;++e)s[e].setCoords(t[e][0],t[e][1]);return s}class sv{static construct(t,s){return new sv(t,s)}constructor(t,s){void 0!==t?(this.x=t,this.y=s):this.x=this.y=Number.NaN}clone(){return new sv(this.x,this.y)}assign(t){this.setCoordsPoint2D(t)}setCoords(t,s){return this.x=t,this.y=s,this}setCoordsPoint2D(t){this.x=t.x,this.y=t.y}isEqualPoint2D(t,s){return void 0!==s?Math.abs(this.x-t.x)<=s&&Math.abs(this.y-t.y)<=s:this.x===t.x&&this.y===t.y}isEqual(t,s,e){return void 0!==e?Math.abs(this.x-t)<=e&&Math.abs(this.y-s)<=e:this.x===t&&this.y===s}equalsPoint2D(t,s){return this.isEqualPoint2D(t,s)}setSub(t,s){this.x=t.x-s.x,this.y=t.y-s.y}addThis(t){return this.x+=t.x,this.y+=t.y,this}setAdd(t,s){return this.x=t.x+s.x,this.y=t.y+s.y,this}absoluteOther(t){}absolute(){return(0,i.g)(0),this}setNegate(){this.x=-this.x,this.y=-this.y}setNegateOther(t){this.x=-t.x,this.y=-t.y}interpolateThis(t,s){}interpolate(t,s,e){(0,i.g)(0)}scaleAddThis(t,s){this.x=this.x*t+s.x,this.y=this.y*t+s.y}setScaleAdd(t,s,e){this.x=s.x*t+e.x,this.y=s.y*t+e.y}scaleOther(t,s){(0,i.g)(0)}scale(t){this.x*=t,this.y*=t}compare(t){return this.y<t.y?-1:this.y>t.y?1:this.x<t.x?-1:+(this.x>t.x)}compareX(t){return this.x<t.x?-1:this.x>t.x?1:this.y<t.y?-1:+(this.y>t.y)}normalizeOther(t){(0,i.g)(0)}normalize(){let t=this.length();return t?(this.x/=t,this.y/=t):(this.x=1,this.y=0),this}getUnitVector(){return this.clone().normalize()}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}sqrLength(){return this.x*this.x+this.y*this.y}static averageFast(t,s){return(0,i.g)(0),{}}static average(t,s){let e=new sv;if(0===s)return e.setNAN(),e;if(1===s)return e.assign(t[0]),e;let i=new r(t[0].x),n=new r(t[0].y);for(let e=1;e<s;e++)i.add(t[e].x),n.add(t[e].y),255&e||(i.normalize(),n.normalize());return e.x=i.getResult()/s,e.y=n.getResult()/s,e}offset(t,s){let e=sv.distance(t,s),i=sv.construct(this.x,this.y);if(0===e)return sv.distance(i,t);let r=s.clone();return r.subThis(t),i.subThis(t),i.crossProduct(r)/e}side(t,s){return t.equals(s)?+!this.equals(t):sv.orientationRobust(s,t,this)}static sqrDistance(t,s){let e=t.x-s.x,i=t.y-s.y;return e*e+i*i}static sqrDistanceCoords(t,s,e,i){let r=e-t,n=i-s;return r*r+n*n}static distance(t,s){return Math.sqrt(sv.sqrDistance(t,s))}dotProduct(t){return this.x*t.x+this.y*t.y}dotProductAbs(t){return Math.abs(this.x*t.x)+Math.abs(this.y*t.y)}crossProduct(t){return this.x*t.y-this.y*t.x}crossProductAbs(t){return(0,i.g)(0),0}rotateDirect(t,s){let e=this.x*t-this.y*s,i=this.x*s+this.y*t;this.x=e,this.y=i}rotateReverse(t,s){let e=this.x*t+this.y*s,i=-this.x*s+this.y*t;this.x=e,this.y=i}leftPerpendicularThis(){let t=this.x;this.x=-this.y,this.y=t}leftPerpendicularOther(t){let s=t.x;this.x=-t.y,this.y=s}rightPerpendicularThis(){let t=this.x;this.x=this.y,this.y=-t}rightPerpendicularOther(t){let s=t.x;this.x=t.y,this.y=-s}equals(t){return this.x===t.x&&this.y===t.y}notequals(t){return this.x!==t.x||this.y!==t.y}not(){return!this.x&&!this.y}gt(t){return this.y>t.y||this.y===t.y&&this.x>t.x}gte(t){return!this.lt(t)}lt(t){return this.y<t.y||this.y===t.y&&this.x<t.x}lte(t){return!this.gt(t)}subThis(t){return this.x-=t.x,this.y-=t.y,this}divThis(t){return this.x/=t,this.y/=t,this}add(t){return new sv(this.x+t.x,this.y+t.y)}sub(t){return new sv(this.x-t.x,this.y-t.y)}negateThis(){return this.x=-this.x,this.y=-this.y,this}negate(){return new sv(-this.x,-this.y)}mul(t){return new sv(this.x*t,this.y*t)}mulThis(t){return this.x*=t,this.y*=t,this}divide(t){return new sv(this.x/t,this.y/t)}setNAN(){this.x=this.y=Number.NaN}isNAN(){return Number.isNaN(this.x)||Number.isNaN(this.y)}static getNAN(){return new sv(Number.NaN,Number.NaN)}isFinite(){return Number.isFinite(this.x)&&Number.isFinite(this.y)}isZero(){return 0===this.x&&0===this.y}norm(t){switch(t){case 0:{let t=Math.abs(this.x),s=Math.abs(this.y),e=t-s;return e>=0?t:e<=0?s:Number.NaN}case 1:return Math.abs(this.x)+Math.abs(this.y);case 2:return Math.sqrt(this.x*this.x+this.y*this.y);default:(0,i.t)("norm")}}getQuarter(){return sv.getQuarterCoords(this.x,this.y)}static getQuarterCoords(t,s){return t>0?s>=0?1:4:s>0?2:0===t?4:3}static compareVectors(t,s){let e=t.getQuarter(),i=s.getQuarter();return i===e?sv.orientationRobustImpl(sv.construct(0,0),s,t,!0):e<i?-1:1}static compareVectorsOrigin(t,s,e){let i=s.sub(t),r=e.sub(t),n=i.getQuarter(),h=r.getQuarter();return h===n?sv.orientationRobustImpl(t,e,s,!0):n<h?-1:1}static orientationRobust(t,s,e){return sv.orientationRobustImpl(t,s,e,!1)}static orientationRobustEx(t,s,e,i){if(t.equals(s)||e.equals(i))return 0;let r=s.x-t.x,n=s.y-t.y,h=i.x-e.x,o=i.y-e.y;{let t=sv.getQuarterCoords(r,n)-1,s=sv.getQuarterCoords(h,o)-1,e=sv.d[t][s];if(0!==e)return e}let u=r*o,l=n*h,a=4*ss()*(Math.abs(u)+Math.abs(l)),m=u-l;return Math.abs(m)>=a?m<0?-1:+(m>0):sv.orientationRobustExMp(t,s,e,i)}static orientationRobustExMp(t,s,e,i){let r=sy.constructDouble(s.x),n=sy.constructDouble(i.x);r.subThis(sy.constructDouble(t.x)),n.subThis(sy.constructDouble(e.x));let h=sy.constructDouble(s.y),o=sy.constructDouble(i.y);return h.subThis(sy.constructDouble(t.y)),o.subThis(sy.constructDouble(e.y)),r.mulThis(o),h.mulThis(n),r.subThis(h),r.LZ()?-1:+!!r.GZ()}static orientationNonRobust(t,s,e){let i=s.sub(t).crossProduct(e.sub(t));return i<0?-1:+(i>0)}static orientationRobustImpl(t,s,e,i){if(s.isEqualPoint2D(t)||e.isEqualPoint2D(t)||s.isEqualPoint2D(e))return 0;let r=s.x-t.x,n=s.y-t.y,h=e.x-t.x,o=e.y-t.y;if(!i){let t=sv.getQuarterCoords(r,n)-1,s=sv.getQuarterCoords(h,o)-1,e=sv.d[t][s];if(0!==e)return e}let u=(Math.abs(r)+Math.abs(n)+Math.abs(h)+Math.abs(o))*(Math.abs(s.x)+Math.abs(s.y)+Math.abs(e.x)+Math.abs(e.y))*8*ss(),l=r*o-n*h;if(Math.abs(l)>u)return l<0?-1:1;if(x(s.x,t.x)&&x(e.y,t.y)&&x(s.y,t.y)&&x(e.x,t.x)&&y(r,o)&&y(n,h)){let t=r*o,s=n*h;if(x(t,s)){let e=t-s;return e<0?-1:+(e>0)}}return sv.orientationRobustMp(t,s,e)}static orientationRobustMp(t,s,e){let i=sy.constructDouble(s.x),r=sy.constructDouble(e.x);{let s=sy.constructDouble(t.x);i.subThis(s),r.subThis(s)}let n=sy.constructDouble(e.y),h=sy.constructDouble(s.y);{let s=sy.constructDouble(t.y);n.subThis(s),h.subThis(s)}return i.mulThis(n),h.mulThis(r),i.subThis(h),i.LZ()?-1:+!!i.GZ()}static inCircleRobust(t,s,e,i){let r=new m,n=new m;r.set(t.x),r.subThis(i.x),n.set(t.y),n.subThis(i.y);let h=new m,o=new m;h.set(s.x),h.subThis(i.x),o.set(s.y),o.subThis(i.y);let u=new m,l=new m;u.set(e.x),u.subThis(i.x),l.set(e.y),l.subThis(i.y);let a=r.mulE(o).subE(n.mulE(h)),y=h.mulE(l).subE(o.mulE(u)),c=r.mulE(l).subE(n.mulE(u)),x=r.mulE(r).addE(n.mulE(n)),f=h.mulE(h).addE(o.mulE(o)),d=u.mulE(u).addE(l.mulE(l)),b=x.mulE(y).subE(f.mulE(c)).addE(d.mulE(a));if(!b.isFuzzyZero()){let t=b.value();return t<0?-1:+(t>0)}return sv.inCircleRobustMp(t,s,e,i)}static inCircleRobustMp(t,s,e,i){do{if(!x(t.x,i.x)||!x(t.y,i.y)||!x(s.x,i.x)||!x(s.y,i.y)||!x(e.x,i.x)||!x(e.y,i.y))break;let r=t.x-i.x,n=t.y-i.y,h=s.x-i.x,o=s.y-i.y,u=e.x-i.x,l=e.y-i.y;if(!y(r,o)||!y(n,h)||!y(h,l)||!y(o,u)||!y(r,l)||!y(n,u)||!y(r,r)||!y(n,n)||!y(h,h)||!y(o,o)||!y(u,u)||!y(l,l))break;let a=r*o,m=n*h,f=h*l,d=o*u,b=r*l,v=n*u,_=r*r,w=n*n,N=h*h,p=o*o,M=u*u,g=l*l;if(!x(a,m)||!x(f,d)||!x(b,v)||!c(_,w)||!c(N,p)||!c(M,g))break;let C=a-m,T=f-d,R=b-v,E=_+w,I=N+p,P=M+g;if(!y(E,T)||!y(I,R)||!y(P,C))break;let D=E*T,A=I*R,q=P*C;if(!x(D,A))break;let z=D-A;if(!c(z,q))break;let S=z+q;return S<0?-1:+(S>0)}while(0);let r=sy.constructDouble(i.x),n=sy.constructDouble(i.y),h=sy.constructDouble(t.x),o=sy.constructDouble(t.y);h.subThis(r),o.subThis(n);let u=sy.constructDouble(s.x),l=sy.constructDouble(s.y);u.subThis(r),l.subThis(n);let a=sy.constructDouble(e.x),m=sy.constructDouble(e.y);a.subThis(r),m.subThis(n);let f=h.mul(l).sub(o.mul(u)),d=u.mul(m).sub(l.mul(a)),b=h.mul(m).sub(o.mul(a)),v=h.mul(h).add(o.mul(o)),_=u.mul(u).add(l.mul(l)),w=a.mul(a).add(m.mul(m)),N=v.mul(d).sub(_.mul(b)).add(w.mul(f));return N.LZ()?-1:+!!N.GZ()}static inCircleRobustMp3Point(t,s,e){let i=sy.constructDouble(t.x),r=sy.constructDouble(t.y),n=sy.constructDouble(s.x),h=sy.constructDouble(s.y),o=sy.constructDouble(e.x),u=sy.constructDouble(e.y),l=o.mul(o).add(u.mul(u)).sub(o.mul(i).add(u.mul(r)).add(o.mul(n)).add(u.mul(h))).add(i.mul(n).add(r.mul(h)));return l.LZ()?-1:+!!l.GZ()}static inCircleRobust3Point(t,s,e){let i=new m(t.x),r=new m(t.y),n=new m(s.x),h=new m(s.y),o=new m(e.x),u=new m(e.y),l=o.mulE(o).addE(u.mulE(u)).subE(o.mulE(i).addE(u.mulE(r)).addE(o.mulE(n)).addE(u.mulE(h))).addE(i.mulE(n).addE(r.mulE(h)));if(!l.isFuzzyZero()){let t=l.value();return t<0?-1:+(t>0)}return sv.inCircleRobustMp3Point(t,s,e)}static calculateCircleCenterFromThreePoints(t,s,e){if(t.equals(e)||t.equals(s)||e.equals(s))return sv.getNAN();let i=function(t,s,e){let i=new m(s.x);i.subThis(t.x);let r=new m(s.y);r.subThis(t.y);let n=new m(e.x);n.subThis(t.x);let h=new m(e.y);h.subThis(t.y);let o=i.clone();o.mulThisE(h);let u=r.clone();if(u.mulThisE(n),o.subThisE(u),0===o.value())return sv.getNAN();o.mulThis(2);let l=i.clone();l.mulThisE(i);let a=r.clone();a.mulThisE(r);let y=l.clone();y.addThisE(a);let c=n.clone();c.mulThisE(n);let x=h.clone();x.mulThisE(h);let f=c.clone();f.addThisE(x);let d=r.clone();d.mulThisE(f),(u=h.clone()).mulThisE(y),d.subThisE(u),d.divThisE(o);let b=i.clone();b.mulThisE(f),(u=n.clone()).mulThisE(y),b.subThisE(u),b.divThisE(o);let v=sv.construct(t.x-d.value(),t.y+b.value()),_=t.sub(v).length(),w=s.sub(v).length(),N=e.sub(v).length(),p=1e-15*(_+Math.abs(t.x)+Math.abs(s.x)+Math.abs(e.x)+Math.abs(t.y)+Math.abs(s.y)+Math.abs(e.y));return Math.abs(_-w)<=p&&Math.abs(_-N)<=p&&d.eps()<p&&b.eps()<p?v:sv.getNAN()}(t,s,e);return i.isNAN()?function(t,s,e){let i=sy.constructDouble(s.x);i.subDoubleThis(t.x);let r=sy.constructDouble(s.y);r.subDoubleThis(t.y);let n=sy.constructDouble(e.x);n.subDoubleThis(t.x);let h=sy.constructDouble(e.y);h.subDoubleThis(t.y);let o=i.clone();o.mulThis(h);let u=r.clone();if(u.mulThis(n),o.subThis(u),o.isZero())return sv.getNAN();o.mulDoubleThis(2);let l=i.clone();l.mulThis(i);let a=r.clone();a.mulThis(r);let m=l.clone();m.addThis(a);let y=n.clone();y.mulThis(n);let c=h.clone();c.mulThis(h);let x=y.clone();x.addThis(c);let f=r.clone();f.mulThis(x),(u=h.clone()).mulThis(m),f.subThis(u),f.divThis(o);let d=i.clone();return d.mulThis(x),(u=n.clone()).mulThis(m),d.subThis(u),d.divThis(o),sv.construct(t.x-f.value(),t.y+d.value())}(t,s,e):i}static calculateAngle(t,s){return Math.atan2(t.crossProduct(s),t.dotProduct(s))}static isBisectorRobust(t,s,e){return(0,i.g)(0),!1}static size(){return 2}get 0(){return this.x}get 1(){return this.y}set 0(t){this.x=t}set 1(t){this.y=t}static compareZorder(t,s){let e=sv.c_compare_zorder_xx[+(t.x<0)]|sv.c_compare_zorder_yy[+(t.y<0)],i=sv.c_compare_zorder_xx[+(s.x<0)]|sv.c_compare_zorder_yy[+(s.y<0)];if(e===i){let e=0,i=0;for(let r=0;r<2;++r){let n=function(t,s){let e=tL(t),i=tL(s);if(e===i){var r,n,o,u;let i,l;return e-(53-(r=tG(t),n=tG(s),i=0,0xffffffff00000000n&(o=r^n)&&(i=32,o>>=32n),i+(l=0,4294901760n&(u=o)&&(l+=16,u>>=16n),65280n&u&&(l+=8,u>>=8n),240n&u&&(l+=4,u>>=4n),l+h[Number(BigInt.asUintN(4,u))]+1)))}return e>i?e:i}(t[r],s[r]);n>e&&(e=n,i=r)}return t[i]<s[i]}return e<i}static lerp(t,s,e){let i=new sv;return z(t,s,e,i),i}static getClosestCoordinate(t,s,e,i=!1){let r=sv.getNAN();r.setSub(s,t);let n=r.sqrLength();if(0===n)return .5;if(s.isEqualPoint2D(e))return 1;let h=sv.getNAN();h.setSub(e,t);let o=h.dotProduct(r)/n;return i||(o<0?o=0:o>1&&(o=1)),o}static intersectLinesAtOnePoint(t,s,e,i){if(t.equals(s)||e.equals(i))return sv.getNAN();let r=s.x-t.x,n=e.x-i.x,h=s.y-t.y,o=e.y-i.y,u=r*o-n*h;if(!u||0===u)return sv.getNAN();let l=(e.x-t.x)*o-(e.y-t.y)*n;l/=u;let a=new sv;return z(t,s,l,a),a.isFinite()?a:sv.getNAN()}toString(){return`[${this.x},${this.y}]`}}sv.dimensions=2,sv.d=[[0,1,0,-1],[-1,0,1,0],[0,-1,0,1],[1,0,-1,0]],sv.c_compare_zorder_xx=[2,0],sv.c_compare_zorder_yy=[1,0]}}]);